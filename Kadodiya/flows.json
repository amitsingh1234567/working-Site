[{"id":"7501a6af.8e47f8","type":"tab","label":"Kadodiya","disabled":false,"info":""},{"id":"5c893d06.8455e4","type":"comment","z":"7501a6af.8e47f8","name":"**************************************  RS-485 Converter Section  **************************************","info":"","x":700,"y":40,"wires":[]},{"id":"bd32f413.65ecb8","type":"catch","z":"7501a6af.8e47f8","name":"","scope":null,"uncaught":false,"x":200,"y":140,"wires":[["53d7d179.0731f","736e5fea.6a13a"]]},{"id":"fc353e3b.20da7","type":"switch","z":"7501a6af.8e47f8","name":"","property":"error_Status","propertyType":"msg","rules":[{"t":"eq","v":"retry","vt":"str"},{"t":"eq","v":"moveOnNextDevice","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":260,"y":300,"wires":[["73522065.3843c"],["ff066ce0.c363b"]]},{"id":"73522065.3843c","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"2500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":508,"y":260,"wires":[["cf1b9c86.d0108"]]},{"id":"ff066ce0.c363b","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"2500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":508,"y":340,"wires":[["3bad2e18.25df62"]]},{"id":"cf1b9c86.d0108","type":"function","z":"7501a6af.8e47f8","name":"","func":"node.warn('Retry to Read')\n// node.warn(global.get('deviceProfile_30_Index'))\n// node.warn(global.get('deviceProfile_30_ReadIndex'))\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":685,"y":261,"wires":[["ef1b0964.12b718"]]},{"id":"3bad2e18.25df62","type":"function","z":"7501a6af.8e47f8","name":"","func":"// node.warn('Move On Next Device')\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":682,"y":340,"wires":[["ef1b0964.12b718"]]},{"id":"d4570c41.ef31f","type":"function","z":"7501a6af.8e47f8","name":"Error Frunction","func":"\nvar displayError = (deviceProfile, deviceProfile_Index) => {\n    node.warn('displayError')\n    msg.display_Error = 'displayError';\n    let device_Profile = global.get(deviceProfile);\n    let index = global.get(deviceProfile_Index);\n    let profile = device_Profile[index];\n    \n    let data = null;\n    let deviceType = profile.deviceProfile.deviceType;\n    let plantId = profile.plantId;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": data,\n        \"TimeStamp\": dateTime,\n        \"Error\": 1,\n     }\n    }\n}  \n\nvar moveOnNextDevice = (\n            deviceProfile_StoreData,\n            deviceProfile,\n            stop_to_read_deviceProfile_dataPacket,\n            deviceProfile_Count,\n            deviceProfile_Index,\n            deviceProfile_ReadIndex,\n            stop_deviceProfile\n            ) => {\n    node.warn('moveOnNextDevice')\n    msg.error_Status = 'moveOnNextDevice';\n    global.set(deviceProfile_StoreData, []);\n    let device_profile = global.get(deviceProfile);\n    let number_of_device = device_profile.length;\n    \n    global.set(stop_to_read_deviceProfile_dataPacket, false);\n    let deviceCount =  global.get(deviceProfile_Count);\n    deviceCount += 1;\n    global.set(deviceProfile_Count, deviceCount);\n    \n    let index = global.get(deviceProfile_Index);\n    index += 1;\n    global.set(deviceProfile_Index, index);\n    global.set(deviceProfile_ReadIndex, 0);\n    \n    if(deviceCount == number_of_device){\n        node.warn('number_of_device If condition');\n        msg.error_Status = '';\n        global.set(deviceProfile_Count, null);\n        global.set(stop_deviceProfile, false);\n        global.set(stop_to_read_deviceProfile_dataPacket, false);\n    }\n}\n\nlet retryToRead = (\n        deviceProfile_Index,\n        deviceProfile_dataPacket_Count,\n        deviceProfile_errorCount,\n        deviceProfile_StoreData,\n        deviceProfile_ReadIndex,\n        deviceProfile,\n        stop_to_read_deviceProfile_dataPacket,\n        deviceProfile_Count,\n        stop_deviceProfile\n        )  => {\n        let index = global.get(deviceProfile_Index);\n        \n        global.set(deviceProfile_dataPacket_Count, null);\n        \n        // displayError(deviceProfile, deviceProfile_Index);\n            \n            // Calling MoveOnNextDevice Function\n            // moveOnNextDevice(\n            //     deviceProfile_StoreData,\n            //     deviceProfile,\n            //     stop_to_read_deviceProfile_dataPacket,\n            //     deviceProfile_Count,\n            //     deviceProfile_Index,\n            //     deviceProfile_ReadIndex,\n            //     stop_deviceProfile\n            // );\n        \n        let errorCount = global.get(deviceProfile_errorCount) || 0;\n        errorCount += 1;\n        // node.warn(errorCount + ' errorCount')**\n        global.set(deviceProfile_errorCount, errorCount);\n        \n        if(errorCount == 1){\n            // node.warn('If Block')**\n            // node.warn(errorCount + ' errorCount')**\n            global.set(deviceProfile_StoreData, []);\n            msg.error_Status = 'retry';\n            global.set(stop_to_read_deviceProfile_dataPacket, true);\n            global.set(deviceProfile_Index, index);\n            global.set(deviceProfile_ReadIndex, 0);   \n        }else {\n            // node.warn('else')\n            // node.warn(errorCount + ' errorCount')**\n            displayError(deviceProfile, deviceProfile_Index);\n            global.set(deviceProfile_errorCount, null);\n            \n            // Calling MoveOnNextDevice Function\n            moveOnNextDevice(\n                deviceProfile_StoreData,\n                deviceProfile,\n                stop_to_read_deviceProfile_dataPacket,\n                deviceProfile_Count,\n                deviceProfile_Index,\n                deviceProfile_ReadIndex,\n                stop_deviceProfile\n            );\n        }\n    }\n\n\nlet deviceProfile_ErrorConfig = (number) => {\n        // For RetryToRead function Configration\n        let deviceProfile_Index = `deviceProfile_${number}_Index`;\n        let deviceProfile_dataPacket_Count = `deviceProfile_${number}_dataPacket_Count`;\n        let deviceProfile_errorCount = `deviceProfile_${number}_errorCount`;\n        let deviceProfile_StoreData = `deviceProfile_${number}_StoreData`;\n        let deviceProfile_ReadIndex = `deviceProfile_${number}_ReadIndex`;\n        \n        // For DisplayError function Configration\n        let deviceProfile = `deviceProfile_${number}`;\n        \n        // For MoveOnNextDevice function Configration\n        let stop_to_read_deviceProfile_dataPacket = `stop_to_read_deviceProfile_${number}_dataPacket`;\n        let deviceProfile_Count = `deviceProfile_${number}_Count`;\n        let stop_deviceProfile = `stop_deviceProfile_${number}`;\n        \n        // Calling RetryToRead\n        retryToRead(\n            deviceProfile_Index,\n            deviceProfile_dataPacket_Count,\n            deviceProfile_errorCount,\n            deviceProfile_StoreData,\n            deviceProfile_ReadIndex,\n            deviceProfile,\n            stop_to_read_deviceProfile_dataPacket,\n            deviceProfile_Count,\n            stop_deviceProfile\n        );\n}\n\n\nvar identity_Node_To_Pink_RetryOrMoveOnNextDevice = (number) => {\n         if(msg.error_Status == 'retry'){\n            msg.retry_or_moveOnNextDevice = `RD_Profile${number}`;\n        }\n        if(msg.error_Status == 'moveOnNextDevice'){\n            msg.retry_or_moveOnNextDevice = `RD_Profile${number}`;\n        }\n}\n\nif(msg.error.source.name == \"192.168.10.128\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n        \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-1\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-1');\n        deviceProfile_ErrorConfig(1);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(1);\n    }\n    \n    // Inverter-2\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-2');\n        deviceProfile_ErrorConfig(1);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(1);\n    }\n    // Meter-1\n    if(slaveID == 3){\n        node.warn('Error Occur in MET-1');\n        deviceProfile_ErrorConfig(1);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(1);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.211\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-3\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-3');\n        deviceProfile_ErrorConfig(2);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(2);\n    }\n    \n    // Inverter-4\n    if(slaveID == 3){\n        node.warn('Error Occur in INV-4');\n        deviceProfile_ErrorConfig(2);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(2);\n    }\n    \n    // MET-1\n    if(slaveID == 2){\n        node.warn('Error Occur in MET-1');\n        deviceProfile_ErrorConfig(2);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(2);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.214\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-5\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-5');\n        deviceProfile_ErrorConfig(3);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(3);\n    }\n    \n    // Inverter-6\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-6');\n        deviceProfile_ErrorConfig(3);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(3);\n    }\n    \n    // MET-6\n    if(slaveID == 3){\n        node.warn('Error Occur in MET-1');\n        deviceProfile_ErrorConfig(3);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(3);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.212\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 3){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(4);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(4);\n    }\n    \n    // Inverter-8\n    if(slaveID == 4){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(4);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(4);\n    }\n    \n    if(slaveID == 5){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(4);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(4);\n    }\n    \n    if(slaveID == 2){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(4);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(4);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.213\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 6){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(5);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(5);\n    }\n    \n    // Inverter-8\n    if(slaveID == 7){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(5);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(5);\n    }\n    \n    // Inverter-8\n    if(slaveID == 8){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(5);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(5);\n    }\n    \n    // Inverter-8\n    if(slaveID == 5){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(5);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(5);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.117\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(6);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(6);\n    }\n    \n    // Inverter-8\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(6);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(6);\n    }\n    \n    // Inverter-8\n    if(slaveID == 3){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(6);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(6);\n    }\n    \n    // Inverter-8\n    if(slaveID == 4){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(6);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(6);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.116\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(7);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(7);\n    }\n    \n    // Inverter-8\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(7);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(7);\n    }\n    \n    if(slaveID == 3){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(7);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(7);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.113\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(8);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(8);\n    }\n    \n    // Inverter-8\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(8);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(8);\n    }\n    \n    // Inverter-8\n    if(slaveID == 3){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(8);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(8);\n    }\n    \n    // Inverter-8\n    if(slaveID == 4){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(8);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(8);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.122\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(9);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(9);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.123\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(10);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(10);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.124\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(11);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(11);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.118\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(12);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(12);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.121\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(13);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(13);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.111\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(14);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(14);\n    }\n    \n    // Inverter-8\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(14);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(14);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.125\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 4){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(15);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(15);\n    }\n    \n    // Inverter-8\n    if(slaveID == 5){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(15);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(15);\n    }\n    \n    // Inverter-8\n    if(slaveID == 6){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(15);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(15);\n    }\n    \n    // Inverter-8\n    if(slaveID == 7){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(15);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(15);\n    }\n    \n    // Inverter-8\n    if(slaveID == 8){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(15);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(15);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.115\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 3){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(16);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(16);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.126\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(17);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(17);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.112\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(18);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(18);\n    }\n    \n    // Inverter-7\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(18);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(18);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.114\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(19);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(19);\n    }\n    \n    // Inverter-7\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(19);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(19);\n    }\n    \n    // Inverter-7\n    if(slaveID == 3){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(19);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(19);\n    }\n    \n    // Inverter-7\n    if(slaveID == 4){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(19);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(19);\n    }\n    \n    // Inverter-7\n    if(slaveID == 5){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(19);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(19);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.119\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(20);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(20);\n    }\n    \n    // Inverter-7\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(20);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(20);\n    }\n}\n}\n\nif(msg.error.source.name == \"192.168.10.127\"){\n    if(msg.error.message == \"[object Object]\" || msg.error.message == \"Error: Timed out\" || msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    // Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(21);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(21);\n    }\n    \n    // Inverter-7\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(21);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(21);\n    }\n}\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":703,"y":140,"wires":[["75bf24aa.97b5cc","fc353e3b.20da7"]]},{"id":"53d7d179.0731f","type":"debug","z":"7501a6af.8e47f8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":170,"y":2020,"wires":[]},{"id":"736e5fea.6a13a","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":480,"y":140,"wires":[["d4570c41.ef31f"]]},{"id":"75bf24aa.97b5cc","type":"switch","z":"7501a6af.8e47f8","name":"Display Error","property":"display_Error","propertyType":"msg","rules":[{"t":"eq","v":"displayError","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":930,"y":140,"wires":[["28a4ea5d.c27fe6","daddfb73.607e08"]]},{"id":"28a4ea5d.c27fe6","type":"debug","z":"7501a6af.8e47f8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":1170,"y":140,"wires":[]},{"id":"ef1b0964.12b718","type":"switch","z":"7501a6af.8e47f8","name":"","property":"retry_or_moveOnNextDevice","propertyType":"msg","rules":[{"t":"eq","v":"RD_Profile1","vt":"str"},{"t":"eq","v":"RD_Profile2","vt":"str"},{"t":"eq","v":"RD_Profile3","vt":"str"},{"t":"eq","v":"RD_Profile4","vt":"str"},{"t":"eq","v":"RD_Profile5","vt":"str"},{"t":"eq","v":"RD_Profile6","vt":"str"},{"t":"eq","v":"RD_Profile7","vt":"str"},{"t":"eq","v":"RD_Profile8","vt":"str"},{"t":"eq","v":"RD_Profile9","vt":"str"},{"t":"eq","v":"RD_Profile10","vt":"str"},{"t":"eq","v":"RD_Profile11","vt":"str"},{"t":"eq","v":"RD_Profile12","vt":"str"},{"t":"eq","v":"RD_Profile13","vt":"str"},{"t":"eq","v":"RD_Profile14","vt":"str"},{"t":"eq","v":"RD_Profile15","vt":"str"},{"t":"eq","v":"RD_Profile16","vt":"str"},{"t":"eq","v":"RD_Profile17","vt":"str"},{"t":"eq","v":"RD_Profile18","vt":"str"},{"t":"eq","v":"RD_Profile19","vt":"str"},{"t":"eq","v":"RD_Profile20","vt":"str"},{"t":"eq","v":"RD_Profile21","vt":"str"}],"checkall":"true","repair":false,"outputs":21,"x":1090,"y":400,"wires":[["177d47cc.07b778"],["31997f5e.b6e8c"],["89ecb9a2.5565c8"],["ec1662f0.46f52"],["b42d1ae.67698e8"],["1245cfba.095aa"],["360b00bb.acf9a"],["61a510e3.71aef"],["c86649a2.416b28"],["436cb241.23f25c"],["299473d8.db8f1c"],["57bff23c.989b2c"],["453fcd88.15f524"],["75242cc8.443f84"],["42c29f09.0b187"],["af2c6156.714c4"],["b4c5f57b.fea348"],["f8ef4aca.ab7808"],["e614d746.94dba8"],["8c5a7455.5538d8"],["8c0464f0.971b38"]]},{"id":"1de9adb5.8e7122","type":"function","z":"7501a6af.8e47f8","name":"Dp-1 INV-2, MET-1 Fluidcon","func":"var deviceProfile_1 = [\n    {    \n        plantId: 221,\n        deviceName: \"Inverter-1 ABB PVS 800\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 52\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 103,\n                        quantity: 2\n                    },\n                    // {\n                    //     fc: 3,\n                    //     address: 111,\n                    //     quantity: 3\n                    // },\n                    // {\n                    //     fc: 3,\n                    //     address: 116,\n                    //     quantity: 13\n                    // }\n                ]\n        }\n    },\n//   {    \n//         plantId: 221,\n//         deviceName: \"Inverter-2 ABB PVS 800\",\n//         deviceProfile: {\n//             deviceNo: 2,\n//             deviceType: 52\n//         },\n//         read: {\n//             slaveID: 2,\n//              regAdd: [\n//                     {\n//                         fc: 3,\n//                         address: 103,\n//                         quantity: 7\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 111,\n//                         quantity: 3\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 116,\n//                         quantity: 13\n//                     }\n//                 ]\n//         }\n//     },\n//     {    \n//         plantId: 221,\n//         deviceName: \"MET-1 EM6430\",\n//         deviceProfile: {\n//             deviceNo: 1,\n//             deviceType: 184\n//         },\n//         read: {\n//             slaveID: 3,\n//              regAdd: [\n//                     {\n//                         fc: 3,\n//                         address: 3912,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3928,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3942,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3956,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3902,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3918,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3932,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3946,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3900,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3916,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3930,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3944,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3914,\n//                         quantity: 2\n//                     },\n//                     {\n//                         fc: 3,\n//                         address: 3958,\n//                         quantity: 4\n//                     }\n//                 ]\n//         }\n//     }\n    ]\n\nglobal.set('deviceProfile_1', deviceProfile_1);\nglobal.set('deviceProfile_1_Index', 0);\nglobal.set('deviceProfile_1_ReadIndex', 0);\nglobal.set('deviceProfile_1_StoreData', []);\nglobal.set(\"deviceProfile_1_Count\", 0);\nglobal.set(\"deviceProfile_1_dataPacket_Count\", null);\n// global.set('deviceProfile_1_errorCount', null);\n// node.warn(deviceProfile_1)\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":708,"y":1641,"wires":[["177d47cc.07b778"]]},{"id":"177d47cc.07b778","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-1","func":"var readData = (fc, slaveID, address, quantity) => {\n    node.warn(`------> fc ${fc}`)\n    node.warn(`------> slaveID ${slaveID}`)\n    node.warn(`------> address ${address}`)\n    node.warn(`------> quantity ${quantity}`)\n    \n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_Profile = global.get('deviceProfile_1');\nvar index = global.get('deviceProfile_1_Index');\nvar profile = device_Profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_1_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\n// var fc = 3\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_1', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1099,"y":1640,"wires":[["6baf3cc3.0bf8a4"]]},{"id":"6baf3cc3.0bf8a4","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.128","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"13652b19.80c9b5","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1340,"y":1640,"wires":[["927cf5dd.cae448"],[]]},{"id":"927cf5dd.cae448","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1517,"y":1637,"wires":[["aa1bfca7.e676e"]]},{"id":"aa1bfca7.e676e","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1738,"y":1639,"wires":[["d2c8cbd5.8cf498"]]},{"id":"d2c8cbd5.8cf498","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-1","func":"node.warn(\"///////////////////////////////////////////\")\nvar device_profile = global.get('deviceProfile_1');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_1_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_1_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_1_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_1_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_1_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-1')\n    global.set('deviceProfile_1_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_1_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n        \"DataLength\": data.length\n     }\n    }\n    global.set('deviceProfile_1_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_1_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_1_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_1_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_1_ReadIndex', index);  \n  global.set('stop_deviceProfile_1', false);\n  global.set('stop_to_read_deviceProfile_1_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_1_dataPacket', false);\n    global.set('deviceProfile_1_ReadIndex', 0);\n    global.set(\"deviceProfile_1_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_1', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_1_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_1_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_1_Index');\n        index += 1;\n        global.set('deviceProfile_1_Index', index);\n        global.set('stop_deviceProfile_1', true);\n        global.set('stop_to_read_deviceProfile_1_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_1_dataPacket', false);\n        global.set('stop_deviceProfile_1', false);\n        global.set('deviceProfile_1_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2017,"y":1639,"wires":[["4cdb0e68.c32f7"]]},{"id":"4cdb0e68.c32f7","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_1","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2229,"y":1641,"wires":[["e89db21f.24616","daddfb73.607e08"]]},{"id":"24731975.9cb486","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-1","scope":["d2c8cbd5.8cf498"],"uncaught":false,"x":680,"y":400,"wires":[["2ec9868d.94820a"]]},{"id":"2ec9868d.94820a","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_1","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":400,"wires":[["177d47cc.07b778"]]},{"id":"e59277de.6c4868","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-1","scope":["d2c8cbd5.8cf498"],"uncaught":false,"x":682,"y":2980,"wires":[["4cf4a310.117aec"]]},{"id":"4cf4a310.117aec","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_1_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":857,"y":2980,"wires":[["177d47cc.07b778"]]},{"id":"d399d2f6.2b0b3","type":"function","z":"7501a6af.8e47f8","name":"Dp-2 INV-2, MET-1 Settal","func":"var deviceProfile_2 = [\n   {    \n        plantId: 222,\n        deviceName: \"Inverter-1 AEG\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 222,\n        deviceName: \"MET-1 EM3460\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_2', deviceProfile_2);\nglobal.set('deviceProfile_2_Index', 0);\nglobal.set('deviceProfile_2_ReadIndex', 0);\nglobal.set('deviceProfile_2_StoreData', []);\nglobal.set(\"deviceProfile_2_Count\", 0); \nglobal.set(\"deviceProfile_2_dataPacket_Count\", null);\n// global.set('deviceProfile_2_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":698,"y":1701,"wires":[["31997f5e.b6e8c"]]},{"id":"31997f5e.b6e8c","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-2","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_2');\nvar index = global.get('deviceProfile_2_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_2_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_2', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1099,"y":1700,"wires":[["16ca89ea.7de006"]]},{"id":"16ca89ea.7de006","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.211","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"c1c5fb06.b9eba8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1336,"y":1700,"wires":[["609a643.ae7d09c"],[]]},{"id":"609a643.ae7d09c","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1515,"y":1700,"wires":[["fcc5b7d8.105a68"]]},{"id":"fcc5b7d8.105a68","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":1700,"wires":[["359cb99f.6c0df6"]]},{"id":"359cb99f.6c0df6","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-2","func":"var device_profile = global.get('deviceProfile_2');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_2_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_2_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_2_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_2_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_2_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_2_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_2_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_2_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_2_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_2_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_2_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_2_ReadIndex', index);  \n  global.set('stop_deviceProfile_2', false);\n  global.set('stop_to_read_deviceProfile_2_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_2_dataPacket', false);\n    global.set('deviceProfile_2_ReadIndex', 0);\n    global.set(\"deviceProfile_2_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_2', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_2_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_2_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_2_Index');\n        index += 1;\n        global.set('deviceProfile_2_Index', index);\n        global.set('stop_deviceProfile_2', true);\n        global.set('stop_to_read_deviceProfile_2_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_2_dataPacket', false);\n        global.set('stop_deviceProfile_2', false);\n        global.set('deviceProfile_2_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2019,"y":1700,"wires":[["6bc70145.d1104"]]},{"id":"6bc70145.d1104","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_2","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2229,"y":1701,"wires":[["14fc85.88c9137b","daddfb73.607e08"]]},{"id":"571c3213.382fbc","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-2","scope":["359cb99f.6c0df6"],"uncaught":false,"x":682,"y":3040,"wires":[["58772ec9.ff909"]]},{"id":"58772ec9.ff909","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_2_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":857,"y":3040,"wires":[["31997f5e.b6e8c"]]},{"id":"5b7346a8.d54858","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-2","scope":["359cb99f.6c0df6"],"uncaught":false,"x":682,"y":455,"wires":[["38332277.3663de"]]},{"id":"38332277.3663de","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_2","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":455,"wires":[["31997f5e.b6e8c"]]},{"id":"daddfb73.607e08","type":"change","z":"7501a6af.8e47f8","name":"","rules":[{"t":"set","p":"deviceType","pt":"msg","to":"payloadData.request.DeviceType","tot":"msg"},{"t":"set","p":"deviceNo","pt":"msg","to":"payloadData.request.DeviceNo","tot":"msg"},{"t":"set","p":"errFlag","pt":"msg","to":"payloadData.request.Error","tot":"msg"},{"t":"set","p":"timeStamp","pt":"msg","to":"payloadData.request.TimeStamp","tot":"msg"},{"t":"set","p":"data","pt":"msg","to":"payloadData.request.Data","tot":"msg"},{"t":"set","p":"plantId","pt":"msg","to":"payloadData.request.PlantID","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":1340,"wires":[["c405007f.f145d"]]},{"id":"21022388.b8155c","type":"debug","z":"7501a6af.8e47f8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1670,"y":1220,"wires":[]},{"id":"c405007f.f145d","type":"http request","z":"7501a6af.8e47f8","name":"","method":"POST","ret":"txt","paytoqs":"ignore","url":"http://127.0.0.1/rms/api/insertData?LD=1,{{{plantId}}},{{{deviceType}}},{{{deviceNo}}},{{{errFlag}}},{{{timeStamp}}}&ID={{{data}}}","tls":"","persist":false,"proxy":"","authType":"","x":2410,"y":1260,"wires":[["21022388.b8155c"]]},{"id":"48fc8d5c.aebb94","type":"inject","z":"7501a6af.8e47f8","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"60","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":270,"y":2240,"wires":[["8db8382c.10aee8","25c153b8.2d6adc","a18af542.84f3a8","68d4d22f.e83b1c","2d98002c.87d79","f84e948e.c7c3f8","2a9740bb.63561","c3c5c647.c8fb98","2bedd730.d43698","6d639802.446828","c3dfc442.1fd388","de149ac6.e673e8","1069c445.6fbafc","5e1b656d.c6a3ac","11ffb13a.faf52f","d399d2f6.2b0b3","b55e7f6d.b0164","68babdcf.315c34","9239e9e1.4c4b58","4af01924.734bb8"]]},{"id":"11ffb13a.faf52f","type":"function","z":"7501a6af.8e47f8","name":"Dp-3 INV-2, MET-1, Hamgiri","func":"var deviceProfile_3 = [\n    {    \n        plantId: 224,\n        deviceName: \"Inverter-1 AEG\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 224,\n        deviceName: \"Inverter-2 AEG\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 224,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_3', deviceProfile_3);\nglobal.set('deviceProfile_3_Index', 0);\nglobal.set('deviceProfile_3_ReadIndex', 0);\nglobal.set('deviceProfile_3_StoreData', []);\nglobal.set(\"deviceProfile_3_Count\", 0); \nglobal.set(\"deviceProfile_3_dataPacket_Count\", null);\n// global.set('deviceProfile_3_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":708,"y":1761,"wires":[["89ecb9a2.5565c8"]]},{"id":"89ecb9a2.5565c8","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-3","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_3');\nvar index = global.get('deviceProfile_3_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_3_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_3', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1099,"y":1760,"wires":[["c1f26cb4.005d9"]]},{"id":"c1f26cb4.005d9","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.214","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"a28736a9.d39dd8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1336,"y":1760,"wires":[["158236bc.240ce9"],[]]},{"id":"158236bc.240ce9","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1515,"y":1760,"wires":[["df9f1417.fea928"]]},{"id":"df9f1417.fea928","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":1760,"wires":[["2ff6a3cc.a7d20c"]]},{"id":"2ff6a3cc.a7d20c","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-3","func":"var device_profile = global.get('deviceProfile_3');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_3_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_3_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_3_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_3_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_3_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_3_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_3_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_3_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_3_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_3_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_3_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_3_ReadIndex', index);  \n  global.set('stop_deviceProfile_3', false);\n  global.set('stop_to_read_deviceProfile_3_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_3_dataPacket', false);\n    global.set('deviceProfile_3_ReadIndex', 0);\n    global.set(\"deviceProfile_3_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_3', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_3_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_3_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_3_Index');\n        index += 1;\n        global.set('deviceProfile_3_Index', index);\n        global.set('stop_deviceProfile_3', true);\n        global.set('stop_to_read_deviceProfile_3_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_3_dataPacket', false);\n        global.set('stop_deviceProfile_3', false);\n        global.set('deviceProfile_3_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2019,"y":1760,"wires":[["6132e323.55269c"]]},{"id":"6132e323.55269c","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_3","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2229,"y":1761,"wires":[["e70f4298.e847b","daddfb73.607e08"]]},{"id":"995497af.888bd8","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-3","scope":["2ff6a3cc.a7d20c"],"uncaught":false,"x":681,"y":508,"wires":[["a8e020a1.63705"]]},{"id":"a8e020a1.63705","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_3","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":508,"wires":[["89ecb9a2.5565c8"]]},{"id":"e374c7f.f98fb38","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-3","scope":["2ff6a3cc.a7d20c"],"uncaught":false,"x":683,"y":3100,"wires":[["a55ff007.6c3f7"]]},{"id":"a55ff007.6c3f7","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_3_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":862,"y":3100,"wires":[["89ecb9a2.5565c8"]]},{"id":"e70f4298.e847b","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2381,"y":1760,"wires":[]},{"id":"14fc85.88c9137b","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2381,"y":1700,"wires":[]},{"id":"e89db21f.24616","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.141","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2380,"y":1639,"wires":[]},{"id":"5e1b656d.c6a3ac","type":"function","z":"7501a6af.8e47f8","name":"Dp-4 INV-3 MET-1, Hamgiri","func":"var deviceProfile_4 = [\n    {    \n        plantId: 224,\n        deviceName: \"Inverter-1 AEG\",\n        deviceProfile: {\n            deviceNo: 3,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 224,\n        deviceName: \"Inverter-2 AEG\",\n        deviceProfile: {\n            deviceNo: 4,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 4,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 224,\n        deviceName: \"Inverter-3 AEG\",\n        deviceProfile: {\n            deviceNo: 5,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 5,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 224,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n    \n]\n\nglobal.set('deviceProfile_4', deviceProfile_4);\nglobal.set('deviceProfile_4_Index', 0);\nglobal.set('deviceProfile_4_ReadIndex', 0);\nglobal.set('deviceProfile_4_StoreData', []);\nglobal.set(\"deviceProfile_4_Count\", 0); \nglobal.set(\"deviceProfile_4_dataPacket_Count\", null);\n// global.set('deviceProfile_4_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":708,"y":1821,"wires":[["ec1662f0.46f52"]]},{"id":"ec1662f0.46f52","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-4","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_4');\nvar index = global.get('deviceProfile_4_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_4_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_4', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1099,"y":1820,"wires":[["87ec4a35.1a4068"]]},{"id":"87ec4a35.1a4068","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.212","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"c7d0992a.f7a108","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":1820,"wires":[["854381dd.edf6"],[]]},{"id":"854381dd.edf6","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1515,"y":1820,"wires":[["f1ea57e6.995098"]]},{"id":"f1ea57e6.995098","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":1820,"wires":[["9390f3ce.deae4"]]},{"id":"9390f3ce.deae4","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-4","func":"var device_profile = global.get('deviceProfile_4');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_4_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_4_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_4_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_4_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_4_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_4_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_4_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_4_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_4_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_4_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_4_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_4_ReadIndex', index);  \n  global.set('stop_deviceProfile_4', false);\n  global.set('stop_to_read_deviceProfile_4_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_4_dataPacket', false);\n    global.set('deviceProfile_4_ReadIndex', 0);\n    global.set(\"deviceProfile_4_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_4', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_4_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_4_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_4_Index');\n        index += 1;\n        global.set('deviceProfile_4_Index', index);\n        global.set('stop_deviceProfile_4', true);\n        global.set('stop_to_read_deviceProfile_4_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_4_dataPacket', false);\n        global.set('stop_deviceProfile_4', false);\n        global.set('deviceProfile_4_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2019,"y":1820,"wires":[["9eb6c5f9.f9eac8"]]},{"id":"9eb6c5f9.f9eac8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_4","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2229,"y":1821,"wires":[["d21907be.ac5568","daddfb73.607e08"]]},{"id":"d21907be.ac5568","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2381,"y":1820,"wires":[]},{"id":"4da5ea02.c67654","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-4","scope":["9390f3ce.deae4"],"uncaught":false,"x":682,"y":564,"wires":[["a0a13a7e.9a8ed8"]]},{"id":"a0a13a7e.9a8ed8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_4","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":842,"y":564,"wires":[["ec1662f0.46f52"]]},{"id":"ffbbe225.7ece","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-4","scope":["9390f3ce.deae4"],"uncaught":false,"x":682,"y":3157,"wires":[["cd922d25.44236"]]},{"id":"cd922d25.44236","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_4_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":861,"y":3157,"wires":[["ec1662f0.46f52"]]},{"id":"1069c445.6fbafc","type":"function","z":"7501a6af.8e47f8","name":"Dp-5 INV-3, MET-1, Himgiri","func":"var deviceProfile_5 = [\n    {    \n        plantId: 224,\n        deviceName: \"Inverter-1 AEG\",\n        deviceProfile: {\n            deviceNo: 6,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 6,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 224,\n        deviceName: \"Inverter-2 AEG\",\n        deviceProfile: {\n            deviceNo: 7,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 7,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 224,\n        deviceName: \"Inverter-3 AEG\",\n        deviceProfile: {\n            deviceNo: 8,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 8,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 224,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 3,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 5,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n    \n]\n\nglobal.set('deviceProfile_5', deviceProfile_5);\nglobal.set('deviceProfile_5_Index', 0);\nglobal.set('deviceProfile_5_ReadIndex', 0);\nglobal.set('deviceProfile_5_StoreData', []);\nglobal.set(\"deviceProfile_5_Count\", 0); \nglobal.set(\"deviceProfile_5_dataPacket_Count\", null);\n// global.set('deviceProfile_5_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":708,"y":1881,"wires":[["b42d1ae.67698e8"]]},{"id":"b42d1ae.67698e8","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-5","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_5');\nvar index = global.get('deviceProfile_5_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_5_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_5', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1099,"y":1880,"wires":[["c04659b7.1a3d38"]]},{"id":"c04659b7.1a3d38","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.213","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"1e97aea1.14b521","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":1880,"wires":[["43c45b12.3da914"],[]]},{"id":"43c45b12.3da914","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1515,"y":1880,"wires":[["e0aae2c6.70988"]]},{"id":"e0aae2c6.70988","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":1880,"wires":[["36d1f52c.4768ea"]]},{"id":"36d1f52c.4768ea","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-5","func":"var device_profile = global.get('deviceProfile_5');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_5_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_5_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_5_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_5_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_5_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_5_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_5_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_5_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_5_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_5_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_5_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_5_ReadIndex', index);  \n  global.set('stop_deviceProfile_5', false);\n  global.set('stop_to_read_deviceProfile_5_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_5_dataPacket', false);\n    global.set('deviceProfile_5_ReadIndex', 0);\n    global.set(\"deviceProfile_5_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_5', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_5_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_5_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_5_Index');\n        index += 1;\n        global.set('deviceProfile_5_Index', index);\n        global.set('stop_deviceProfile_5', true);\n        global.set('stop_to_read_deviceProfile_5_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_5_dataPacket', false);\n        global.set('stop_deviceProfile_5', false);\n        global.set('deviceProfile_5_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2019,"y":1880,"wires":[["2f6609f3.0b8446"]]},{"id":"2f6609f3.0b8446","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_5","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2229,"y":1881,"wires":[["80fb9b33.17dad8","daddfb73.607e08"]]},{"id":"80fb9b33.17dad8","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2381,"y":1880,"wires":[]},{"id":"1245cfba.095aa","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-6","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_6');\nvar index = global.get('deviceProfile_6_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_6_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_6', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1099,"y":1940,"wires":[["56c4dc16.0ef7c4"]]},{"id":"56c4dc16.0ef7c4","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.117","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"6a485e9.6df1aa","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":1940,"wires":[["64715a42.7c6614"],[]]},{"id":"64715a42.7c6614","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":1940,"wires":[["3d48463.be625ba"]]},{"id":"3d48463.be625ba","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":1940,"wires":[["9bafb1f8.79086"]]},{"id":"9bafb1f8.79086","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-6","func":"var device_profile = global.get('deviceProfile_6');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_6_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_6_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_6_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_6_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_6_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_6_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_6_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_6_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_6_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_6_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_6_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_6_ReadIndex', index);  \n  global.set('stop_deviceProfile_6', false);\n  global.set('stop_to_read_deviceProfile_6_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_6_dataPacket', false);\n    global.set('deviceProfile_6_ReadIndex', 0);\n    global.set(\"deviceProfile_6_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_6', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_6_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_6_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_6_Index');\n        index += 1;\n        global.set('deviceProfile_6_Index', index);\n        global.set('stop_deviceProfile_6', true);\n        global.set('stop_to_read_deviceProfile_6_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_6_dataPacket', false);\n        global.set('stop_deviceProfile_6', false);\n        global.set('deviceProfile_6_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2019,"y":1940,"wires":[["c95e28a2.814418"]]},{"id":"c95e28a2.814418","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_6","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2229,"y":1941,"wires":[["5ff1bc1a.a02654","daddfb73.607e08"]]},{"id":"5ff1bc1a.a02654","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2381,"y":1940,"wires":[]},{"id":"360b00bb.acf9a","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-7","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_7');\nvar index = global.get('deviceProfile_7_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_7_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_7', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1099,"y":2000,"wires":[["4172d088.a4419"]]},{"id":"4172d088.a4419","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.116","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"5bc38e88.85901","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2000,"wires":[["b2290d8a.efa32"],[]]},{"id":"b2290d8a.efa32","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2000,"wires":[["f9935a15.9869d8"]]},{"id":"f9935a15.9869d8","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2000,"wires":[["182f5ea8.122a51"]]},{"id":"182f5ea8.122a51","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-7","func":"var device_profile = global.get('deviceProfile_7');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_7_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_7_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_7_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_7_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_7_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_7_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_7_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_7_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_7_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_7_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_7_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_7_ReadIndex', index);  \n  global.set('stop_deviceProfile_7', false);\n  global.set('stop_to_read_deviceProfile_7_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_7_dataPacket', false);\n    global.set('deviceProfile_7_ReadIndex', 0);\n    global.set(\"deviceProfile_7_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_7', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_7_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_7_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_7_Index');\n        index += 1;\n        global.set('deviceProfile_7_Index', index);\n        global.set('stop_deviceProfile_7', true);\n        global.set('stop_to_read_deviceProfile_7_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_7_dataPacket', false);\n        global.set('stop_deviceProfile_7', false);\n        global.set('deviceProfile_7_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2019,"y":2000,"wires":[["4ea6175e.e62048"]]},{"id":"4ea6175e.e62048","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_7","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2229,"y":2001,"wires":[["435c042c.6770fc","daddfb73.607e08"]]},{"id":"435c042c.6770fc","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2381,"y":2000,"wires":[]},{"id":"61a510e3.71aef","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-8","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_8');\nvar index = global.get('deviceProfile_8_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_8_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_8', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1099,"y":2060,"wires":[["959e434f.c259e"]]},{"id":"959e434f.c259e","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.113","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"6a5dc46f.0b657c","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2060,"wires":[["aef212b5.e3843"],[]]},{"id":"aef212b5.e3843","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2060,"wires":[["51fc90d5.cfbcd"]]},{"id":"51fc90d5.cfbcd","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2060,"wires":[["b48a3497.550888"]]},{"id":"b48a3497.550888","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-8","func":"var device_profile = global.get('deviceProfile_8');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_8_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_8_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_8_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_8_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_8_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_8_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_8_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_8_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_8_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_8_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_8_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_8_ReadIndex', index);  \n  global.set('stop_deviceProfile_8', false);\n  global.set('stop_to_read_deviceProfile_8_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_8_dataPacket', false);\n    global.set('deviceProfile_8_ReadIndex', 0);\n    global.set(\"deviceProfile_8_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_8', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_8_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_8_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_8_Index');\n        index += 1;\n        global.set('deviceProfile_8_Index', index);\n        global.set('stop_deviceProfile_8', true);\n        global.set('stop_to_read_deviceProfile_8_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_8_dataPacket', false);\n        global.set('stop_deviceProfile_8', false);\n        global.set('deviceProfile_8_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2019,"y":2060,"wires":[["a16db088.955f"]]},{"id":"a16db088.955f","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_8","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2229,"y":2061,"wires":[["772926c6.2626d8","daddfb73.607e08"]]},{"id":"772926c6.2626d8","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2381,"y":2060,"wires":[]},{"id":"c86649a2.416b28","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-9","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_9');\nvar index = global.get('deviceProfile_9_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_9_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_9', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1099,"y":2120,"wires":[["40007bcd.1bd3f4"]]},{"id":"40007bcd.1bd3f4","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.122","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"e1ba94ef.76ff88","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2120,"wires":[["fcda28e9.7be318"],[]]},{"id":"fcda28e9.7be318","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2120,"wires":[["24e92131.416f5e"]]},{"id":"24e92131.416f5e","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2120,"wires":[["6c854169.ffc4"]]},{"id":"6c854169.ffc4","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-9","func":"var device_profile = global.get('deviceProfile_9');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_9_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_9_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_9_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_9_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_9_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_9_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_9_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_9_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_9_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_9_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_9_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_9_ReadIndex', index);  \n  global.set('stop_deviceProfile_9', false);\n  global.set('stop_to_read_deviceProfile_9_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_9_dataPacket', false);\n    global.set('deviceProfile_9_ReadIndex', 0);\n    global.set(\"deviceProfile_9_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_9', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_9_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_9_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_9_Index');\n        index += 1;\n        global.set('deviceProfile_9_Index', index);\n        global.set('stop_deviceProfile_9', true);\n        global.set('stop_to_read_deviceProfile_9_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_9_dataPacket', false);\n        global.set('stop_deviceProfile_9', false);\n        global.set('deviceProfile_9_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2019,"y":2120,"wires":[["9616f9bd.5f6498"]]},{"id":"9616f9bd.5f6498","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_9","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2229,"y":2121,"wires":[["366aad9a.bc6592","daddfb73.607e08"]]},{"id":"366aad9a.bc6592","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2120,"wires":[]},{"id":"436cb241.23f25c","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-10","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_10');\nvar index = global.get('deviceProfile_10_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_10_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_10', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1109,"y":2180,"wires":[["95842108.24af"]]},{"id":"95842108.24af","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.123","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"39f85b08.4ee794","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2180,"wires":[["19988f9f.c7568"],[]]},{"id":"19988f9f.c7568","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2180,"wires":[["18d4b32a.77e2bd"]]},{"id":"18d4b32a.77e2bd","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2180,"wires":[["cb6b0394.8314"]]},{"id":"cb6b0394.8314","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-10","func":"var device_profile = global.get('deviceProfile_10');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_10_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_10_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_10_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_10_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_10_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_10_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_10_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_10_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_10_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_10_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_10_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_10_ReadIndex', index);  \n  global.set('stop_deviceProfile_10', false);\n  global.set('stop_to_read_deviceProfile_10_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_10_dataPacket', false);\n    global.set('deviceProfile_10_ReadIndex', 0);\n    global.set(\"deviceProfile_10_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_10', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_10_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_10_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_10_Index');\n        index += 1;\n        global.set('deviceProfile_10_Index', index);\n        global.set('stop_deviceProfile_10', true);\n        global.set('stop_to_read_deviceProfile_10_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_10_dataPacket', false);\n        global.set('stop_deviceProfile_10', false);\n        global.set('deviceProfile_10_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2029,"y":2180,"wires":[["427dc924.41a318"]]},{"id":"427dc924.41a318","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_10","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2181,"wires":[["775c53fd.1e5f4c","daddfb73.607e08"]]},{"id":"775c53fd.1e5f4c","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2180,"wires":[]},{"id":"299473d8.db8f1c","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-11","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_11');\nvar index = global.get('deviceProfile_11_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_11_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_11', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1099,"y":2240,"wires":[["f107d29.8e1033"]]},{"id":"f107d29.8e1033","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.124","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"11f2bb3.b9f1b45","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2240,"wires":[["cd907fd6.5b344"],[]]},{"id":"cd907fd6.5b344","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2240,"wires":[["5b86fd32.b1b674"]]},{"id":"5b86fd32.b1b674","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2240,"wires":[["4253fbab.ae4004"]]},{"id":"4253fbab.ae4004","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-11","func":"var device_profile = global.get('deviceProfile_11');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_11_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_11_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_11_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_11_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_11_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_11_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_11_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_11_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_11_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_11_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_11_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_11_ReadIndex', index);  \n  global.set('stop_deviceProfile_11', false);\n  global.set('stop_to_read_deviceProfile_11_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_11_dataPacket', false);\n    global.set('deviceProfile_11_ReadIndex', 0);\n    global.set(\"deviceProfile_11_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_11', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_11_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_11_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_11_Index');\n        index += 1;\n        global.set('deviceProfile_11_Index', index);\n        global.set('stop_deviceProfile_11', true);\n        global.set('stop_to_read_deviceProfile_11_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_11_dataPacket', false);\n        global.set('stop_deviceProfile_11', false);\n        global.set('deviceProfile_11_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2019,"y":2240,"wires":[["1ef03a67.87dca6"]]},{"id":"1ef03a67.87dca6","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_11","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2241,"wires":[["4ea8e224.c7728c","daddfb73.607e08"]]},{"id":"4ea8e224.c7728c","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2240,"wires":[]},{"id":"57bff23c.989b2c","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-12","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_12');\nvar index = global.get('deviceProfile_12_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_12_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_12', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1109,"y":2300,"wires":[["a57373ec.a1ee1"]]},{"id":"a57373ec.a1ee1","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.118","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"fc179f89.e5cef","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2300,"wires":[["3933ad98.c57662"],[]]},{"id":"3933ad98.c57662","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2300,"wires":[["3e5f5545.012aca"]]},{"id":"3e5f5545.012aca","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2300,"wires":[["ac275b56.eb1918"]]},{"id":"ac275b56.eb1918","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-12","func":"var device_profile = global.get('deviceProfile_12');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_12_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_12_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_12_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_12_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_12_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_12_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_12_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_12_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_12_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_12_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_12_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_12_ReadIndex', index);  \n  global.set('stop_deviceProfile_12', false);\n  global.set('stop_to_read_deviceProfile_12_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_12_dataPacket', false);\n    global.set('deviceProfile_12_ReadIndex', 0);\n    global.set(\"deviceProfile_12_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_12', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_12_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_12_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_12_Index');\n        index += 1;\n        global.set('deviceProfile_12_Index', index);\n        global.set('stop_deviceProfile_12', true);\n        global.set('stop_to_read_deviceProfile_12_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_12_dataPacket', false);\n        global.set('stop_deviceProfile_12', false);\n        global.set('deviceProfile_12_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2029,"y":2300,"wires":[["831cc823.460178"]]},{"id":"831cc823.460178","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_12","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2301,"wires":[["6f204080.c8685","daddfb73.607e08"]]},{"id":"6f204080.c8685","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2300,"wires":[]},{"id":"453fcd88.15f524","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-13","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_13');\nvar index = global.get('deviceProfile_13_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_13_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_13', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1109,"y":2360,"wires":[["8d71b044.6b8d8"]]},{"id":"8d71b044.6b8d8","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.121","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"dff26246.155f2","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2360,"wires":[["c1f0fa13.bbd6a8"],[]]},{"id":"c1f0fa13.bbd6a8","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2360,"wires":[["d1bfe73a.ab5648"]]},{"id":"d1bfe73a.ab5648","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2360,"wires":[["c6f2cfad.b4c25"]]},{"id":"c6f2cfad.b4c25","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-13","func":"var device_profile = global.get('deviceProfile_13');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_13_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_13_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_13_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_13_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_13_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_13_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_13_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_13_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_13_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_13_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_13_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_13_ReadIndex', index);  \n  global.set('stop_deviceProfile_13', false);\n  global.set('stop_to_read_deviceProfile_13_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_13_dataPacket', false);\n    global.set('deviceProfile_13_ReadIndex', 0);\n    global.set(\"deviceProfile_13_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_13', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_13_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_13_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_13_Index');\n        index += 1;\n        global.set('deviceProfile_13_Index', index);\n        global.set('stop_deviceProfile_13', true);\n        global.set('stop_to_read_deviceProfile_13_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_13_dataPacket', false);\n        global.set('stop_deviceProfile_13', false);\n        global.set('deviceProfile_13_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2029,"y":2360,"wires":[["ae2b6b73.1e6578"]]},{"id":"ae2b6b73.1e6578","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_13","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2361,"wires":[["ff85492e.ba2e18","daddfb73.607e08"]]},{"id":"ff85492e.ba2e18","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2360,"wires":[]},{"id":"75242cc8.443f84","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-14","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_14');\nvar index = global.get('deviceProfile_14_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_14_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_14', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1109,"y":2420,"wires":[["6f06bde7.4efa04"]]},{"id":"6f06bde7.4efa04","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.111","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"e586b98c.e12448","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2420,"wires":[["7f56f0cb.6982d"],[]]},{"id":"7f56f0cb.6982d","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2420,"wires":[["a538b16b.2cb03"]]},{"id":"a538b16b.2cb03","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2420,"wires":[["17d3cd9c.63ee72"]]},{"id":"17d3cd9c.63ee72","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-14","func":"var device_profile = global.get('deviceProfile_14');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_14_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_14_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_14_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_14_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_14_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_14_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_14_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_14_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_14_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_14_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_14_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_14_ReadIndex', index);  \n  global.set('stop_deviceProfile_14', false);\n  global.set('stop_to_read_deviceProfile_14_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_14_dataPacket', false);\n    global.set('deviceProfile_14_ReadIndex', 0);\n    global.set(\"deviceProfile_14_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_14', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_14_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_14_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_14_Index');\n        index += 1;\n        global.set('deviceProfile_14_Index', index);\n        global.set('stop_deviceProfile_14', true);\n        global.set('stop_to_read_deviceProfile_14_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_14_dataPacket', false);\n        global.set('stop_deviceProfile_14', false);\n        global.set('deviceProfile_14_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2029,"y":2420,"wires":[["380ce916.978c36"]]},{"id":"380ce916.978c36","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_14","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2421,"wires":[["3442d838.0793d8","daddfb73.607e08"]]},{"id":"3442d838.0793d8","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2420,"wires":[]},{"id":"42c29f09.0b187","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-15","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_15');\nvar index = global.get('deviceProfile_15_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_15_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_15', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1109,"y":2480,"wires":[["7284bb86.4ee5e4"]]},{"id":"7284bb86.4ee5e4","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.125","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"218dde38.d0a412","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2480,"wires":[["f815df90.afb06"],[]]},{"id":"f815df90.afb06","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2480,"wires":[["8430d41d.bfba18"]]},{"id":"8430d41d.bfba18","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2480,"wires":[["282d6fe.4d43a9"]]},{"id":"282d6fe.4d43a9","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-15","func":"var device_profile = global.get('deviceProfile_15');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_15_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_15_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_15_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_15_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_15_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_15_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_15_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_15_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_15_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_15_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_15_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_15_ReadIndex', index);  \n  global.set('stop_deviceProfile_15', false);\n  global.set('stop_to_read_deviceProfile_15_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_15_dataPacket', false);\n    global.set('deviceProfile_15_ReadIndex', 0);\n    global.set(\"deviceProfile_15_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_15', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_15_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_15_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_15_Index');\n        index += 1;\n        global.set('deviceProfile_15_Index', index);\n        global.set('stop_deviceProfile_15', true);\n        global.set('stop_to_read_deviceProfile_15_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_15_dataPacket', false);\n        global.set('stop_deviceProfile_15', false);\n        global.set('deviceProfile_15_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2029,"y":2480,"wires":[["1aeee339.9e561d"]]},{"id":"1aeee339.9e561d","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_15","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2481,"wires":[["9a735904.a44e88","daddfb73.607e08"]]},{"id":"9a735904.a44e88","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2480,"wires":[]},{"id":"af2c6156.714c4","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-16","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_16');\nvar index = global.get('deviceProfile_16_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_16_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_16', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1109,"y":2540,"wires":[["fd770f98.2b69c"]]},{"id":"fd770f98.2b69c","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.115","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"9ab59ebd.e2807","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2540,"wires":[["c49bdd2d.bc9a"],[]]},{"id":"c49bdd2d.bc9a","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2540,"wires":[["c31483f6.2d868"]]},{"id":"c31483f6.2d868","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2540,"wires":[["f729d1e1.55efc"]]},{"id":"f729d1e1.55efc","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-16","func":"var device_profile = global.get('deviceProfile_16');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_16_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_16_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_16_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_16_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_16_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_16_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_16_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_16_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_16_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_16_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_16_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_16_ReadIndex', index);  \n  global.set('stop_deviceProfile_16', false);\n  global.set('stop_to_read_deviceProfile_16_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_16_dataPacket', false);\n    global.set('deviceProfile_16_ReadIndex', 0);\n    global.set(\"deviceProfile_16_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_16', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_16_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_16_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_16_Index');\n        index += 1;\n        global.set('deviceProfile_16_Index', index);\n        global.set('stop_deviceProfile_16', true);\n        global.set('stop_to_read_deviceProfile_16_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_16_dataPacket', false);\n        global.set('stop_deviceProfile_16', false);\n        global.set('deviceProfile_16_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2029,"y":2540,"wires":[["6f1a3eb6.dfd2c"]]},{"id":"6f1a3eb6.dfd2c","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_16","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2541,"wires":[["5ca20b89.c6afa4","daddfb73.607e08"]]},{"id":"5ca20b89.c6afa4","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2540,"wires":[]},{"id":"b4c5f57b.fea348","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-17","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_17');\nvar index = global.get('deviceProfile_17_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_17_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_17', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1109,"y":2600,"wires":[["86db2acf.bae8a8"]]},{"id":"86db2acf.bae8a8","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.126","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"3653211b.a0252e","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2600,"wires":[["31e05008.cb4ce"],[]]},{"id":"31e05008.cb4ce","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2600,"wires":[["8b9c4a79.c339f8"]]},{"id":"8b9c4a79.c339f8","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2600,"wires":[["3cd86b0e.0b8064"]]},{"id":"3cd86b0e.0b8064","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-17","func":"var device_profile = global.get('deviceProfile_17');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_17_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_17_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_17_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_17_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_17_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_17_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_17_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_17_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_17_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_17_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_17_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_17_ReadIndex', index);  \n  global.set('stop_deviceProfile_17', false);\n  global.set('stop_to_read_deviceProfile_17_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_17_dataPacket', false);\n    global.set('deviceProfile_17_ReadIndex', 0);\n    global.set(\"deviceProfile_17_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_17', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_17_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_17_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_17_Index');\n        index += 1;\n        global.set('deviceProfile_17_Index', index);\n        global.set('stop_deviceProfile_17', true);\n        global.set('stop_to_read_deviceProfile_17_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_17_dataPacket', false);\n        global.set('stop_deviceProfile_17', false);\n        global.set('deviceProfile_17_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2029,"y":2600,"wires":[["ed3bc6b5.123d08"]]},{"id":"ed3bc6b5.123d08","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_17","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2601,"wires":[["612a7162.323db","daddfb73.607e08"]]},{"id":"612a7162.323db","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2600,"wires":[]},{"id":"f8ef4aca.ab7808","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-18","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_18');\nvar index = global.get('deviceProfile_18_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_18_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_18', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1109,"y":2660,"wires":[["c919699a.f9b5f8"]]},{"id":"c919699a.f9b5f8","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.112","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"e82a1c89.b1c08","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2660,"wires":[["4f1964fe.8fa55c"],[]]},{"id":"4f1964fe.8fa55c","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2660,"wires":[["7db0704.aeb7d9"]]},{"id":"7db0704.aeb7d9","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2660,"wires":[["29d7d6c3.014ada"]]},{"id":"29d7d6c3.014ada","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-18","func":"var device_profile = global.get('deviceProfile_18');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_18_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_18_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_18_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_18_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_18_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_18_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_18_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_18_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_18_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_18_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_18_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_18_ReadIndex', index);  \n  global.set('stop_deviceProfile_18', false);\n  global.set('stop_to_read_deviceProfile_18_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_18_dataPacket', false);\n    global.set('deviceProfile_18_ReadIndex', 0);\n    global.set(\"deviceProfile_18_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_18', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_18_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_18_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_18_Index');\n        index += 1;\n        global.set('deviceProfile_18_Index', index);\n        global.set('stop_deviceProfile_18', true);\n        global.set('stop_to_read_deviceProfile_18_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_18_dataPacket', false);\n        global.set('stop_deviceProfile_18', false);\n        global.set('deviceProfile_18_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2029,"y":2660,"wires":[["8061575d.5ac1c8"]]},{"id":"8061575d.5ac1c8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_18","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2661,"wires":[["b805e623.ae6098","daddfb73.607e08"]]},{"id":"b805e623.ae6098","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2660,"wires":[]},{"id":"e614d746.94dba8","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-19","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_19');\nvar index = global.get('deviceProfile_19_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_19_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_19', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1109,"y":2720,"wires":[["abae8f61.80cd8"]]},{"id":"abae8f61.80cd8","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.114","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"37f9a409.a6806c","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2720,"wires":[["e5a4dd50.57a22"],[]]},{"id":"e5a4dd50.57a22","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2720,"wires":[["71ab707f.d05f7"]]},{"id":"71ab707f.d05f7","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2720,"wires":[["fcf46829.923c48"]]},{"id":"fcf46829.923c48","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-19","func":"var device_profile = global.get('deviceProfile_19');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_19_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_19_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_19_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_19_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_19_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_19_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_19_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_19_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_19_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_19_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_19_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_19_ReadIndex', index);  \n  global.set('stop_deviceProfile_19', false);\n  global.set('stop_to_read_deviceProfile_19_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_19_dataPacket', false);\n    global.set('deviceProfile_19_ReadIndex', 0);\n    global.set(\"deviceProfile_19_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_19', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_19_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_19_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_19_Index');\n        index += 1;\n        global.set('deviceProfile_19_Index', index);\n        global.set('stop_deviceProfile_19', true);\n        global.set('stop_to_read_deviceProfile_19_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_19_dataPacket', false);\n        global.set('stop_deviceProfile_19', false);\n        global.set('deviceProfile_19_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2029,"y":2720,"wires":[["f3414837.794088"]]},{"id":"f3414837.794088","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_19","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2721,"wires":[["3ea72862.e57808","daddfb73.607e08"]]},{"id":"3ea72862.e57808","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2720,"wires":[]},{"id":"8c5a7455.5538d8","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-20","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_20');\nvar index = global.get('deviceProfile_20_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_20_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_20', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1109,"y":2780,"wires":[["3505230.0c84dde"]]},{"id":"3505230.0c84dde","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.119","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"ec09191e.abc158","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1339,"y":2780,"wires":[["8e43710.d3c9a9"],[]]},{"id":"8e43710.d3c9a9","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1518,"y":2780,"wires":[["28772448.5e124c"]]},{"id":"28772448.5e124c","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1739,"y":2780,"wires":[["be80373c.67e828"]]},{"id":"be80373c.67e828","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-20","func":"var device_profile = global.get('deviceProfile_20');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_20_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_20_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_20_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_20_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_20_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_20_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_20_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_20_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_20_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_20_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_20_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_20_ReadIndex', index);  \n  global.set('stop_deviceProfile_20', false);\n  global.set('stop_to_read_deviceProfile_20_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_20_dataPacket', false);\n    global.set('deviceProfile_20_ReadIndex', 0);\n    global.set(\"deviceProfile_20_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_20', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_20_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_20_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_20_Index');\n        index += 1;\n        global.set('deviceProfile_20_Index', index);\n        global.set('stop_deviceProfile_20', true);\n        global.set('stop_to_read_deviceProfile_20_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_20_dataPacket', false);\n        global.set('stop_deviceProfile_20', false);\n        global.set('deviceProfile_20_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2029,"y":2780,"wires":[["432265ac.67589c"]]},{"id":"432265ac.67589c","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_20","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2232,"y":2781,"wires":[["9f96bcc4.c98a6","daddfb73.607e08"]]},{"id":"9f96bcc4.c98a6","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2382,"y":2780,"wires":[]},{"id":"5d7d8904.34fe98","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-5","scope":["36d1f52c.4768ea"],"uncaught":false,"x":682,"y":3220,"wires":[["e072a245.537b2"]]},{"id":"e072a245.537b2","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_5_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":861,"y":3220,"wires":[["b42d1ae.67698e8"]]},{"id":"3dce5702.447798","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-6","scope":["9bafb1f8.79086"],"uncaught":false,"x":682,"y":3280,"wires":[["dac1a00f.1fb59"]]},{"id":"dac1a00f.1fb59","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_6_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":861,"y":3280,"wires":[["1245cfba.095aa"]]},{"id":"c85d865e.dba838","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-7","scope":["182f5ea8.122a51"],"uncaught":false,"x":682,"y":3340,"wires":[["d7646d8c.1920d"]]},{"id":"d7646d8c.1920d","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_7_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":861,"y":3340,"wires":[["360b00bb.acf9a"]]},{"id":"55cdb696.92d818","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-8","scope":["b48a3497.550888"],"uncaught":false,"x":682,"y":3400,"wires":[["17f4eb2b.a2edf5"]]},{"id":"17f4eb2b.a2edf5","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_8_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":861,"y":3400,"wires":[["61a510e3.71aef"]]},{"id":"affa6bdb.d63488","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-9","scope":["6c854169.ffc4"],"uncaught":false,"x":682,"y":3460,"wires":[["daa240c5.7e95f"]]},{"id":"daa240c5.7e95f","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_9_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":861,"y":3460,"wires":[["c86649a2.416b28"]]},{"id":"866bb3e6.e0d91","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-10","scope":["cb6b0394.8314"],"uncaught":false,"x":682,"y":3520,"wires":[["25b84cf3.bd6ad4"]]},{"id":"25b84cf3.bd6ad4","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_10_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":861,"y":3520,"wires":[["436cb241.23f25c"]]},{"id":"6a1a6994.297458","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-5","scope":["36d1f52c.4768ea"],"uncaught":false,"x":681,"y":620,"wires":[["a48f33d6.b5d3c"]]},{"id":"a48f33d6.b5d3c","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_5","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":841,"y":620,"wires":[["b42d1ae.67698e8"]]},{"id":"a3dd64da.ecd688","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-6","scope":["9bafb1f8.79086"],"uncaught":false,"x":682,"y":680,"wires":[["eeadf3d4.10a0c"]]},{"id":"eeadf3d4.10a0c","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_6","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":839,"y":680,"wires":[["1245cfba.095aa"]]},{"id":"b78f93f6.46b56","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-7","scope":["182f5ea8.122a51"],"uncaught":false,"x":680,"y":740,"wires":[["e34edd74.f5d4f"]]},{"id":"e34edd74.f5d4f","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_7","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":740,"wires":[["360b00bb.acf9a"]]},{"id":"f47fab7.fdf4d58","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-8","scope":["b48a3497.550888"],"uncaught":false,"x":680,"y":800,"wires":[["f0a45039.695fa"]]},{"id":"f0a45039.695fa","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_8","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":800,"wires":[["61a510e3.71aef"]]},{"id":"e6f31032.3a97d","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-9","scope":["6c854169.ffc4"],"uncaught":false,"x":680,"y":860,"wires":[["f3bd2bcb.e10478"]]},{"id":"f3bd2bcb.e10478","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_9","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":860,"wires":[["c86649a2.416b28"]]},{"id":"8925a939.4e0b08","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-10","scope":["cb6b0394.8314"],"uncaught":false,"x":680,"y":920,"wires":[["c1041577.7851b8"]]},{"id":"c1041577.7851b8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_10","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":920,"wires":[["436cb241.23f25c"]]},{"id":"9cf5b3aa.0b61d","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-11","scope":["4253fbab.ae4004"],"uncaught":false,"x":682,"y":974,"wires":[["dca17f02.c54c8"]]},{"id":"dca17f02.c54c8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_11","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":842,"y":974,"wires":[["299473d8.db8f1c"]]},{"id":"4323f207.ab196c","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-12","scope":["ac275b56.eb1918"],"uncaught":false,"x":682,"y":1027,"wires":[["b06fa060.2a557"]]},{"id":"b06fa060.2a557","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_12","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":842,"y":1027,"wires":[["57bff23c.989b2c"]]},{"id":"6531572d.95c898","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-13","scope":["c6f2cfad.b4c25"],"uncaught":false,"x":682,"y":1079,"wires":[["dbaf581e.07dc58"]]},{"id":"dbaf581e.07dc58","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_13","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":841,"y":1079,"wires":[["453fcd88.15f524"]]},{"id":"93fd905b.33829","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-11","scope":["4253fbab.ae4004"],"uncaught":false,"x":678,"y":3580,"wires":[["d86f4920.a2db88"]]},{"id":"d86f4920.a2db88","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_11_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":857,"y":3580,"wires":[["299473d8.db8f1c"]]},{"id":"9c3711af.afa34","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-12","scope":["ac275b56.eb1918"],"uncaught":false,"x":678,"y":3640,"wires":[["bc8c71f1.eb8a7"]]},{"id":"bc8c71f1.eb8a7","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_12_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":857,"y":3640,"wires":[["57bff23c.989b2c"]]},{"id":"89181353.bdaee","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-13","scope":["c6f2cfad.b4c25"],"uncaught":false,"x":678,"y":3700,"wires":[["723f408f.e4324"]]},{"id":"723f408f.e4324","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_13_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":857,"y":3700,"wires":[["453fcd88.15f524"]]},{"id":"6621c93a.a7ad08","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-14","scope":["17d3cd9c.63ee72"],"uncaught":false,"x":677,"y":3760,"wires":[["f2574dcc.a1458"]]},{"id":"f2574dcc.a1458","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_14_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":856,"y":3760,"wires":[["75242cc8.443f84"]]},{"id":"9e94b216.26651","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-15","scope":["282d6fe.4d43a9"],"uncaught":false,"x":677,"y":3820,"wires":[["2510ca94.80f546"]]},{"id":"2510ca94.80f546","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_15_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":856,"y":3820,"wires":[["42c29f09.0b187"]]},{"id":"e6a550ba.5c469","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-16","scope":["f729d1e1.55efc"],"uncaught":false,"x":677,"y":3880,"wires":[["6a1558b.22bb2a8"]]},{"id":"6a1558b.22bb2a8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_16_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":856,"y":3880,"wires":[["af2c6156.714c4"]]},{"id":"8582c8cb.87f928","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-17","scope":["3cd86b0e.0b8064"],"uncaught":false,"x":677,"y":3940,"wires":[["9e2d6a3a.7f4028"]]},{"id":"9e2d6a3a.7f4028","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_17_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":856,"y":3940,"wires":[["b4c5f57b.fea348"]]},{"id":"88904926.f73bf8","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-18","scope":["29d7d6c3.014ada"],"uncaught":false,"x":677,"y":4000,"wires":[["d8a1a99c.606248"]]},{"id":"d8a1a99c.606248","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_18_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":856,"y":4000,"wires":[["f8ef4aca.ab7808"]]},{"id":"ff06bf5e.6fe8d","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-19","scope":["fcf46829.923c48"],"uncaught":false,"x":677,"y":4060,"wires":[["9cd6ef77.46fdc"]]},{"id":"9cd6ef77.46fdc","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_19_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":856,"y":4060,"wires":[["e614d746.94dba8"]]},{"id":"5f7d9879.fc7598","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-20","scope":["be80373c.67e828"],"uncaught":false,"x":677,"y":4120,"wires":[["7c5e0580.6dc95c"]]},{"id":"7c5e0580.6dc95c","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_20_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":856,"y":4120,"wires":[["8c5a7455.5538d8"]]},{"id":"2a85c414.220b6c","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-14","scope":["17d3cd9c.63ee72"],"uncaught":false,"x":679,"y":1140,"wires":[["f8db4b5c.086758"]]},{"id":"f8db4b5c.086758","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_14","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":838,"y":1140,"wires":[["75242cc8.443f84"]]},{"id":"6ff0b17b.ecbd9","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-15","scope":["282d6fe.4d43a9"],"uncaught":false,"x":679,"y":1200,"wires":[["68772ee5.e60e3"]]},{"id":"68772ee5.e60e3","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_15","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":838,"y":1200,"wires":[["42c29f09.0b187"]]},{"id":"b4b24dd.120c2b","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-16","scope":["f729d1e1.55efc"],"uncaught":false,"x":680,"y":1260,"wires":[["c1b29f45.5b972"]]},{"id":"c1b29f45.5b972","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_16","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":838,"y":1260,"wires":[["af2c6156.714c4"]]},{"id":"415d7718.07f608","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-17","scope":["3cd86b0e.0b8064"],"uncaught":false,"x":679,"y":1320,"wires":[["c0be8680.e19ed8"]]},{"id":"c0be8680.e19ed8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_17","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":838,"y":1320,"wires":[["b4c5f57b.fea348"]]},{"id":"3ab8f377.7bcb4c","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-18","scope":["29d7d6c3.014ada"],"uncaught":false,"x":679,"y":1380,"wires":[["8d8ec4ef.840958"]]},{"id":"8d8ec4ef.840958","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_18","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":838,"y":1380,"wires":[["f8ef4aca.ab7808"]]},{"id":"cd6b72f4.ecd23","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-19","scope":["fcf46829.923c48"],"uncaught":false,"x":679,"y":1440,"wires":[["650a7c4c.7ac9a4"]]},{"id":"650a7c4c.7ac9a4","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_19","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":838,"y":1440,"wires":[["e614d746.94dba8"]]},{"id":"9488847a.3f3548","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-20","scope":["be80373c.67e828"],"uncaught":false,"x":680,"y":1480,"wires":[["6fb2d13c.f0f1"]]},{"id":"6fb2d13c.f0f1","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_20","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":839,"y":1480,"wires":[["8c5a7455.5538d8"]]},{"id":"628b0d33.ffc0d4","type":"function","z":"7501a6af.8e47f8","name":"RC-1","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.128\"){\n     msg.reConnector_1 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.128', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_1 = false;\n}\n}else {\n    msg.reConnector_1 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1810,"y":2980,"wires":[["ff172de4.5ed7a"]]},{"id":"ff172de4.5ed7a","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1970,"y":2980,"wires":[["d3f8c1d4.f3c83"]]},{"id":"c68c10b6.5a711","type":"comment","z":"7501a6af.8e47f8","name":"******** Reconect *******","info":"","x":1980,"y":2920,"wires":[]},{"id":"d3f8c1d4.f3c83","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.128","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"13652b19.80c9b5","x":2140,"y":2980,"wires":[[]]},{"id":"5afe622.b0cba9c","type":"function","z":"7501a6af.8e47f8","name":"RC-2","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.211\"){\n     msg.reConnector_2 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.211', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_2 = false;\n}\n}else {\n    msg.reConnector_2 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1810,"y":3040,"wires":[["f7b25a43.d27ad8"]]},{"id":"f7b25a43.d27ad8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1970,"y":3040,"wires":[["780f3114.add95"]]},{"id":"780f3114.add95","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.211","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"c1c5fb06.b9eba8","x":2140,"y":3040,"wires":[[]]},{"id":"569acdb2.f92774","type":"function","z":"7501a6af.8e47f8","name":"RC-3","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.214\"){\n     msg.reConnector_3 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.214', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_3 = false;\n}\n}else {\n    msg.reConnector_3 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1810,"y":3100,"wires":[["9e301961.adb518"]]},{"id":"9e301961.adb518","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_3","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1970,"y":3100,"wires":[["eafb8844.b77638"]]},{"id":"eafb8844.b77638","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.214","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"a28736a9.d39dd8","x":2140,"y":3100,"wires":[[]]},{"id":"2319ceb0.81b1d2","type":"function","z":"7501a6af.8e47f8","name":"RC-4","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.212\"){\n     msg.reConnector_4 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.212', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_4 = false;\n}\n}else {\n    msg.reConnector_4 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1810,"y":3158,"wires":[["e8628243.18de2"]]},{"id":"e8628243.18de2","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_4","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1970,"y":3158,"wires":[["fd97666d.db0698"]]},{"id":"fd97666d.db0698","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.212","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"c7d0992a.f7a108","x":2140,"y":3158,"wires":[[]]},{"id":"c47357a3.48ff38","type":"catch","z":"7501a6af.8e47f8","name":"","scope":null,"uncaught":false,"x":1260,"y":3460,"wires":[["5afe622.b0cba9c","569acdb2.f92774","2319ceb0.81b1d2","599772c1.8d281c","67e16049.d3cd4","74be74bc.4f955c","c1c52c8.17ff3d","61eb3499.60929c","d224a63d.9438c8","90afba9e.7306d8","4fbd4d3e.51ab74","1718d880.e65088","eeecfaf7.6bcaf8","40e4ba13.779404","42d2bc90.082214","b3a440ae.7105a","628b0d33.ffc0d4","871a0e0d.f0235","75edd4a1.2b2b5c","eee91d4d.26cfd","db22ce2d.7b5f"]]},{"id":"599772c1.8d281c","type":"function","z":"7501a6af.8e47f8","name":"RC-5","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.213\"){\n     msg.reConnector_5 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.213', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_5 = false;\n}\n}else {\n    msg.reConnector_5 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1814,"y":3220,"wires":[["c7f202b4.64e06"]]},{"id":"c7f202b4.64e06","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_5","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1975,"y":3220,"wires":[["848e9436.52c7e8"]]},{"id":"848e9436.52c7e8","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.213","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"1e97aea1.14b521","x":2144,"y":3220,"wires":[[]]},{"id":"67e16049.d3cd4","type":"function","z":"7501a6af.8e47f8","name":"RC-6","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.117\"){\n     msg.reConnector_6 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.117', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_6 = false;\n}\n}else {\n    msg.reConnector_6 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1814,"y":3280,"wires":[["5ebd217c.468c3"]]},{"id":"5ebd217c.468c3","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_6","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1975,"y":3280,"wires":[["77e1689e.0288b8"]]},{"id":"77e1689e.0288b8","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.117","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"6a485e9.6df1aa","x":2144,"y":3280,"wires":[[]]},{"id":"74be74bc.4f955c","type":"function","z":"7501a6af.8e47f8","name":"RC-7","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.116\"){\n     msg.reConnector_7 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.116', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_7 = false;\n}\n}else {\n    msg.reConnector_7 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1814,"y":3340,"wires":[["7d556afc.979964"]]},{"id":"7d556afc.979964","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_7","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1975,"y":3340,"wires":[["12db0237.4d562e"]]},{"id":"12db0237.4d562e","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.116","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"5bc38e88.85901","x":2144,"y":3340,"wires":[[]]},{"id":"c1c52c8.17ff3d","type":"function","z":"7501a6af.8e47f8","name":"RC-8","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.113\"){\n     msg.reConnector_8 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.113', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_8 = false;\n}\n}else {\n    msg.reConnector_8 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1814,"y":3400,"wires":[["6d0d24e8.27e9bc"]]},{"id":"6d0d24e8.27e9bc","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_8","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1975,"y":3400,"wires":[["40873843.ec76a8"]]},{"id":"40873843.ec76a8","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.113","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"6a5dc46f.0b657c","x":2144,"y":3400,"wires":[[]]},{"id":"61eb3499.60929c","type":"function","z":"7501a6af.8e47f8","name":"RC-9","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.122\"){\n     msg.reConnector_9 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.122', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_9 = false;\n}\n}else {\n    msg.reConnector_9 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1814,"y":3460,"wires":[["edf2a799.4f8528"]]},{"id":"edf2a799.4f8528","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_9","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1977,"y":3460,"wires":[["2165495b.d7d386"]]},{"id":"2165495b.d7d386","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.122","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"e1ba94ef.76ff88","x":2144,"y":3460,"wires":[[]]},{"id":"d224a63d.9438c8","type":"function","z":"7501a6af.8e47f8","name":"RC-10","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.123\"){\n     msg.reConnector_10 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.123', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_10 = false;\n}\n}else {\n    msg.reConnector_10 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1814,"y":3520,"wires":[["fa084c12.99ad7"]]},{"id":"fa084c12.99ad7","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_10","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1977,"y":3520,"wires":[["25a6421b.efd1ee"]]},{"id":"25a6421b.efd1ee","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.123","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"39f85b08.4ee794","x":2144,"y":3520,"wires":[[]]},{"id":"90afba9e.7306d8","type":"function","z":"7501a6af.8e47f8","name":"RC-11","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.124\"){\n     msg.reConnector_11 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.124', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_11 = false;\n}\n}else {\n    msg.reConnector_11 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1819,"y":3580,"wires":[["19793b59.c7b9b5"]]},{"id":"19793b59.c7b9b5","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_11","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1980,"y":3580,"wires":[["c814aa83.bccaa8"]]},{"id":"c814aa83.bccaa8","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.124","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"11f2bb3.b9f1b45","x":2149,"y":3580,"wires":[[]]},{"id":"4fbd4d3e.51ab74","type":"function","z":"7501a6af.8e47f8","name":"RC-12","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.118\"){\n     msg.reConnector_12 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.118', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_12 = false;\n}\n}else {\n    msg.reConnector_12 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1819,"y":3640,"wires":[["aed70853.4e8148"]]},{"id":"aed70853.4e8148","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_12","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1980,"y":3640,"wires":[["863170cf.3059"]]},{"id":"863170cf.3059","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.118","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"fc179f89.e5cef","x":2149,"y":3640,"wires":[[]]},{"id":"1718d880.e65088","type":"function","z":"7501a6af.8e47f8","name":"RC-13","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.121\"){\n     msg.reConnector_13 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.121', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_13 = false;\n}\n}else {\n    msg.reConnector_13 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1819,"y":3700,"wires":[["ce74c2be.ebd07"]]},{"id":"ce74c2be.ebd07","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_13","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1980,"y":3700,"wires":[["5b352905.578958"]]},{"id":"5b352905.578958","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.121","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"dff26246.155f2","x":2149,"y":3700,"wires":[[]]},{"id":"eeecfaf7.6bcaf8","type":"function","z":"7501a6af.8e47f8","name":"RC-14","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.111\"){\n     msg.reConnector_14 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.111', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_14 = false;\n}\n}else {\n    msg.reConnector_14 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1819,"y":3760,"wires":[["479d5be5.420824"]]},{"id":"479d5be5.420824","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_14","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1980,"y":3760,"wires":[["e25f94f.99f3e68"]]},{"id":"e25f94f.99f3e68","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.111","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"e586b98c.e12448","x":2149,"y":3760,"wires":[[]]},{"id":"40e4ba13.779404","type":"function","z":"7501a6af.8e47f8","name":"RC-15","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.125\"){\n     msg.reConnector_15 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.125', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_15 = false;\n}\n}else {\n    msg.reConnector_15 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1819,"y":3820,"wires":[["2356c8dc.0c0318"]]},{"id":"2356c8dc.0c0318","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_15","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1982,"y":3820,"wires":[["26210c8c.007e14"]]},{"id":"26210c8c.007e14","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.125","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"218dde38.d0a412","x":2149,"y":3820,"wires":[[]]},{"id":"42d2bc90.082214","type":"function","z":"7501a6af.8e47f8","name":"RC-16","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.115\"){\n     msg.reConnector_16 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.115', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_16 = false;\n}\n}else {\n    msg.reConnector_16 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1819,"y":3880,"wires":[["c6837b45.1b6ed8"]]},{"id":"c6837b45.1b6ed8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_16","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1982,"y":3880,"wires":[["22351d4d.a6fc12"]]},{"id":"22351d4d.a6fc12","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.115","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"9ab59ebd.e2807","x":2149,"y":3880,"wires":[[]]},{"id":"b3a440ae.7105a","type":"function","z":"7501a6af.8e47f8","name":"RC-17","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.126\"){\n     msg.reConnector_17 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.126', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_17 = false;\n}\n}else {\n    msg.reConnector_17 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1821,"y":3940,"wires":[["fc3090db.46db2"]]},{"id":"fc3090db.46db2","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_17","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1982,"y":3940,"wires":[["140314b8.1bc34b"]]},{"id":"140314b8.1bc34b","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.126","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"3653211b.a0252e","x":2151,"y":3940,"wires":[[]]},{"id":"871a0e0d.f0235","type":"function","z":"7501a6af.8e47f8","name":"RC-18","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.112\"){\n     msg.reConnector_18 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.112', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_18 = false;\n}\n}else {\n    msg.reConnector_18 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1821,"y":4000,"wires":[["5bfe21bf.4c8d8"]]},{"id":"5bfe21bf.4c8d8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_18","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1982,"y":4000,"wires":[["7e436b45.d011b4"]]},{"id":"7e436b45.d011b4","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.112","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"e82a1c89.b1c08","x":2151,"y":4000,"wires":[[]]},{"id":"75edd4a1.2b2b5c","type":"function","z":"7501a6af.8e47f8","name":"RC-19","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.114\"){\n     msg.reConnector_19 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.114', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_19 = false;\n}\n}else {\n    msg.reConnector_19 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1821,"y":4060,"wires":[["ab7f2d41.f7afa"]]},{"id":"ab7f2d41.f7afa","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_19","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1984,"y":4060,"wires":[["e31cc87b.39a128"]]},{"id":"e31cc87b.39a128","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.114","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"37f9a409.a6806c","x":2151,"y":4060,"wires":[[]]},{"id":"eee91d4d.26cfd","type":"function","z":"7501a6af.8e47f8","name":"RC-20","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.119\"){\n     msg.reConnector_20 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.119', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_20 = false;\n}\n}else {\n    msg.reConnector_20 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1821,"y":4120,"wires":[["8a5d0f0f.c75ce"]]},{"id":"8a5d0f0f.c75ce","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_20","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1984,"y":4120,"wires":[["92080fed.e6579"]]},{"id":"92080fed.e6579","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.119","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"ec09191e.abc158","x":2151,"y":4120,"wires":[[]]},{"id":"de149ac6.e673e8","type":"function","z":"7501a6af.8e47f8","name":"Dp-6 INV-3, MET-1, Banco","func":"var deviceProfile_6 = [\n    {    \n        plantId: 225,\n        deviceName: \"Inverter-1 Delta\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 57\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 4,\n                        address: 40994,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53255,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53260,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 45055,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 45059,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45063,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45065,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45068,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45071,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 49151,\n                        quantity: 8\n                    },\n                    {\n                        fc: 4,\n                        address: 49160,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 49247,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3071,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3103,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 53247,\n                        quantity: 8\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 225,\n        deviceName: \"Inverter-2 Delta\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 57\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 4,\n                        address: 40994,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53255,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53260,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 45055,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 45059,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45063,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45065,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45068,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45071,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 49151,\n                        quantity: 8\n                    },\n                    {\n                        fc: 4,\n                        address: 49160,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 49247,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3071,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3103,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 53247,\n                        quantity: 8\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 225,\n        deviceName: \"Inverter-3 Delta\",\n        deviceProfile: {\n            deviceNo: 3,\n            deviceType: 57\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    {\n                        fc: 4,\n                        address: 40994,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53255,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53260,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 45055,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 45059,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45063,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45065,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45068,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45071,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 49151,\n                        quantity: 8\n                    },\n                    {\n                        fc: 4,\n                        address: 49160,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 49247,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3071,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3103,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 53247,\n                        quantity: 8\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 225,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 4,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_6', deviceProfile_6);\nglobal.set('deviceProfile_6_Index', 0);\nglobal.set('deviceProfile_6_ReadIndex', 0);\nglobal.set('deviceProfile_6_StoreData', []);\nglobal.set(\"deviceProfile_6_Count\", 0); \nglobal.set(\"deviceProfile_6_dataPacket_Count\", null);\n// global.set('deviceProfile_6_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":700,"y":1940,"wires":[["1245cfba.095aa"]]},{"id":"c3dfc442.1fd388","type":"function","z":"7501a6af.8e47f8","name":"Dp-7 INV-2, MET-1, Eastman 10 MW","func":"var deviceProfile_7 = [\n    {    \n        plantId: 226,\n        deviceName: \"Inverter-1 L&T\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 61\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 30,\n                        quantity: 5\n                    },\n                    {\n                        fc: 3,\n                        address: 105,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 125,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 145,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 35,\n                        quantity: 2\n                    }\n                ]\n        }\n    },\n    {    \n        plantId: 226,\n        deviceName: \"Inverter-2 L&T\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 61\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 30,\n                        quantity: 5\n                    },\n                    {\n                        fc: 3,\n                        address: 105,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 125,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 145,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 35,\n                        quantity: 2\n                    }\n                ]\n        }\n    },\n    {    \n        plantId: 226,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_7', deviceProfile_7);\nglobal.set('deviceProfile_7_Index', 0);\nglobal.set('deviceProfile_7_ReadIndex', 0);\nglobal.set('deviceProfile_7_StoreData', []);\nglobal.set(\"deviceProfile_7_Count\", 0); \nglobal.set(\"deviceProfile_7_dataPacket_Count\", null);\n// global.set('deviceProfile_7_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":730,"y":2000,"wires":[["360b00bb.acf9a"]]},{"id":"6d639802.446828","type":"function","z":"7501a6af.8e47f8","name":"Dp-8 INV-3, MET-1, Eastman 4 MW","func":"var deviceProfile_8 = [\n    {    \n        plantId: 227,\n        deviceName: \"Inverter-1 AEG\",\n        deviceProfile: {\n            deviceNo: 3,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 227,\n        deviceName: \"Inverter-2 AEG\",\n        deviceProfile: {\n            deviceNo: 4,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 227,\n        deviceName: \"Inverter-3 AEG\",\n        deviceProfile: {\n            deviceNo: 5,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 227,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 4,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_8', deviceProfile_8);\nglobal.set('deviceProfile_8_Index', 0);\nglobal.set('deviceProfile_8_ReadIndex', 0);\nglobal.set('deviceProfile_8_StoreData', []);\nglobal.set(\"deviceProfile_8_Count\", 0); \nglobal.set(\"deviceProfile_8_dataPacket_Count\", null);\n// global.set('deviceProfile_8_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":720,"y":2060,"wires":[["61a510e3.71aef"]]},{"id":"2bedd730.d43698","type":"function","z":"7501a6af.8e47f8","name":"Dp-9 INV-1 Eastman 10 MW","func":"var deviceProfile_9 = [\n    {\n        plantId: 226,\n        deviceName: \"Inverter-1 DelCen\",\n        deviceProfile: {\n            deviceNo: 3,\n            deviceType: 62\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 22,\n                        quantity: 1\n                    },\n                    {\n                        fc: 3,\n                        address: 0,\n                        quantity: 22\n                    },\n                    {\n                        fc: 3,\n                        address: 130,\n                        quantity: 20\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_9', deviceProfile_9);\nglobal.set('deviceProfile_9_Index', 0);\nglobal.set('deviceProfile_9_ReadIndex', 0);\nglobal.set('deviceProfile_9_StoreData', []);\nglobal.set(\"deviceProfile_9_Count\", 0); \nglobal.set(\"deviceProfile_9_dataPacket_Count\", null);\n// global.set('deviceProfile_9_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":700,"y":2120,"wires":[["c86649a2.416b28"]]},{"id":"c3c5c647.c8fb98","type":"function","z":"7501a6af.8e47f8","name":"Dp-10 INV-1 Eastman 10 MW","func":"var deviceProfile_10 = [\n    {\n        plantId: 226,\n        deviceName: \"Inverter-1 DelCen\",\n        deviceProfile: {\n            deviceNo: 4,\n            deviceType: 62\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 22,\n                        quantity: 1\n                    },\n                    {\n                        fc: 3,\n                        address: 0,\n                        quantity: 22\n                    },\n                    {\n                        fc: 3,\n                        address: 130,\n                        quantity: 20\n                    }\n                ]\n        }\n    }\n    \n]\n\nglobal.set('deviceProfile_10', deviceProfile_10);\nglobal.set('deviceProfile_10_Index', 0);\nglobal.set('deviceProfile_10_ReadIndex', 0);\nglobal.set('deviceProfile_10_StoreData', []);\nglobal.set(\"deviceProfile_10_Count\", 0); \nglobal.set(\"deviceProfile_10_dataPacket_Count\", null);\n// global.set('deviceProfile_10_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":710,"y":2180,"wires":[["436cb241.23f25c"]]},{"id":"2a9740bb.63561","type":"function","z":"7501a6af.8e47f8","name":"Dp-11 INV-1 Eastman 10 MW","func":"var deviceProfile_11 = [\n   {\n       plantId: 226,\n        deviceName: \"Inverter-1 DelCen\",\n        deviceProfile: {\n            deviceNo: 5,\n            deviceType: 62\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 22,\n                        quantity: 1\n                    },\n                    {\n                        fc: 3,\n                        address: 0,\n                        quantity: 22\n                    },\n                    {\n                        fc: 3,\n                        address: 130,\n                        quantity: 20\n                    }\n                ]\n        }\n    }\n    \n]\n\nglobal.set('deviceProfile_11', deviceProfile_11);\nglobal.set('deviceProfile_11_Index', 0);\nglobal.set('deviceProfile_11_ReadIndex', 0);\nglobal.set('deviceProfile_11_StoreData', []);\nglobal.set(\"deviceProfile_11_Count\", 0); \nglobal.set(\"deviceProfile_11_dataPacket_Count\", null);\n// global.set('deviceProfile_11_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":700,"y":2240,"wires":[["299473d8.db8f1c"]]},{"id":"f84e948e.c7c3f8","type":"function","z":"7501a6af.8e47f8","name":"Dp-12 MET-1 Eastman 10 MW","func":"var deviceProfile_12 = [\n    {    \n        plantId: 226,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n    \n]\n\nglobal.set('deviceProfile_12', deviceProfile_12);\nglobal.set('deviceProfile_12_Index', 0);\nglobal.set('deviceProfile_12_ReadIndex', 0);\nglobal.set('deviceProfile_12_StoreData', []);\nglobal.set(\"deviceProfile_12_Count\", 0); \nglobal.set(\"deviceProfile_12_dataPacket_Count\", null);\n// global.set('deviceProfile_12_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":710,"y":2300,"wires":[["57bff23c.989b2c"]]},{"id":"2d98002c.87d79","type":"function","z":"7501a6af.8e47f8","name":"Dp-13 INV-1 Eastman 4 MW","func":"var deviceProfile_13 = [\n    {\n       plantId: 227,\n        deviceName: \"Inverter-1 DelCen\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 62\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 22,\n                        quantity: 1\n                    },\n                    {\n                        fc: 3,\n                        address: 0,\n                        quantity: 22\n                    },\n                    {\n                        fc: 3,\n                        address: 130,\n                        quantity: 20\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_13', deviceProfile_13);\nglobal.set('deviceProfile_13_Index', 0);\nglobal.set('deviceProfile_13_ReadIndex', 0);\nglobal.set('deviceProfile_13_StoreData', []);\nglobal.set(\"deviceProfile_13_Count\", 0); \nglobal.set(\"deviceProfile_13_dataPacket_Count\", null);\n// global.set('deviceProfile_13_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":700,"y":2360,"wires":[["453fcd88.15f524"]]},{"id":"68d4d22f.e83b1c","type":"function","z":"7501a6af.8e47f8","name":"Dp-14 INV-1, MET-1 Eastman 4 MW","func":"var deviceProfile_14 = [\n    {    \n        plantId: 227,\n        deviceName: \"Inverter-1 L&T\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 61\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 30,\n                        quantity: 5\n                    },\n                    {\n                        fc: 3,\n                        address: 105,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 125,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 145,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 35,\n                        quantity: 2\n                    }\n                ]\n        }\n    },\n    {    \n        plantId: 227,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_14', deviceProfile_14);\nglobal.set('deviceProfile_14_Index', 0);\nglobal.set('deviceProfile_14_ReadIndex', 0);\nglobal.set('deviceProfile_14_StoreData', []);\nglobal.set(\"deviceProfile_14_Count\", 0); \nglobal.set(\"deviceProfile_14_dataPacket_Count\", null);\n// global.set('deviceProfile_14_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":730,"y":2420,"wires":[["75242cc8.443f84"]]},{"id":"a18af542.84f3a8","type":"function","z":"7501a6af.8e47f8","name":"Dp-15 INV-4, MET-1 Windsor","func":"var deviceProfile_15 = [\n    {    \n        plantId: 228,\n        deviceName: \"Inverter-1 Delta\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 57\n        },\n        read: {\n            slaveID: 4,\n             regAdd: [\n                    {\n                        fc: 4,\n                        address: 40994,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53255,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53260,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 45055,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 45059,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45063,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45065,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45068,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45071,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 49151,\n                        quantity: 8\n                    },\n                    {\n                        fc: 4,\n                        address: 49160,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 49247,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3071,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3103,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 53247,\n                        quantity: 8\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 228,\n        deviceName: \"Inverter-2 Delta\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 57\n        },\n        read: {\n            slaveID: 5,\n             regAdd: [\n                    {\n                        fc: 4,\n                        address: 40994,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53255,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53260,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 45055,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 45059,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45063,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45065,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45068,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45071,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 49151,\n                        quantity: 8\n                    },\n                    {\n                        fc: 4,\n                        address: 49160,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 49247,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3071,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3103,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 53247,\n                        quantity: 8\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 228,\n        deviceName: \"Inverter-3 Delta\",\n        deviceProfile: {\n            deviceNo: 3,\n            deviceType: 57\n        },\n        read: {\n            slaveID: 6,\n             regAdd: [\n                    {\n                        fc: 4,\n                        address: 40994,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53255,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53260,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 45055,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 45059,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45063,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45065,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45068,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45071,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 49151,\n                        quantity: 8\n                    },\n                    {\n                        fc: 4,\n                        address: 49160,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 49247,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3071,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3103,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 53247,\n                        quantity: 8\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 228,\n        deviceName: \"Inverter-4 Delta\",\n        deviceProfile: {\n            deviceNo: 4,\n            deviceType: 57\n        },\n        read: {\n            slaveID: 7,\n             regAdd: [\n                    {\n                        fc: 4,\n                        address: 40994,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53255,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53260,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 45055,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 45059,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45063,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45065,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45068,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45071,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 49151,\n                        quantity: 8\n                    },\n                    {\n                        fc: 4,\n                        address: 49160,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 49247,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3071,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3103,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 53247,\n                        quantity: 8\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 228,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 8,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_15', deviceProfile_15);\nglobal.set('deviceProfile_15_Index', 0);\nglobal.set('deviceProfile_15_ReadIndex', 0);\nglobal.set('deviceProfile_15_StoreData', []);\nglobal.set(\"deviceProfile_15_Count\", 0); \nglobal.set(\"deviceProfile_15_dataPacket_Count\", null);\n// global.set('deviceProfile_15_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":700,"y":2480,"wires":[["42c29f09.0b187"]]},{"id":"9239e9e1.4c4b58","type":"function","z":"7501a6af.8e47f8","name":"Dp-16 INV-1 Anil Asha Baxi","func":"var deviceProfile_16 = [\n    {    \n        plantId: 223,\n        deviceName: \"Inverter-1 Delta\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 57\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    {\n                        fc: 4,\n                        address: 40994,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53255,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53260,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 45055,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 45059,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45063,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45065,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45068,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45071,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 49151,\n                        quantity: 8\n                    },\n                    {\n                        fc: 4,\n                        address: 49160,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 49247,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3071,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3103,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 53247,\n                        quantity: 8\n                    },\n                ]\n        }\n    },\n    \n]\n\nglobal.set('deviceProfile_16', deviceProfile_16);\nglobal.set('deviceProfile_16_Index', 0);\nglobal.set('deviceProfile_16_ReadIndex', 0);\nglobal.set('deviceProfile_16_StoreData', []);\nglobal.set(\"deviceProfile_16_Count\", 0); \nglobal.set(\"deviceProfile_16_dataPacket_Count\", null);\n// global.set('deviceProfile_16_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":700,"y":2540,"wires":[["af2c6156.714c4"]]},{"id":"25c153b8.2d6adc","type":"function","z":"7501a6af.8e47f8","name":"Dp-17 INV-1 Eastman 10 MW","func":"var deviceProfile_17 = [\n    {\n        plantId: 226,\n        deviceName: \"Inverter-1 ABB 1732\",\n        deviceProfile: {\n            deviceNo: 10,\n            deviceType: 55\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 42498,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 42501,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 42545,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 42552,\n                        quantity: 1\n                    },\n                    {\n                        fc: 3,\n                        address: 42556,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 42598,\n                        quantity: 1\n                    },\n                    {\n                        fc: 3,\n                        address: 42606,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 42564,\n                        quantity: 4\n                    }\n                ]\n                \n        }\n    }\n]\n\nglobal.set('deviceProfile_17', deviceProfile_17);\nglobal.set('deviceProfile_17_Index', 0);\nglobal.set('deviceProfile_17_ReadIndex', 0);\nglobal.set('deviceProfile_17_StoreData', []);\nglobal.set(\"deviceProfile_17_Count\", 0); \nglobal.set(\"deviceProfile_17_dataPacket_Count\", null);\n// global.set('deviceProfile_17_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":710,"y":2600,"wires":[["b4c5f57b.fea348"]]},{"id":"8db8382c.10aee8","type":"function","z":"7501a6af.8e47f8","name":"Dp-18 INV-1, MET-1 Eastman 10 MW","func":"var deviceProfile_18 = [\n    {    \n        plantId: 226,\n        deviceName: \"Inverter-1 L&T\",\n        deviceProfile: {\n            deviceNo: 11,\n            deviceType: 61\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 30,\n                        quantity: 5\n                    },\n                    {\n                        fc: 3,\n                        address: 105,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 125,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 145,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 35,\n                        quantity: 2\n                    }\n                ]\n        }\n    },\n    {    \n        plantId: 226,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 4,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_18', deviceProfile_18);\nglobal.set('deviceProfile_18_Index', 0);\nglobal.set('deviceProfile_18_ReadIndex', 0);\nglobal.set('deviceProfile_18_StoreData', []);\nglobal.set(\"deviceProfile_18_Count\", 0); \nglobal.set(\"deviceProfile_18_dataPacket_Count\", null);\n// global.set('deviceProfile_18_errorCount', null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":730,"y":2660,"wires":[["f8ef4aca.ab7808"]]},{"id":"68babdcf.315c34","type":"function","z":"7501a6af.8e47f8","name":"Dp-19 INV-4, MET-1 Eastman 10 MW","func":"var deviceProfile_19 = [\n    {    \n        plantId: 226,\n        deviceName: \"Inverter-1 AEG\",\n        deviceProfile: {\n            deviceNo: 6,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 226,\n        deviceName: \"Inverter-2 AEG\",\n        deviceProfile: {\n            deviceNo: 7,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 226,\n        deviceName: \"Inverter-3 AEG\",\n        deviceProfile: {\n            deviceNo: 8,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 226,\n        deviceName: \"Inverter-4 AEG\",\n        deviceProfile: {\n            deviceNo: 9,\n            deviceType: 60\n        },\n        read: {\n            slaveID: 4,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 601,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 701,\n                        quantity: 15\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 226,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 3,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 5,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_19', deviceProfile_19);\nglobal.set('deviceProfile_19_Index', 0);\nglobal.set('deviceProfile_19_ReadIndex', 0);\nglobal.set('deviceProfile_19_StoreData', []);\nglobal.set(\"deviceProfile_19_Count\", 0); \nglobal.set(\"deviceProfile_19_dataPacket_Count\", null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":730,"y":2720,"wires":[["e614d746.94dba8"]]},{"id":"b55e7f6d.b0164","type":"function","z":"7501a6af.8e47f8","name":"Dp-20 INV-1, MET-1 Asha anil baxi","func":"var deviceProfile_20 = [\n    {    \n        plantId: 229,\n        deviceName: \"Inverter-1 ABB PVS 800\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 52\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 103,\n                        quantity: 7\n                    },\n                    {\n                        fc: 3,\n                        address: 111,\n                        quantity: 3\n                    },\n                    {\n                        fc: 3,\n                        address: 116,\n                        quantity: 13\n                    }\n                ]\n        }\n    },\n    {    \n        plantId: 229,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n    \n]\n\nglobal.set('deviceProfile_20', deviceProfile_20);\nglobal.set('deviceProfile_20_Index', 0);\nglobal.set('deviceProfile_20_ReadIndex', 0);\nglobal.set('deviceProfile_20_StoreData', []);\nglobal.set(\"deviceProfile_20_Count\", 0); \nglobal.set(\"deviceProfile_20_dataPacket_Count\", null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":720,"y":2780,"wires":[["8c5a7455.5538d8"]]},{"id":"4af01924.734bb8","type":"function","z":"7501a6af.8e47f8","name":"Dp-21 INV-1, MET-1 Simpy","func":"var deviceProfile_21 = [\n    {    \n        plantId: 230,\n        deviceName: \"Inverter-1 Delta\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 57\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    {\n                        fc: 4,\n                        address: 40994,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53255,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 53260,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 45055,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 45059,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45063,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45065,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45068,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 45071,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 49151,\n                        quantity: 8\n                    },\n                    {\n                        fc: 4,\n                        address: 49160,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 49247,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3071,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 3103,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 53247,\n                        quantity: 8\n                    },\n                ]\n        }\n    },\n    {    \n        plantId: 230,\n        deviceName: \"MET-1 EM6430\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 184\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n]\n\nglobal.set('deviceProfile_21', deviceProfile_21);\nglobal.set('deviceProfile_21_Index', 0);\nglobal.set('deviceProfile_21_ReadIndex', 0);\nglobal.set('deviceProfile_21_StoreData', []);\nglobal.set(\"deviceProfile_21_Count\", 0); \nglobal.set(\"deviceProfile_21_dataPacket_Count\", null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":700,"y":2840,"wires":[["8c0464f0.971b38"]]},{"id":"8c0464f0.971b38","type":"function","z":"7501a6af.8e47f8","name":"Read Device Profile-21","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_21');\nvar index = global.get('deviceProfile_21_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_21_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_21', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1110,"y":2840,"wires":[["bc51ddd4.12fbc"]]},{"id":"b44f7370.ef16d","type":"delay","z":"7501a6af.8e47f8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1510,"y":2839,"wires":[["821d9ec9.8a3ea"]]},{"id":"821d9ec9.8a3ea","type":"moment","z":"7501a6af.8e47f8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1731,"y":2839,"wires":[["7709ede5.785944"]]},{"id":"7709ede5.785944","type":"function","z":"7501a6af.8e47f8","name":"Display data DeviceProfile-21","func":"var device_profile = global.get('deviceProfile_21');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_21_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_21_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_21_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_21_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_21_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_21_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_21_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let plantId = profile.plantId;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": plantId,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_21_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_21_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_21_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_21_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_21_ReadIndex', index);  \n  global.set('stop_deviceProfile_21', false);\n  global.set('stop_to_read_deviceProfile_21_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_21_dataPacket', false);\n    global.set('deviceProfile_21_ReadIndex', 0);\n    global.set(\"deviceProfile_21_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_21', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_21_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_21_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_21_Index');\n        index += 1;\n        global.set('deviceProfile_21_Index', index);\n        global.set('stop_deviceProfile_21', true);\n        global.set('stop_to_read_deviceProfile_21_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_21_dataPacket', false);\n        global.set('stop_deviceProfile_21', false);\n        global.set('deviceProfile_21_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":2021,"y":2839,"wires":[["6e7dc537.651b4c"]]},{"id":"6e7dc537.651b4c","type":"switch","z":"7501a6af.8e47f8","name":"","property":"send_Data_deviceProfile_21","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2224,"y":2840,"wires":[["8d167d29.379c3","daddfb73.607e08"]]},{"id":"8d167d29.379c3","type":"debug","z":"7501a6af.8e47f8","name":"10.102.255.144","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2374,"y":2839,"wires":[]},{"id":"ac958847.358f48","type":"complete","z":"7501a6af.8e47f8","name":"Read Device Profile-21","scope":["7709ede5.785944"],"uncaught":false,"x":680,"y":4180,"wires":[["c9d9d5b4.1ddd98"]]},{"id":"c9d9d5b4.1ddd98","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_to_read_deviceProfile_21_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":859,"y":4180,"wires":[["8c0464f0.971b38"]]},{"id":"86b72c0d.02c2a","type":"complete","z":"7501a6af.8e47f8","name":"Device Profile-21","scope":["7709ede5.785944"],"uncaught":false,"x":680,"y":1520,"wires":[["d272eb9c.62d1c8"]]},{"id":"d272eb9c.62d1c8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"stop_deviceProfile_21","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":839,"y":1520,"wires":[["8c0464f0.971b38"]]},{"id":"bc51ddd4.12fbc","type":"modbus-flex-getter","z":"7501a6af.8e47f8","name":"192.168.10.127","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"5655412.e2bb0c","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1340,"y":2840,"wires":[["b44f7370.ef16d"],[]]},{"id":"db22ce2d.7b5f","type":"function","z":"7501a6af.8e47f8","name":"RC-21","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"192.168.10.127\"){\n     msg.reConnector_21 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '192.168.10.127', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_21 = false;\n}\n}else {\n    msg.reConnector_21 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":1830,"y":4180,"wires":[["a1382742.87ffe8"]]},{"id":"a1382742.87ffe8","type":"switch","z":"7501a6af.8e47f8","name":"","property":"reConnector_21","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1993,"y":4180,"wires":[["1279ded1.b39b51"]]},{"id":"1279ded1.b39b51","type":"modbus-flex-connector","z":"7501a6af.8e47f8","name":"192.168.10.127","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"5655412.e2bb0c","x":2160,"y":4180,"wires":[[]]},{"id":"cb03ebea.41edb8","type":"inject","z":"7501a6af.8e47f8","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":360,"y":1860,"wires":[["1de9adb5.8e7122"]]},{"id":"13652b19.80c9b5","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":true,"tcpHost":"192.168.10.128","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"10","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"c1c5fb06.b9eba8","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.211","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"a28736a9.d39dd8","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.214","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"c7d0992a.f7a108","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.212","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"2000","parallelUnitIdsAllowed":true},{"id":"1e97aea1.14b521","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.213","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"6a485e9.6df1aa","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.117","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"5bc38e88.85901","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.116","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"6a5dc46f.0b657c","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.113","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"e1ba94ef.76ff88","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.122","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"39f85b08.4ee794","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.123","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"11f2bb3.b9f1b45","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.124","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"fc179f89.e5cef","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.118","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"dff26246.155f2","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.121","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"e586b98c.e12448","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.111","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"218dde38.d0a412","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.125","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"9ab59ebd.e2807","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.115","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"3653211b.a0252e","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.126","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"e82a1c89.b1c08","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.112","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"37f9a409.a6806c","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.114","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"10","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"ec09191e.abc158","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.119","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":10,"clientTimeout":350,"reconnectOnTimeout":true,"reconnectTimeout":500,"parallelUnitIdsAllowed":true},{"id":"5655412.e2bb0c","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.10.127","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true}]
