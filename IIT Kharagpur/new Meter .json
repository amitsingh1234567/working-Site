[{"id":"daf04b1d.e819c8","type":"tab","label":"IIT Kharagpur","disabled":false,"info":""},{"id":"4f3d29d2.c869f8","type":"inject","z":"daf04b1d.e819c8","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"60","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":170,"y":2660,"wires":[["dd108ecc.b9396","8cf8ae44.465ae","f01bc13e.9924e","2583ecb3.9bf714","7329354d.efbacc","584bf61e.69bd58","9da2a36d.e3489","cc1f3a14.1ffc28","5a264a17.ddd0b4","73be47cb.9b3b38","e8a45582.8ff4b8","d7a51a99.a6e5a8","fd831185.06ff4","11c5dab8.eef8d5","f81ce996.d058d8","242bd66f.27e7da","91baa89a.756668","a3593a19.d5b6b8","b58412e0.69d27","c4226305.d1c51","7b897e56.dc942","be8e41f4.c4c17","7920411.8c520c","3a1d12fe.d8720e","c01b21cf.e1245","9e93f599.c1ffb8"]]},{"id":"fe6dc13b.49d32","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-1","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_Profile = global.get('deviceProfile_1');\nvar index = global.get('deviceProfile_1_Index');\nvar profile = device_Profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_1_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\n// var fc = 3\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_1', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":2020,"wires":[["e2943ee5.81195"]]},{"id":"bc6ca41a.bbbc18","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-2","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\nvar device_profile = global.get('deviceProfile_2');\nvar index = global.get('deviceProfile_2_Index');\nvar profile = device_profile[index];\n// node.warn(profile)\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_2_ReadIndex');\nvar readValue = regAdd[readIndex];\n// node.warn(readValue)\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_2', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":2072,"wires":[["a91aabcf.e026a8"]]},{"id":"df9ba73b.562ab8","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-3","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_3');\nvar index = global.get('deviceProfile_3_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_3_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_3', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":2128,"wires":[["fe03b61a.c25108"]]},{"id":"683f4a18.28b2a4","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-4","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_4');\nvar index = global.get('deviceProfile_4_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_4_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_4', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":2182,"wires":[["59ffa225.88261c"]]},{"id":"1d18bd56.5afea3","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-5","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_5');\nvar index = global.get('deviceProfile_5_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_5_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_5', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":2235,"wires":[["3b38cb98.7caa44"]]},{"id":"27c59ca6.9cdd44","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-6","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_6');\nvar index = global.get('deviceProfile_6_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_6_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_6', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":995.7142944335938,"y":2287.857147216797,"wires":[["c2f65a0f.d793c8"]]},{"id":"20193036.68001","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-2","func":"var device_profile = global.get('deviceProfile_2');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_2_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_2_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_2_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_2_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_2_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-2')\n    global.set('deviceProfile_2_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_2_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_2_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_2_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_2_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_2_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_2_ReadIndex', index);  \n  global.set('stop_deviceProfile_2', false);\n  global.set('stop_to_read_deviceProfile_2_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_2_dataPacket', false);\n    global.set('deviceProfile_2_ReadIndex', 0);\n    global.set(\"deviceProfile_2_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_2', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_2_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_2_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_2_Index');\n        index += 1;\n        global.set('deviceProfile_2_Index', index);\n        global.set('stop_deviceProfile_2', true);\n        global.set('stop_to_read_deviceProfile_2_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_2_dataPacket', false);\n        global.set('stop_deviceProfile_2', false);\n        global.set('deviceProfile_2_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1902,"y":2072,"wires":[["b0d18b5e.870bd8"]]},{"id":"94c88926.938418","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-3","func":"var device_profile = global.get('deviceProfile_3');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_3_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_3_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_3_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_3_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_3_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-3')\n    global.set('deviceProfile_3_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_3_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0\n     }\n    }\n    global.set('deviceProfile_3_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_3_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_3_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_3_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_3_ReadIndex', index);  \n  global.set('stop_deviceProfile_3', false);\n  global.set('stop_to_read_deviceProfile_3_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_3_dataPacket', false);\n    global.set('deviceProfile_3_ReadIndex', 0);\n    global.set(\"deviceProfile_3_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_3', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_3_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_3_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_3_Index');\n        index += 1;\n        global.set('deviceProfile_3_Index', index);\n        global.set('stop_deviceProfile_3', true);\n        global.set('stop_to_read_deviceProfile_3_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_3_dataPacket', false);\n        global.set('stop_deviceProfile_3', false);\n        global.set('deviceProfile_3_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1900,"y":2129,"wires":[["84086c93.e9681"]]},{"id":"3ccecf11.0189c","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-4","func":"var device_profile = global.get('deviceProfile_4');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_4_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_4_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_4_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_4_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_4_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-4')\n    global.set('deviceProfile_4_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_4_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_4_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_4_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_4_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_4_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_4_ReadIndex', index);  \n  global.set('stop_deviceProfile_4', false);\n  global.set('stop_to_read_deviceProfile_4_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_4_dataPacket', false);\n    global.set('deviceProfile_4_ReadIndex', 0);\n    global.set(\"deviceProfile_4_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_4', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_4_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_4_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_4_Index');\n        index += 1;\n        global.set('deviceProfile_4_Index', index);\n        global.set('stop_deviceProfile_4', true);\n        global.set('stop_to_read_deviceProfile_4_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_4_dataPacket', false);\n        global.set('stop_deviceProfile_4', false);\n        global.set('deviceProfile_4_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1902,"y":2183,"wires":[["534ec6cf.db27c8"]]},{"id":"eb08f4e.5e8a508","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-5","func":"var device_profile = global.get('deviceProfile_5');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_5_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_5_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_5_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_5_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_5_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-5')\n    global.set('deviceProfile_5_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_5_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_5_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_5_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_5_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_5_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_5_ReadIndex', index);  \n  global.set('stop_deviceProfile_5', false);\n  global.set('stop_to_read_deviceProfile_5_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_5_dataPacket', false);\n    global.set('deviceProfile_5_ReadIndex', 0);\n    global.set(\"deviceProfile_5_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_5', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_5_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_5_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_5_Index');\n        index += 1;\n        global.set('deviceProfile_5_Index', index);\n        global.set('stop_deviceProfile_5', true);\n        global.set('stop_to_read_deviceProfile_5_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_5_dataPacket', false);\n        global.set('stop_deviceProfile_5', false);\n        global.set('deviceProfile_5_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1902,"y":2235,"wires":[["b78520c1.d03d3"]]},{"id":"7d6f397e.90b748","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_1","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2122,"y":2020,"wires":[["2e7541cb.3f8a5e","c7a9946e.d22228"]]},{"id":"b0d18b5e.870bd8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_2","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2123,"y":2072,"wires":[["33a1b7f6.bb5868","c7a9946e.d22228"]]},{"id":"84086c93.e9681","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_3","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2123,"y":2129,"wires":[["4e6abaa8.2e1a34","c7a9946e.d22228"]]},{"id":"534ec6cf.db27c8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_4","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2123,"y":2183,"wires":[["2166b2ba.399b7e","c7a9946e.d22228"]]},{"id":"b78520c1.d03d3","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_5","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2123,"y":2235,"wires":[["3145cebd.629c82","c7a9946e.d22228"]]},{"id":"2936bb9c.d128f4","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_6","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2127,"y":2290,"wires":[["eb147bf6.830b58","c7a9946e.d22228"]]},{"id":"63200ffb.c497d","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-1","scope":["ee0f44a.7ef3fb8"],"uncaught":false,"x":607,"y":553,"wires":[["7062b875.77ef48"]]},{"id":"7062b875.77ef48","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_1","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":759,"y":553,"wires":[["fe6dc13b.49d32"]]},{"id":"a6e6176b.a26c98","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-2","scope":["20193036.68001"],"uncaught":false,"x":607,"y":606,"wires":[["3a60dbda.8dde74"]]},{"id":"3a60dbda.8dde74","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_2","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":758,"y":606,"wires":[["bc6ca41a.bbbc18"]]},{"id":"cf8b50a6.4c196","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-3","scope":["94c88926.938418"],"uncaught":false,"x":607,"y":658,"wires":[["e024782b.beeea8"]]},{"id":"e024782b.beeea8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_3","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":758,"y":658,"wires":[["df9ba73b.562ab8"]]},{"id":"bbd67329.36c22","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-4","scope":["3ccecf11.0189c"],"uncaught":false,"x":607,"y":713,"wires":[["7e0c184c.7e7118"]]},{"id":"7e0c184c.7e7118","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_4","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":758,"y":713,"wires":[["683f4a18.28b2a4"]]},{"id":"d24fdc2f.595b9","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-5","scope":["eb08f4e.5e8a508"],"uncaught":false,"x":607,"y":766,"wires":[["f73e5eb7.045b2"]]},{"id":"f73e5eb7.045b2","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_5","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":758,"y":766,"wires":[["1d18bd56.5afea3"]]},{"id":"e66a8586.4fc0a8","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-6","scope":["2780831d.935b4c"],"uncaught":false,"x":607,"y":818,"wires":[["51bb3282.8e070c"]]},{"id":"51bb3282.8e070c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_6","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":758,"y":818,"wires":[["27c59ca6.9cdd44"]]},{"id":"d05fc0cf.4bf8a","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-1","scope":["ee0f44a.7ef3fb8"],"uncaught":false,"x":580,"y":3554,"wires":[["53b025a5.557e2c"]]},{"id":"53b025a5.557e2c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_1_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":770,"y":3554,"wires":[["fe6dc13b.49d32"]]},{"id":"a37907.991796f8","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-2","scope":["20193036.68001"],"uncaught":false,"x":579,"y":3607,"wires":[["73eb1a42.7cf3b4"]]},{"id":"73eb1a42.7cf3b4","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_2_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":766,"y":3607,"wires":[["bc6ca41a.bbbc18"]]},{"id":"2d73f4bd.49e88c","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-3","scope":["94c88926.938418"],"uncaught":false,"x":579,"y":3659,"wires":[["bbbd0ab.3a664f8"]]},{"id":"bbbd0ab.3a664f8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_3_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":768,"y":3659,"wires":[["df9ba73b.562ab8"]]},{"id":"25122e08.8f20b2","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-4","scope":["3ccecf11.0189c"],"uncaught":false,"x":579,"y":3714,"wires":[["d791848.946a478"]]},{"id":"d791848.946a478","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_4_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":771,"y":3714,"wires":[["683f4a18.28b2a4"]]},{"id":"2c603408.e9ccbc","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-5","scope":["eb08f4e.5e8a508"],"uncaught":false,"x":579,"y":3767,"wires":[["e723ef8c.8e829"]]},{"id":"e723ef8c.8e829","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_5_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":774,"y":3767,"wires":[["1d18bd56.5afea3"]]},{"id":"2e7541cb.3f8a5e","type":"debug","z":"daf04b1d.e819c8","name":"10.102.255.141","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2323,"y":2014,"wires":[]},{"id":"33a1b7f6.bb5868","type":"debug","z":"daf04b1d.e819c8","name":"10.102.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2323,"y":2060,"wires":[]},{"id":"4e6abaa8.2e1a34","type":"debug","z":"daf04b1d.e819c8","name":"10.102.255.146","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2323,"y":2120,"wires":[]},{"id":"2166b2ba.399b7e","type":"debug","z":"daf04b1d.e819c8","name":"10.102.255.148","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2323,"y":2180,"wires":[]},{"id":"3145cebd.629c82","type":"debug","z":"daf04b1d.e819c8","name":"10.102.255.150","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2323,"y":2238,"wires":[]},{"id":"eb147bf6.830b58","type":"debug","z":"daf04b1d.e819c8","name":"10.102.255.152","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2321,"y":2289,"wires":[]},{"id":"329b7fd2.62b39","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-6","scope":["2780831d.935b4c"],"uncaught":false,"x":579,"y":3819,"wires":[["fc5bd44b.ad1d68"]]},{"id":"fc5bd44b.ad1d68","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_6_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":773,"y":3819,"wires":[["27c59ca6.9cdd44"]]},{"id":"d6489c31.3a594","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-7","scope":["2a1e64ad.a55f0c"],"uncaught":false,"x":578,"y":3871,"wires":[["b3653333.3977b"]]},{"id":"b3653333.3977b","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_7_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":771,"y":3871,"wires":[["eb58a855.e280c8"]]},{"id":"f791eb25.815b48","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-8","scope":["d7696c56.1dda2"],"uncaught":false,"x":577,"y":3924,"wires":[["ab74cbdf.54ee48"]]},{"id":"ab74cbdf.54ee48","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_8_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":773,"y":3924,"wires":[["f5921f0a.a671"]]},{"id":"7d96f843.6a56c8","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-9","scope":["5375d95c.b1e878"],"uncaught":false,"x":577,"y":3976,"wires":[["e9363c7f.bf92d"]]},{"id":"e9363c7f.bf92d","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_9_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":773,"y":3976,"wires":[["95821716.fbdc08"]]},{"id":"a6290e65.6cd75","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-10","scope":["814c860b.1f95a8"],"uncaught":false,"x":577,"y":4031,"wires":[["bf513fe0.dd037"]]},{"id":"bf513fe0.dd037","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_10_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":773,"y":4031,"wires":[["ae8da354.b6f3"]]},{"id":"93d9f515.afb608","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-11","scope":["d344e203.2863f"],"uncaught":false,"x":577,"y":4084,"wires":[["b011e539.826168"]]},{"id":"b011e539.826168","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_11_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":771,"y":4084,"wires":[["861c01c8.e94fb"]]},{"id":"db7575f1.9f72a8","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-12","scope":["435c7a23.6511b4"],"uncaught":false,"x":577,"y":4136,"wires":[["d641957a.741ec8"]]},{"id":"d641957a.741ec8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_12_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":770,"y":4136,"wires":[["22a27e15.44ef42"]]},{"id":"c347199d.24b858","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-7","scope":["2a1e64ad.a55f0c"],"uncaught":false,"x":607,"y":873,"wires":[["c6e5bfa7.ff8e2"]]},{"id":"c6e5bfa7.ff8e2","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_7","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":761,"y":873,"wires":[["eb58a855.e280c8"]]},{"id":"ce0ce397.8e81b","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-8","scope":["d7696c56.1dda2"],"uncaught":false,"x":607,"y":926,"wires":[["a3ce2756.ab3018"]]},{"id":"a3ce2756.ab3018","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_8","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":763,"y":926,"wires":[["f5921f0a.a671"]]},{"id":"39434ca9.ca39f4","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-9","scope":["5375d95c.b1e878"],"uncaught":false,"x":607,"y":978,"wires":[["3a2b2342.11e0bc"]]},{"id":"3a2b2342.11e0bc","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_9","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":764,"y":978,"wires":[["95821716.fbdc08"]]},{"id":"ebfbe5d1.3b1b18","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-10","scope":["814c860b.1f95a8"],"uncaught":false,"x":607,"y":1033,"wires":[["cf70cc3d.71542"]]},{"id":"cf70cc3d.71542","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_10","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":764,"y":1033,"wires":[["ae8da354.b6f3"]]},{"id":"90a26d68.c20b7","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-11","scope":["d344e203.2863f"],"uncaught":false,"x":607,"y":1086,"wires":[["8c25d1a8.6298a"]]},{"id":"8c25d1a8.6298a","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_11","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":764,"y":1086,"wires":[["861c01c8.e94fb"]]},{"id":"5a3aaa8e.1ff594","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-12","scope":["435c7a23.6511b4"],"uncaught":false,"x":607,"y":1138,"wires":[["9b848e9b.9bb8c"]]},{"id":"9b848e9b.9bb8c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_12","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":764,"y":1138,"wires":[["22a27e15.44ef42"]]},{"id":"eb58a855.e280c8","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-7","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_7');\nvar index = global.get('deviceProfile_7_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_7_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_7', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":2342,"wires":[["4faac16d.78ad8"]]},{"id":"f5921f0a.a671","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-8","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_8');\nvar index = global.get('deviceProfile_8_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_8_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_8', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":2394,"wires":[["376bdb75.36a174"]]},{"id":"95821716.fbdc08","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-9","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_9');\nvar index = global.get('deviceProfile_9_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_9_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_9', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":2450,"wires":[["c486aea.0650c5"]]},{"id":"ae8da354.b6f3","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-10","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_10');\nvar index = global.get('deviceProfile_10_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_10_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_10', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1010,"y":2503,"wires":[["7e5d288b.7eabd8"]]},{"id":"861c01c8.e94fb","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-11","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_11');\nvar index = global.get('deviceProfile_11_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_11_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_11', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":2555,"wires":[["95a84bcf.e4b928"]]},{"id":"22a27e15.44ef42","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-12","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_12');\nvar index = global.get('deviceProfile_12_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_12_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_12', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1005.7142944335938,"y":2609.857147216797,"wires":[["488a0d47.b5ada4"]]},{"id":"cfcf3d1c.f21c1","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_7","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2131,"y":2342,"wires":[["6e9e1ff9.9943b","c7a9946e.d22228"]]},{"id":"d8ec9f25.c643f","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_8","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2132,"y":2396,"wires":[["c4d60b56.3e6738","c7a9946e.d22228"]]},{"id":"c52f037.d6606","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_9","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2132,"y":2450,"wires":[["a729401b.1ada","c7a9946e.d22228"]]},{"id":"6c5a8972.5cbde8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_10","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2132,"y":2505,"wires":[["f8566b37.59cce8","c7a9946e.d22228"]]},{"id":"93541be7.255158","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_11","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2132,"y":2557,"wires":[["3c6fb2c6.e4fd1e","c7a9946e.d22228"]]},{"id":"149bdfd.8d57d2","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_12","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2134,"y":2612,"wires":[["ac4a12d1.3b085","c7a9946e.d22228"]]},{"id":"6e9e1ff9.9943b","type":"debug","z":"daf04b1d.e819c8","name":"10.105.255.140","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2329,"y":2341.5714111328125,"wires":[]},{"id":"c4d60b56.3e6738","type":"debug","z":"daf04b1d.e819c8","name":"10.105.255.145","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2329,"y":2392.5714111328125,"wires":[]},{"id":"a729401b.1ada","type":"debug","z":"daf04b1d.e819c8","name":"10.105.255.143","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2329,"y":2448.5714111328125,"wires":[]},{"id":"f8566b37.59cce8","type":"debug","z":"daf04b1d.e819c8","name":"10.105.255.144","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2329,"y":2508.5714111328125,"wires":[]},{"id":"3c6fb2c6.e4fd1e","type":"debug","z":"daf04b1d.e819c8","name":"10.105.255.141","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2329,"y":2568.5714111328125,"wires":[]},{"id":"ac4a12d1.3b085","type":"debug","z":"daf04b1d.e819c8","name":"10.105.255.142","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2329,"y":2617.5714111328125,"wires":[]},{"id":"e2943ee5.81195","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.102.255.141","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"3eeb68b0.9a8ec8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1220,"y":2020,"wires":[["e19f1a05.2e8348"],[]]},{"id":"a91aabcf.e026a8","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.102.255.144","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"23c65529.93cc2a","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1218,"y":2073,"wires":[["167331e2.3922be"],[]]},{"id":"59ffa225.88261c","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.102.255.148","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"61e97fc4.09963","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1218,"y":2183,"wires":[["ce38c243.789fd"],[]]},{"id":"c7a9946e.d22228","type":"change","z":"daf04b1d.e819c8","name":"","rules":[{"t":"set","p":"deviceType","pt":"msg","to":"payloadData.request.DeviceType","tot":"msg"},{"t":"set","p":"deviceNo","pt":"msg","to":"payloadData.request.DeviceNo","tot":"msg"},{"t":"set","p":"errFlag","pt":"msg","to":"payloadData.request.Error","tot":"msg"},{"t":"set","p":"timeStamp","pt":"msg","to":"payloadData.request.TimeStamp","tot":"msg"},{"t":"set","p":"data","pt":"msg","to":"payloadData.request.Data","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":1860,"wires":[["e45ce8f4.30c658"]]},{"id":"e45ce8f4.30c658","type":"http request","z":"daf04b1d.e819c8","name":"","method":"POST","ret":"txt","paytoqs":"ignore","url":"http://127.0.0.1/rms/api/insertData?LD=1,172,{{{deviceType}}},{{{deviceNo}}},{{{errFlag}}},{{{timeStamp}}}&ID={{{data}}}","tls":"","persist":false,"proxy":"","authType":"","x":2511,"y":1860,"wires":[["74b924a.76b28dc"]]},{"id":"74b924a.76b28dc","type":"debug","z":"daf04b1d.e819c8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":2413,"y":1904,"wires":[]},{"id":"e19f1a05.2e8348","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1419,"y":2017,"wires":[["446e665e.f16808"]]},{"id":"167331e2.3922be","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1419,"y":2070,"wires":[["2ebf2dd9.6f8112"]]},{"id":"f9e8e81c.0f8728","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1419,"y":2129,"wires":[["9a4e714c.4e719"]]},{"id":"ce38c243.789fd","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1419,"y":2183,"wires":[["9e7260b6.87478"]]},{"id":"69841cbd.3ed654","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1419,"y":2290,"wires":[["7a4f4dbc.b2f454"]]},{"id":"325f812c.93b89e","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1419,"y":2235,"wires":[["833ef530.7b3b98"]]},{"id":"227b3cf4.1e9dc4","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1424,"y":2341,"wires":[["7a64f369.10e60c"]]},{"id":"3ce3225a.524c0e","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1424,"y":2394,"wires":[["6da79509.602f2c"]]},{"id":"7f68d4c4.62217c","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1424,"y":2449,"wires":[["e3f1f4e5.e98368"]]},{"id":"fc958f7e.401ae","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1424,"y":2503,"wires":[["8af17609.c3b068"]]},{"id":"4eb6a99b.48b118","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1424,"y":2610,"wires":[["faed227a.c2e04"]]},{"id":"e3a7f8a3.256688","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1424,"y":2555,"wires":[["c1f66152.2bb7d"]]},{"id":"8cf8ae44.465ae","type":"function","z":"daf04b1d.e819c8","name":"Dp-1 || RP/B/INV1, RP/B/M1, RP/C/M1","func":"var deviceProfile_1 = [\n   {\n        deviceName: \"Inverter-1\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 3,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-1\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n            regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-2\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_1', deviceProfile_1);\nglobal.set('deviceProfile_1_Index', 0);\nglobal.set('deviceProfile_1_ReadIndex', 0);\nglobal.set('deviceProfile_1_StoreData', []);\nglobal.set(\"deviceProfile_1_Count\", 0);\nglobal.set(\"deviceProfile_1_dataPacket_Count\", null);\n// node.warn(deviceProfile_1)\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":660,"y":2014,"wires":[["fe6dc13b.49d32"]]},{"id":"f01bc13e.9924e","type":"function","z":"daf04b1d.e819c8","name":"Dp-2 || RP/C/INV1, RP/C/M2","func":"var deviceProfile_2 = [\n    {\n        deviceName: \"Inverter-2\",\n        deviceProfile: {\n            deviceNo: 2,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-3\",\n        deviceProfile: {\n            deviceNo: 3,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_2', deviceProfile_2);\nglobal.set('deviceProfile_2_Index', 0);\nglobal.set('deviceProfile_2_ReadIndex', 0);\nglobal.set('deviceProfile_2_StoreData', []);\nglobal.set(\"deviceProfile_2_Count\", 0); \nglobal.set(\"deviceProfile_2_dataPacket_Count\", null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":667,"y":2066,"wires":[["bc6ca41a.bbbc18"]]},{"id":"2583ecb3.9bf714","type":"function","z":"daf04b1d.e819c8","name":"Dp-3 INV-3, INV-29, MET-4","func":"var deviceProfile_3 = [\n    {\n        deviceName: \"Inverter-3\",\n        deviceProfile: {\n            deviceNo: 3,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-4\",\n        deviceProfile: {\n            deviceNo: 4,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    },\n    {\n        deviceName: \"Inverter-29\",\n        deviceProfile: {\n            deviceNo: 29,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 3,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_3', deviceProfile_3);\nglobal.set('deviceProfile_3_Index', 0);\nglobal.set('deviceProfile_3_ReadIndex', 0);\nglobal.set('deviceProfile_3_StoreData', []); \nglobal.set(\"deviceProfile_3_Count\", 0);\nglobal.set(\"deviceProfile_3_dataPacket_Count\", null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":667,"y":2120,"wires":[["df9ba73b.562ab8"]]},{"id":"7329354d.efbacc","type":"function","z":"daf04b1d.e819c8","name":"DP-4 INV-4, MET-5","func":"var deviceProfile_4 = [\n    {\n        deviceName: \"Inverter-4\",\n        deviceProfile: {\n            deviceNo: 4,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-5\",\n        deviceProfile: {\n            deviceNo: 5,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_4', deviceProfile_4);\nglobal.set('deviceProfile_4_Index', 0);\nglobal.set('deviceProfile_4_ReadIndex', 0);\nglobal.set('deviceProfile_4_StoreData', []);  \nglobal.set(\"deviceProfile_4_Count\", 0);\nglobal.set(\"deviceProfile_4_dataPacket_Count\", null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":637,"y":2173,"wires":[["683f4a18.28b2a4"]]},{"id":"584bf61e.69bd58","type":"function","z":"daf04b1d.e819c8","name":"Dp-5 INV-5, MET-6","func":"var deviceProfile_5 = [\n    {\n        deviceName: \"Inverter-5\",\n        deviceProfile: {\n            deviceNo: 5,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-6\",\n        deviceProfile: {\n            deviceNo: 6,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_5', deviceProfile_5);\nglobal.set('deviceProfile_5_Index', 0);\nglobal.set('deviceProfile_5_ReadIndex', 0);\nglobal.set('deviceProfile_5_StoreData', []); \nglobal.set(\"deviceProfile_5_Count\", 0);\nglobal.set(\"deviceProfile_5_dataPacket_Count\", null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":637,"y":2226,"wires":[["1d18bd56.5afea3"]]},{"id":"9da2a36d.e3489","type":"function","z":"daf04b1d.e819c8","name":"Dp-6 INV-6, MET-7","func":"var deviceProfile_6 = [\n    {\n        deviceName: \"Inverter-6\",\n        deviceProfile: {\n            deviceNo: 6,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-7\",\n        deviceProfile: {\n            deviceNo: 7,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_6', deviceProfile_6);\nglobal.set('deviceProfile_6_Index', 0);\nglobal.set('deviceProfile_6_ReadIndex', 0);\nglobal.set('deviceProfile_6_StoreData', []);  \nglobal.set(\"deviceProfile_6_Count\", 0);\nglobal.set(\"deviceProfile_6_dataPacket_Count\", null);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":637,"y":2280,"wires":[["27c59ca6.9cdd44"]]},{"id":"cc1f3a14.1ffc28","type":"function","z":"daf04b1d.e819c8","name":"Dp-7 INV-7","func":"var deviceProfile_7 = [\n    {\n        deviceName: \"Inverter-7\",\n        deviceProfile: {\n            deviceNo: 7,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 1,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_7', deviceProfile_7);\nglobal.set('deviceProfile_7_Index', 0);\nglobal.set('deviceProfile_7_ReadIndex', 0);\nglobal.set('deviceProfile_7_StoreData', []);\nglobal.set(\"deviceProfile_7_Count\", 0);\nglobal.set(\"deviceProfile_7_dataPacket_Count\", null);\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":618,"y":2334,"wires":[["eb58a855.e280c8"]]},{"id":"5a264a17.ddd0b4","type":"function","z":"daf04b1d.e819c8","name":"Dp-8 INV-8","func":"var deviceProfile_8 = [\n   {\n        deviceName: \"Inverter-8\",\n        deviceProfile: {\n            deviceNo: 8,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 1,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_8', deviceProfile_8);\nglobal.set('deviceProfile_8_Index', 0);\nglobal.set('deviceProfile_8_ReadIndex', 0);\nglobal.set('deviceProfile_8_StoreData', []);\nglobal.set(\"deviceProfile_8_Count\", 0);\nglobal.set(\"deviceProfile_8_dataPacket_Count\", null);\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":618,"y":2387,"wires":[["f5921f0a.a671"]]},{"id":"73be47cb.9b3b38","type":"function","z":"daf04b1d.e819c8","name":"Dp-9 INV-9","func":"var deviceProfile_9 = [\n    {\n        deviceName: \"Inverter-9\",\n        deviceProfile: {\n            deviceNo: 9,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 1,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_9', deviceProfile_9);\nglobal.set('deviceProfile_9_Index', 0);\nglobal.set('deviceProfile_9_ReadIndex', 0);\nglobal.set('deviceProfile_9_StoreData', []);  \nglobal.set(\"deviceProfile_9_Count\", 0);\nglobal.set(\"deviceProfile_9_dataPacket_Count\", null);\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":618,"y":2441,"wires":[["95821716.fbdc08"]]},{"id":"e8a45582.8ff4b8","type":"function","z":"daf04b1d.e819c8","name":"Dp-10 INV-10","func":"var deviceProfile_10 = [\n   {\n        deviceName: \"Inverter-10\",\n        deviceProfile: {\n            deviceNo: 10,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 1,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_10', deviceProfile_10);\nglobal.set('deviceProfile_10_Index', 0);\nglobal.set('deviceProfile_10_ReadIndex', 0);\nglobal.set('deviceProfile_10_StoreData', []);  \nglobal.set(\"deviceProfile_10_Count\", 0);\nglobal.set(\"deviceProfile_10_dataPacket_Count\", null);\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":628,"y":2494,"wires":[["ae8da354.b6f3"]]},{"id":"d7a51a99.a6e5a8","type":"function","z":"daf04b1d.e819c8","name":"Dp-11 INV-11","func":"var deviceProfile_11 = [\n    {\n        deviceName: \"Inverter-11\",\n        deviceProfile: {\n            deviceNo: 11,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 1,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_11', deviceProfile_11);\nglobal.set('deviceProfile_11_Index', 0);\nglobal.set('deviceProfile_11_ReadIndex', 0);\nglobal.set('deviceProfile_11_StoreData', []);  \nglobal.set(\"deviceProfile_11_Count\", 0);\nglobal.set(\"deviceProfile_11_dataPacket_Count\", null);\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":618,"y":2547,"wires":[["861c01c8.e94fb"]]},{"id":"fd831185.06ff4","type":"function","z":"daf04b1d.e819c8","name":"Dp-12 INV-12, MET-8","func":"var deviceProfile_12 = [\n    {\n        deviceName: \"Inverter-12\",\n        deviceProfile: {\n            deviceNo: 12,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-8\",\n        deviceProfile: {\n            deviceNo: 8,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_12', deviceProfile_12);\nglobal.set('deviceProfile_12_Index', 0);\nglobal.set('deviceProfile_12_ReadIndex', 0);\nglobal.set('deviceProfile_12_StoreData', []);  \nglobal.set(\"deviceProfile_12_Count\", 0);\nglobal.set(\"deviceProfile_12_dataPacket_Count\", null);\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":648,"y":2601,"wires":[["22a27e15.44ef42"]]},{"id":"ee0f44a.7ef3fb8","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-1","func":"var device_profile = global.get('deviceProfile_1');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_1_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_1_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_1_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_1_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_1_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-1')\n    global.set('deviceProfile_1_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_1_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n        \"DataLength\": data.length\n     }\n    }\n    global.set('deviceProfile_1_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_1_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_1_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_1_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_1_ReadIndex', index);  \n  global.set('stop_deviceProfile_1', false);\n  global.set('stop_to_read_deviceProfile_1_dataPacket', true);\n\n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_1_dataPacket', false);\n    global.set('deviceProfile_1_ReadIndex', 0);\n    global.set(\"deviceProfile_1_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_1', true);\n    // display Data\n    displayData();\n    \n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_1_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_1_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_1_Index');\n        index += 1;\n        global.set('deviceProfile_1_Index', index);\n        global.set('stop_deviceProfile_1', true);\n        global.set('stop_to_read_deviceProfile_1_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_1_dataPacket', false);\n        global.set('stop_deviceProfile_1', false);\n        global.set('deviceProfile_1_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1898,"y":2019,"wires":[["7d6f397e.90b748"]]},{"id":"fe03b61a.c25108","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.102.255.146","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"bcfe1aa.1662ee8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1219.71435546875,"y":2127.2857055664062,"wires":[["f9e8e81c.0f8728"],[]]},{"id":"3b38cb98.7caa44","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.102.255.150","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"c92d523d.2ae47","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1225.2857666015625,"y":2235.4285888671875,"wires":[["325f812c.93b89e"],[]]},{"id":"c2f65a0f.d793c8","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.102.255.152","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"9775a4e8.6941d8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1223,"y":2288,"wires":[["69841cbd.3ed654"],[]]},{"id":"4faac16d.78ad8","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.105.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"180694d0.7abb2b","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1223,"y":2341,"wires":[["227b3cf4.1e9dc4"],[]]},{"id":"376bdb75.36a174","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.105.255.145","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"98bef830.026068","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1222.142822265625,"y":2395.4285888671875,"wires":[["3ce3225a.524c0e"],[]]},{"id":"c486aea.0650c5","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.105.255.143","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"a2c3fa45.54e9b8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1224,"y":2450,"wires":[["7f68d4c4.62217c"],[]]},{"id":"7e5d288b.7eabd8","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.105.255.144","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"ccf13de4.2dfc6","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1227.71435546875,"y":2502.71435546875,"wires":[["fc958f7e.401ae"],[]]},{"id":"95a84bcf.e4b928","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.105.255.141","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"6030c16.b268a4","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1228,"y":2553.5714111328125,"wires":[["e3a7f8a3.256688"],[]]},{"id":"488a0d47.b5ada4","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.105.255.142","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"1530d5c0.6fd18a","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1227.5714111328125,"y":2610,"wires":[["4eb6a99b.48b118"],[]]},{"id":"e8dd006c.1573c","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-13","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_13');\nvar index = global.get('deviceProfile_13_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_13_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_13', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1004,"y":2669,"wires":[["ad7ab013.0c282"]]},{"id":"a0cd187b.31e1c8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_13","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2132.2857055664062,"y":2671.142852783203,"wires":[["c7a9946e.d22228","f8264afa.14bd28"]]},{"id":"f8264afa.14bd28","type":"debug","z":"daf04b1d.e819c8","name":"10.117.127.140","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2327.2857055664062,"y":2676.7142639160156,"wires":[]},{"id":"b5e3e9d1.f671c8","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1422.2857055664062,"y":2669.142852783203,"wires":[["a56b0ac1.027138"]]},{"id":"11c5dab8.eef8d5","type":"function","z":"daf04b1d.e819c8","name":"Dp-13 INV-13, MET-9","func":"var deviceProfile_13 = [\n     {\n        deviceName: \"Inverter-13\",\n        deviceProfile: {\n            deviceNo: 13,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 3,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-9\",\n        deviceProfile: {\n            deviceNo: 9,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_13', deviceProfile_13);\nglobal.set('deviceProfile_13_Index', 0);\nglobal.set('deviceProfile_13_ReadIndex', 0);\nglobal.set('deviceProfile_13_StoreData', []);  \nglobal.set(\"deviceProfile_13_Count\", 0);\nglobal.set(\"deviceProfile_13_dataPacket_Count\", null);\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":647.2857055664062,"y":2659.142852783203,"wires":[["e8dd006c.1573c"]]},{"id":"ad7ab013.0c282","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.117.127.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"f51233cc.4eb5c","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1225.8571166992188,"y":2669.142852783203,"wires":[["b5e3e9d1.f671c8"],[]]},{"id":"536db74.0ea8748","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-14","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_14');\nvar index = global.get('deviceProfile_14_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_14_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_14', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1005,"y":2725,"wires":[["8ccc277d.43c708"]]},{"id":"2693fc41.424a64","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_14","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2133.2857055664062,"y":2727.142852783203,"wires":[["c7a9946e.d22228","5941a6f9.2cc518"]]},{"id":"5941a6f9.2cc518","type":"debug","z":"daf04b1d.e819c8","name":"10.117.127.141","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2328.2857055664062,"y":2732.7142639160156,"wires":[]},{"id":"6a396c2c.6bd964","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1423.2857055664062,"y":2725.142852783203,"wires":[["18f77a8f.ca0435"]]},{"id":"f81ce996.d058d8","type":"function","z":"daf04b1d.e819c8","name":"Dp-14 INV-14, INV-15, MET-10, MET-11","func":"var deviceProfile_14 = [\n   {\n        deviceName: \"Inverter-14\",\n        deviceProfile: {\n            deviceNo: 14,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 1,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Inverter-15\",\n        deviceProfile: {\n            deviceNo: 15,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-10\",\n        deviceProfile: {\n            deviceNo: 10,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-11\",\n        deviceProfile: {\n            deviceNo: 11,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 4,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_14', deviceProfile_14);\nglobal.set('deviceProfile_14_Index', 0);\nglobal.set('deviceProfile_14_ReadIndex', 0);\nglobal.set('deviceProfile_14_StoreData', []);  \nglobal.set(\"deviceProfile_14_Count\", 0);\nglobal.set(\"deviceProfile_14_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":668.2857055664062,"y":2724.142852783203,"wires":[["536db74.0ea8748"]]},{"id":"bbc68654.0acef8","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-13","scope":["8077a777.543148"],"uncaught":false,"x":576,"y":4184,"wires":[["ee216f5c.08214"]]},{"id":"ee216f5c.08214","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_13_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":771,"y":4184,"wires":[["e8dd006c.1573c"]]},{"id":"84d275a2.e69a48","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-14","scope":["8b85cf66.791fc"],"uncaught":false,"x":576,"y":4237,"wires":[["5808de66.9fdaa"]]},{"id":"5808de66.9fdaa","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_14_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":771,"y":4237,"wires":[["536db74.0ea8748"]]},{"id":"a80ab6e9.f8dbe8","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-13","scope":["8077a777.543148"],"uncaught":false,"x":609,"y":1187,"wires":[["6e432d3d.143804"]]},{"id":"6e432d3d.143804","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_13","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":763,"y":1187,"wires":[["e8dd006c.1573c"]]},{"id":"4e232911.8780c8","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-14","scope":["8b85cf66.791fc"],"uncaught":false,"x":609,"y":1236,"wires":[["7c875eba.520e"]]},{"id":"7c875eba.520e","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_14","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":764,"y":1236,"wires":[["536db74.0ea8748"]]},{"id":"8ccc277d.43c708","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.117.127.141","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"fe27caae.356a18","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1227,"y":2730,"wires":[["6a396c2c.6bd964"],[]]},{"id":"848e76ea.065fd8","type":"catch","z":"daf04b1d.e819c8","name":"","scope":null,"uncaught":false,"x":100,"y":80,"wires":[["9a391df7.f438d","d19b4e4c.a73dd"]]},{"id":"5f6b00ae.f33f7","type":"switch","z":"daf04b1d.e819c8","name":"","property":"error_Status","propertyType":"msg","rules":[{"t":"eq","v":"retry","vt":"str"},{"t":"eq","v":"moveOnNextDevice","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":130,"y":240,"wires":[["593e7106.5d96d"],["30a0d231.71029e"]]},{"id":"593e7106.5d96d","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"1000","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":360,"y":208,"wires":[["2d9412da.c7795e"]]},{"id":"71ce66ef.c45a88","type":"switch","z":"daf04b1d.e819c8","name":"","property":"retry_or_moveOnNextDevice","propertyType":"msg","rules":[{"t":"eq","v":"RD_Profile1","vt":"str"},{"t":"eq","v":"RD_Profile2","vt":"str"},{"t":"eq","v":"RD_Profile3","vt":"str"},{"t":"eq","v":"RD_Profile4","vt":"str"},{"t":"eq","v":"RD_Profile5","vt":"str"},{"t":"eq","v":"RD_Profile6","vt":"str"},{"t":"eq","v":"RD_Profile7","vt":"str"},{"t":"eq","v":"RD_Profile8","vt":"str"},{"t":"eq","v":"RD_Profile9","vt":"str"},{"t":"eq","v":"RD_Profile10","vt":"str"},{"t":"eq","v":"RD_Profile11","vt":"str"},{"t":"eq","v":"RD_Profile12","vt":"str"},{"t":"eq","v":"RD_Profile13","vt":"str"},{"t":"eq","v":"RD_Profile14","vt":"str"},{"t":"eq","v":"RD_Profile15","vt":"str"},{"t":"eq","v":"RD_Profile16","vt":"str"},{"t":"eq","v":"RD_Profile17","vt":"str"},{"t":"eq","v":"RD_Profile18","vt":"str"},{"t":"eq","v":"RD_Profile19","vt":"str"},{"t":"eq","v":"RD_Profile20","vt":"str"},{"t":"eq","v":"RD_Profile21","vt":"str"},{"t":"eq","v":"RD_Profile22","vt":"str"},{"t":"eq","v":"RD_Profile23","vt":"str"},{"t":"eq","v":"RD_Profile24","vt":"str"},{"t":"eq","v":"RD_Profile25","vt":"str"},{"t":"eq","v":"RD_Profile26","vt":"str"},{"t":"eq","v":"RD_Profile27","vt":"str"}],"checkall":"true","repair":false,"outputs":27,"x":755,"y":279,"wires":[["fe6dc13b.49d32"],["bc6ca41a.bbbc18"],["df9ba73b.562ab8"],["683f4a18.28b2a4"],["1d18bd56.5afea3"],["27c59ca6.9cdd44"],["eb58a855.e280c8"],["f5921f0a.a671"],["95821716.fbdc08"],["ae8da354.b6f3"],["861c01c8.e94fb"],["22a27e15.44ef42"],["e8dd006c.1573c"],["536db74.0ea8748"],["befb57f2.d031a8"],["9a4c34fd.104c88"],["d460068d.e747e8"],["b1ce0d7d.25bab"],["935ec6ea.f1f678"],["56f029e8.c7d698"],["b9f4809d.23f57"],["7e097019.e5eba"],["a4073966.e89dc8"],["c08fa2c5.e635a"],["afe75304.88ede"],["fb34cb34.218c58"],["84915a87.ffaf08"]]},{"id":"30a0d231.71029e","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"1000","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":359,"y":273,"wires":[["87fbc536.161ac8"]]},{"id":"2d9412da.c7795e","type":"function","z":"daf04b1d.e819c8","name":"","func":"node.warn('Retry to Read')\n// node.warn(global.get('deviceProfile_30_Index'))\n// node.warn(global.get('deviceProfile_30_ReadIndex'))\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":563,"y":188,"wires":[["71ce66ef.c45a88"]]},{"id":"87fbc536.161ac8","type":"function","z":"daf04b1d.e819c8","name":"","func":"// node.warn('Move On Next Device')\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":561,"y":269,"wires":[["71ce66ef.c45a88"]]},{"id":"36eac939.d3acb6","type":"switch","z":"daf04b1d.e819c8","name":"Display Error","property":"display_Error","propertyType":"msg","rules":[{"t":"eq","v":"displayError","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":770,"y":46,"wires":[["c7a9946e.d22228","11866f42.1cf121"]]},{"id":"11866f42.1cf121","type":"debug","z":"daf04b1d.e819c8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":1010,"y":45,"wires":[]},{"id":"70787aae.b92644","type":"function","z":"daf04b1d.e819c8","name":"Error Frunction","func":"\nvar displayError = (deviceProfile, deviceProfile_Index) => {\n    node.warn('displayError')\n    msg.display_Error = 'displayError';\n    let device_Profile = global.get(deviceProfile);\n    let index = global.get(deviceProfile_Index);\n    let profile = device_Profile[index];\n    \n    let data = null;\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": data,\n        \"TimeStamp\": dateTime,\n        \"Error\": 1,\n     }\n    }\n}  \n\nvar moveOnNextDevice = (\n            deviceProfile_StoreData,\n            deviceProfile,\n            stop_to_read_deviceProfile_dataPacket,\n            deviceProfile_Count,\n            deviceProfile_Index,\n            deviceProfile_ReadIndex,\n            stop_deviceProfile\n            ) => {\n    node.warn('moveOnNextDevice')\n    msg.error_Status = 'moveOnNextDevice';\n    global.set(deviceProfile_StoreData, []);\n    let device_profile = global.get(deviceProfile);\n    let number_of_device = device_profile.length;\n    \n    global.set(stop_to_read_deviceProfile_dataPacket, false);\n    let deviceCount =  global.get(deviceProfile_Count);\n    deviceCount += 1;\n    global.set(deviceProfile_Count, deviceCount);\n    \n    let index = global.get(deviceProfile_Index);\n    index += 1;\n    global.set(deviceProfile_Index, index);\n    global.set(deviceProfile_ReadIndex, 0);\n    \n    if(deviceCount == number_of_device){\n        node.warn('number_of_device If condition');\n        msg.error_Status = '';\n        global.set(deviceProfile_Count, null);\n        global.set(stop_deviceProfile, false);\n        global.set(stop_to_read_deviceProfile_dataPacket, false);\n    }\n}\n\nlet retryToRead = (\n        deviceProfile_Index,\n        deviceProfile_dataPacket_Count,\n        deviceProfile_errorCount,\n        deviceProfile_StoreData,\n        deviceProfile_ReadIndex,\n        deviceProfile,\n        stop_to_read_deviceProfile_dataPacket,\n        deviceProfile_Count,\n        stop_deviceProfile\n        )  => {\n        let index = global.get(deviceProfile_Index);\n        \n        global.set(deviceProfile_dataPacket_Count, null);\n        \n        // displayError(deviceProfile, deviceProfile_Index);\n            \n            // Calling MoveOnNextDevice Function\n            // moveOnNextDevice(\n            //     deviceProfile_StoreData,\n            //     deviceProfile,\n            //     stop_to_read_deviceProfile_dataPacket,\n            //     deviceProfile_Count,\n            //     deviceProfile_Index,\n            //     deviceProfile_ReadIndex,\n            //     stop_deviceProfile\n            // );\n        \n        let errorCount = global.get(deviceProfile_errorCount) || 0;\n        errorCount += 1;\n        node.warn(errorCount + ' errorCount')\n        global.set(deviceProfile_errorCount, errorCount);\n        \n        if(errorCount == 1){\n            // node.warn('If Block')\n            global.set(deviceProfile_StoreData, []);\n            msg.error_Status = 'retry';\n            global.set(stop_to_read_deviceProfile_dataPacket, true);\n            global.set(deviceProfile_Index, index);\n            global.set(deviceProfile_ReadIndex, 0);   \n        }else {\n            // node.warn('else')\n            displayError(deviceProfile, deviceProfile_Index);\n            global.set(deviceProfile_errorCount, null);\n            \n            // Calling MoveOnNextDevice Function\n            moveOnNextDevice(\n                deviceProfile_StoreData,\n                deviceProfile,\n                stop_to_read_deviceProfile_dataPacket,\n                deviceProfile_Count,\n                deviceProfile_Index,\n                deviceProfile_ReadIndex,\n                stop_deviceProfile\n            );\n        }\n    }\n\n\nlet deviceProfile_ErrorConfig = (number) => {\n        // For RetryToRead function Configration\n        let deviceProfile_Index = `deviceProfile_${number}_Index`;\n        let deviceProfile_dataPacket_Count = `deviceProfile_${number}_dataPacket_Count`;\n        let deviceProfile_errorCount = `deviceProfile_${number}_errorCount`;\n        let deviceProfile_StoreData = `deviceProfile_${number}_StoreData`;\n        let deviceProfile_ReadIndex = `deviceProfile_${number}_ReadIndex`;\n        \n        // For DisplayError function Configration\n        let deviceProfile = `deviceProfile_${number}`;\n        \n        // For MoveOnNextDevice function Configration\n        let stop_to_read_deviceProfile_dataPacket = `stop_to_read_deviceProfile_${number}_dataPacket`;\n        let deviceProfile_Count = `deviceProfile_${number}_Count`;\n        let stop_deviceProfile = `stop_deviceProfile_${number}`;\n        \n        // Calling RetryToRead\n        retryToRead(\n            deviceProfile_Index,\n            deviceProfile_dataPacket_Count,\n            deviceProfile_errorCount,\n            deviceProfile_StoreData,\n            deviceProfile_ReadIndex,\n            deviceProfile,\n            stop_to_read_deviceProfile_dataPacket,\n            deviceProfile_Count,\n            stop_deviceProfile\n        );\n}\n\n\nvar identity_Node_To_Pink_RetryOrMoveOnNextDevice = (number) => {\n         if(msg.error_Status == 'retry'){\n            msg.retry_or_moveOnNextDevice = `RD_Profile${number}`;\n        }\n        if(msg.error_Status == 'moveOnNextDevice'){\n            msg.retry_or_moveOnNextDevice = `RD_Profile${number}`;\n        }\n}\n\nif(msg.error.source.name == \"10.102.255.141\"){\n    if(msg.error.message == \"[object Object]\"){\n        \n    let slaveID = msg.payload.unitid;\n    //Inverter-1\n    if(slaveID == 3){\n        node.warn('Error Occur in INV-1');\n        deviceProfile_ErrorConfig(1);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(1);\n    }\n    //Meter-1\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-1');\n        deviceProfile_ErrorConfig(1);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(1);\n    }\n    //Meter-2\n    if(slaveID == 2){\n        node.warn('Error Occur in MET-2');\n        deviceProfile_ErrorConfig(1);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(1);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.102.255.144\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-2\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-2');\n        deviceProfile_ErrorConfig(2);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(2);\n    }\n    //Meter-3\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-3');\n        deviceProfile_ErrorConfig(2);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(2);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.102.255.146\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-3\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-3');\n        deviceProfile_ErrorConfig(3);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(3);\n    }\n    //Inverter-29\n    if(slaveID == 3){\n        node.warn('Error Occur in INV-29');\n        deviceProfile_ErrorConfig(3);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(3);\n    }\n    \n    //Meter-4\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-4');\n        deviceProfile_ErrorConfig(3);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(3);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.102.255.148\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-4\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-4');\n        deviceProfile_ErrorConfig(4);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(4);\n    }\n    //Meter-5\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-5');\n        deviceProfile_ErrorConfig(4);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(4);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.102.255.150\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-5\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-5');\n        deviceProfile_ErrorConfig(5);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(5);\n    }\n    //Meter-6\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-6');\n        deviceProfile_ErrorConfig(5);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(5);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.102.255.152\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-6\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-6');\n        deviceProfile_ErrorConfig(6);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(6);\n    }\n    //Meter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-7');\n        deviceProfile_ErrorConfig(6);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(6);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.105.255.140\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-7\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-7');\n        deviceProfile_ErrorConfig(7);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(7);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.105.255.145\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-8\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-8');\n        deviceProfile_ErrorConfig(8);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(8);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.105.255.143\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-9\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-9');\n        deviceProfile_ErrorConfig(9);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(9);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.105.255.144\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-10\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-10');\n        deviceProfile_ErrorConfig(10);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(10);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.105.255.141\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-11\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-11');\n        deviceProfile_ErrorConfig(11);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(11);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.105.255.142\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-12\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-12');\n        deviceProfile_ErrorConfig(12);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(12);\n    }\n    //Meter-8\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-8');\n        deviceProfile_ErrorConfig(12);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(12);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.117.127.140\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-13\n    if(slaveID == 3){\n        node.warn('Error Occur in INV-13');\n        deviceProfile_ErrorConfig(13);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(13);\n    }\n    \n    //Meter-9\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-9');\n        deviceProfile_ErrorConfig(13);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(13);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.117.127.141\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-14\n    if(slaveID == 1){\n        node.warn('Error Occur in INV-14');\n        deviceProfile_ErrorConfig(14);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(14);\n    }\n    \n    //Inverter-15\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-15');\n        deviceProfile_ErrorConfig(14);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(14);\n    }\n    \n    //Meter-10\n    if(slaveID == 3){\n        node.warn('Error Occur in MET-10');\n        deviceProfile_ErrorConfig(14);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(14);\n    }\n    \n    //Meter-11\n    if(slaveID == 4){\n        node.warn('Error Occur in MET-11');\n        deviceProfile_ErrorConfig(14);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(14);\n    }\n}\n}\n\n\nif(msg.error.source.name == \"10.109.255.140\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-16\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-16');\n        deviceProfile_ErrorConfig(15);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(15);\n    }\n    \n    //Meter-12\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-12');\n        deviceProfile_ErrorConfig(15);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(15);\n    }\n    //WMS-1\n    if(slaveID == 3){\n        node.warn('Error Occur in WMS-1');\n        deviceProfile_ErrorConfig(15);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(15);\n    }\n}\n}\n\n\nif(msg.error.source.name == \"10.72.255.140\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-17\n    if(slaveID == 2){\n        node.warn('Error Occur in INV-17');\n        deviceProfile_ErrorConfig(16);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(16);\n    }\n    \n    //Meter-13\n    if(slaveID == 1){\n        node.warn('Error Occur in MET-13');\n        deviceProfile_ErrorConfig(16);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(16);\n    }\n}\n}\n\n// New Device Config  \nif(msg.error.source.name == \"10.132.255.140\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-1\n    if(slaveID == 1){\n        node.warn('Error Occur in New Device INV-1');\n        deviceProfile_ErrorConfig(17);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(17);\n    }\n    \n    //Inverter-2\n    if(slaveID == 2){\n        node.warn('Error Occur in New Device INV-2');\n        deviceProfile_ErrorConfig(17);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(17);\n    }\n    \n    //Inverter-3\n    if(slaveID == 3){\n        node.warn('Error Occur in New Device INV-3');\n        deviceProfile_ErrorConfig(17);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(17);\n    }\n    \n    //Inverter-3\n    if(slaveID == 4){\n        node.warn('Error Occur in New Device NewMET-1');\n        deviceProfile_ErrorConfig(17);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(17);\n    }\n}\n}\n\n\nif(msg.error.source.name == \"10.112.255.140\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-4\n    if(slaveID == 2){\n        node.warn('Error Occur in New Device INV-4');\n        deviceProfile_ErrorConfig(18);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(18);\n    }\n    \n    // Meter-1\n    if(slaveID == 1){\n        node.warn('Error Occur in New Device MET-1');\n        deviceProfile_ErrorConfig(18);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(18);\n    }\n}\n}\n\n\nif(msg.error.source.name == \"10.26.255.140\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-5\n    if(slaveID == 2){\n        node.warn('Error Occur in New Device INV-5');\n        deviceProfile_ErrorConfig(19);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(19);\n    }\n    \n    // Meter-2\n    if(slaveID == 1){\n        node.warn('Error Occur in New Device MET-2');\n        deviceProfile_ErrorConfig(19);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(19);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.26.255.141\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    //Inverter-6\n    if(slaveID == 2){\n        node.warn('Error Occur in New Device INV-6');\n        deviceProfile_ErrorConfig(20);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(20);\n    }\n    \n    // Meter-3\n    if(slaveID == 1){\n        node.warn('Error Occur in New Device MET-3');\n        deviceProfile_ErrorConfig(20);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(20);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.19.255.140\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    if(slaveID == 2){\n        node.warn('Error Occur in Civil/Main/INV-1');\n        deviceProfile_ErrorConfig(21);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(21);\n    }\n    \n    if(slaveID == 1){\n        node.warn('Error Occur in Civil/Main/MET-1');\n        deviceProfile_ErrorConfig(21);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(21);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.171.255.140\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    if(slaveID == 2){\n        node.warn('Error Occur in Vikarmshila/JCBOSE/INV-1');\n        deviceProfile_ErrorConfig(22);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(22);\n    }\n    \n    if(slaveID == 1){\n        node.warn('Error Occur in Vikarmshila/JCBOSE/MET-1');\n        deviceProfile_ErrorConfig(22);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(22);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.72.255.142\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    if(slaveID == 2){\n        node.warn('Error Occur in Vikramshila/Aryabhatta/INV1');\n        deviceProfile_ErrorConfig(23);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(23);\n    }\n    \n    if(slaveID == 1){\n        node.warn('Error Occur in Vikramshila/Aryabhatta/MET-1');\n        deviceProfile_ErrorConfig(23);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(23);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.72.255.143\"){\n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    if(slaveID == 2){\n        node.warn('Error Occur in Vikramshila/kalidas/INV-1');\n        deviceProfile_ErrorConfig(24);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(24);\n    }\n    \n    if(slaveID == 1){\n        node.warn('Error Occur in Vikramshila/kalidas/MET-1');\n        deviceProfile_ErrorConfig(24);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(24);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.25.255.140\"){ \n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    if(slaveID == 2){\n        node.warn('Error Occur in Aerospace/Main/INV-30');\n        deviceProfile_ErrorConfig(25);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(25);\n    }\n    \n    if(slaveID == 1){\n        node.warn('Error Occur in Aerospace/Main/MET-22');\n        deviceProfile_ErrorConfig(25);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(25);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.75.255.140\"){ \n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    if(slaveID == 2){\n        node.warn('Error Occur in Architechure/Main/INV-31');\n        deviceProfile_ErrorConfig(26);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(26);\n    }\n    \n    if(slaveID == 1){\n        node.warn('Error Occur in Architechure/Main/MET-23');\n        deviceProfile_ErrorConfig(26);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(26);\n    }\n}\n}\n\nif(msg.error.source.name == \"10.106.11.12\"){ \n    if(msg.error.message == \"[object Object]\"){\n    \n    let slaveID = msg.payload.unitid;\n    \n    if(slaveID == 1){\n        node.warn('Error Occur in Grid/MET-46');\n        deviceProfile_ErrorConfig(27);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(27);\n    }\n    \n    if(slaveID == 2){\n        node.warn('Error Occur in Grid/MET-47');\n        deviceProfile_ErrorConfig(27);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(27);\n    }\n    \n    if(slaveID == 3){\n        node.warn('Error Occur in Grid/MET-48');\n        deviceProfile_ErrorConfig(27);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(27);\n    }\n    \n    if(slaveID == 4){\n        node.warn('Error Occur in Grid/MET-49');\n        deviceProfile_ErrorConfig(27);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(27);\n    }\n    \n    if(slaveID == 5){\n        node.warn('Error Occur in Grid/MET-50');\n        deviceProfile_ErrorConfig(27);\n        identity_Node_To_Pink_RetryOrMoveOnNextDevice(27);\n    }\n}\n}\n\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":523,"y":80,"wires":[["5f6b00ae.f33f7","36eac939.d3acb6"]]},{"id":"9a391df7.f438d","type":"debug","z":"daf04b1d.e819c8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":310,"y":20,"wires":[]},{"id":"2120d197.a266be","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-15","scope":["9aaaebfa.884f68"],"uncaught":false,"x":576,"y":4294,"wires":[["70460997.4eead8"]]},{"id":"70460997.4eead8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_15_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":771,"y":4294,"wires":[["befb57f2.d031a8"]]},{"id":"a02341e2.eb3f5","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-16","scope":["3e8a75c2.1b8c0a"],"uncaught":false,"x":575,"y":4349,"wires":[["b3fb7ac7.88b9d8"]]},{"id":"b3fb7ac7.88b9d8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_16_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":770,"y":4349,"wires":[["9a4c34fd.104c88"]]},{"id":"950b8f0e.12704","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-15","scope":["9aaaebfa.884f68"],"uncaught":false,"x":609,"y":1289,"wires":[["c800d5de.1865b8"]]},{"id":"c800d5de.1865b8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_15","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":764,"y":1289,"wires":[["befb57f2.d031a8"]]},{"id":"9dd63982.1cc588","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-16","scope":["3e8a75c2.1b8c0a"],"uncaught":false,"x":609,"y":1341,"wires":[["da6adb1f.9dd038"]]},{"id":"da6adb1f.9dd038","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_16","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":764,"y":1341,"wires":[["9a4c34fd.104c88"]]},{"id":"befb57f2.d031a8","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-15","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n\n\nvar device_profile = global.get('deviceProfile_15');\nvar index = global.get('deviceProfile_15_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_15_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_15', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1004,"y":2787,"wires":[["c032dcce.45bf5"]]},{"id":"685e264.34a1dd8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_15","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2132.2857055664062,"y":2788.142852783203,"wires":[["9016763f.51c5e8","c7a9946e.d22228"]]},{"id":"9016763f.51c5e8","type":"debug","z":"daf04b1d.e819c8","name":"10.109.255.140","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2327.2857055664062,"y":2793.7142639160156,"wires":[]},{"id":"831ba02b.8de29","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1422.2857055664062,"y":2787.142852783203,"wires":[["6520f3b2.14996c"]]},{"id":"242bd66f.27e7da","type":"function","z":"daf04b1d.e819c8","name":"Dp-15 INV-16, MET-12, WMS-1","func":"var deviceProfile_15 = [\n   {\n        deviceName: \"Inverter-16\",\n        deviceProfile: {\n            deviceNo: 16,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-12\",\n        deviceProfile: {\n            deviceNo: 12,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    },\n    {\n        deviceName: \"WMS-1\",\n        deviceProfile: {\n            deviceNo: 1,\n            deviceType: 101\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    {\n                        fc: 3,\n                        address: 4,\n                        quantity: 1\n                    },\n                    {\n                        fc: 3,\n                        address: 0,\n                        quantity: 1\n                    },\n                    {\n                        fc: 3,\n                        address: 5,\n                        quantity: 1\n                    }\n                    \n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_15', deviceProfile_15);\nglobal.set('deviceProfile_15_Index', 0);\nglobal.set('deviceProfile_15_ReadIndex', 0);\nglobal.set('deviceProfile_15_StoreData', []);  \nglobal.set(\"deviceProfile_15_Count\", 0);\nglobal.set(\"deviceProfile_15_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":668.2857055664062,"y":2785.142852783203,"wires":[["befb57f2.d031a8"]]},{"id":"c032dcce.45bf5","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.109.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"463fd387.314dec","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1226,"y":2792,"wires":[["831ba02b.8de29"],[]]},{"id":"9a4c34fd.104c88","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-16","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_16');\nvar index = global.get('deviceProfile_16_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_16_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_16', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1005,"y":2847,"wires":[["f7f19430.4ba0c8"]]},{"id":"f5607073.cadd1","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_16","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2133.2857055664062,"y":2848.142852783203,"wires":[["c7a9946e.d22228","a2d3d403.5cbf28"]]},{"id":"a2d3d403.5cbf28","type":"debug","z":"daf04b1d.e819c8","name":"10.72.255.140","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2328.2857055664062,"y":2854.7142639160156,"wires":[]},{"id":"7e6a8254.33b11c","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1423.2857055664062,"y":2847.142852783203,"wires":[["27f6de83.7dcb92"]]},{"id":"91baa89a.756668","type":"function","z":"daf04b1d.e819c8","name":"Dp-16 INV-18, MET-13","func":"\nvar deviceProfile_16 = [\n   {\n        deviceName: \"Inverter-18\",\n        deviceProfile: {\n            deviceNo: 18,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-13\",\n        deviceProfile: {\n            deviceNo: 13,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_16', deviceProfile_16);\nglobal.set('deviceProfile_16_Index', 0);\nglobal.set('deviceProfile_16_ReadIndex', 0);\nglobal.set('deviceProfile_16_StoreData', []);  \nglobal.set(\"deviceProfile_16_Count\", 0);\nglobal.set(\"deviceProfile_16_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":639.2857055664062,"y":2846.142852783203,"wires":[["9a4c34fd.104c88"]]},{"id":"f7f19430.4ba0c8","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.72.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"2137969a.41a2fa","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1227,"y":2852,"wires":[["7e6a8254.33b11c"],[]]},{"id":"d460068d.e747e8","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-17","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_17');\nvar index = global.get('deviceProfile_17_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_17_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_17', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1005,"y":2904,"wires":[["77d8a134.59c81"]]},{"id":"fcac73a3.23a9c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_17","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2130.2857055664062,"y":2905.142852783203,"wires":[["c7a9946e.d22228","887b7f1b.8e125"]]},{"id":"887b7f1b.8e125","type":"debug","z":"daf04b1d.e819c8","name":"10.132.255.140","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2328.2857055664062,"y":2911.7142639160156,"wires":[]},{"id":"33208890.bc5c68","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1423.2857055664062,"y":2904.142852783203,"wires":[["d61171f0.20e5"]]},{"id":"dd108ecc.b9396","type":"function","z":"daf04b1d.e819c8","name":"Dp-17 INV-1, INV-2, INV-3, MET-1","func":"var deviceProfile_17 = [\n  {\n        deviceName: \"Inverter-20\",\n        deviceProfile: {\n            deviceNo: 20,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 1,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Inverter-21\",\n        deviceProfile: {\n            deviceNo: 21,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Inverter-22\",\n        deviceProfile: {\n            deviceNo: 22,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 3,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-15\",\n        deviceProfile: {\n            deviceNo: 15,\n            deviceType: 180\n        },\n        read: {\n            slaveID: 4,\n        regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 3912,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3928,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3942,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3956,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3910,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3926,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3940,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3954,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3902,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3918,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3932,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3946,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3904,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3920,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3934,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3948,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3900,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3916,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3930,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3944,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3906,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3922,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3936,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3950,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3914,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3958,\n                        quantity: 16\n                    },\n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_17', deviceProfile_17);\nglobal.set('deviceProfile_17_Index', 0);\nglobal.set('deviceProfile_17_ReadIndex', 0);\nglobal.set('deviceProfile_17_StoreData', []);  \nglobal.set(\"deviceProfile_17_Count\", 0);\nglobal.set(\"deviceProfile_17_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":679.2857055664062,"y":2903.142852783203,"wires":[["d460068d.e747e8"]]},{"id":"77d8a134.59c81","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.132.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"87afa2fb.21ad6","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1227,"y":2909,"wires":[["33208890.bc5c68"],[]]},{"id":"78703ba5.f81204","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-17","scope":["1e21584b.7cd698"],"uncaught":false,"x":575,"y":4406,"wires":[["3be21c69.592044"]]},{"id":"3be21c69.592044","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_17_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":770,"y":4406,"wires":[["d460068d.e747e8"]]},{"id":"c8194717.4e68e8","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-17","scope":["1e21584b.7cd698"],"uncaught":false,"x":610,"y":1398,"wires":[["cca6267e.ed6368"]]},{"id":"cca6267e.ed6368","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_17","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":765,"y":1398,"wires":[["d460068d.e747e8"]]},{"id":"b1ce0d7d.25bab","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-18","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_18');\nvar index = global.get('deviceProfile_18_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_18_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_18', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1005,"y":2963,"wires":[["822f7b29.ab6508"]]},{"id":"af02816b.a96ac","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_18","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2133.2857055664062,"y":2964.142852783203,"wires":[["c7a9946e.d22228","1a056a3d.b4b796"]]},{"id":"1a056a3d.b4b796","type":"debug","z":"daf04b1d.e819c8","name":"10.112.255.140","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2328.2857055664062,"y":2970.7142639160156,"wires":[]},{"id":"b5e08002.18832","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1423.2857055664062,"y":2963.142852783203,"wires":[["5dfe8958.d4bf58"]]},{"id":"a3593a19.d5b6b8","type":"function","z":"daf04b1d.e819c8","name":"Dp-18 INV-4, MET-1","func":"var deviceProfile_18 = [\n   {\n        deviceName: \"Inverter-19\",\n        deviceProfile: {\n            deviceNo: 19,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n   {\n        deviceName: \"Meter-14\",\n        deviceProfile: {\n            deviceNo: 14,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_18', deviceProfile_18);\nglobal.set('deviceProfile_18_Index', 0);\nglobal.set('deviceProfile_18_ReadIndex', 0);\nglobal.set('deviceProfile_18_StoreData', []);  \nglobal.set(\"deviceProfile_18_Count\", 0);\nglobal.set(\"deviceProfile_18_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":639.2857055664062,"y":2962.142852783203,"wires":[["b1ce0d7d.25bab"]]},{"id":"822f7b29.ab6508","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.112.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"1125a09b.7c720f","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1227,"y":2968,"wires":[["b5e08002.18832"],[]]},{"id":"e7c8d98d.954768","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-18","scope":["70de2a42.73fa94"],"uncaught":false,"x":576,"y":4462,"wires":[["36dad2a7.43aabe"]]},{"id":"36dad2a7.43aabe","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_18_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":771,"y":4462,"wires":[["b1ce0d7d.25bab"]]},{"id":"abe618f6.3d1098","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-18","scope":["70de2a42.73fa94"],"uncaught":false,"x":611,"y":1448,"wires":[["4dfa07a2.3f0c78"]]},{"id":"4dfa07a2.3f0c78","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_18","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":766,"y":1448,"wires":[["b1ce0d7d.25bab"]]},{"id":"935ec6ea.f1f678","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-19","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_19');\nvar index = global.get('deviceProfile_19_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_19_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_19', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1001,"y":3024,"wires":[["8d11cc39.e5db1"]]},{"id":"e1a73b3f.6f7dd8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_19","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2129.2857055664062,"y":3025.142852783203,"wires":[["c7a9946e.d22228","23908a36.e70076"]]},{"id":"242ce052.90edb","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1419.2857055664062,"y":3024.142852783203,"wires":[["bdd55c6c.b7ed1"]]},{"id":"b58412e0.69d27","type":"function","z":"daf04b1d.e819c8","name":"Dp-19 INV-5, MET-2","func":"var deviceProfile_19 = [\n   {\n        deviceName: \"Inverter-23\",\n        deviceProfile: {\n            deviceNo: 23,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n   {\n        deviceName: \"Meter-16\",\n        deviceProfile: {\n            deviceNo: 16,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_19', deviceProfile_19);\nglobal.set('deviceProfile_19_Index', 0);\nglobal.set('deviceProfile_19_ReadIndex', 0);\nglobal.set('deviceProfile_19_StoreData', []);  \nglobal.set(\"deviceProfile_19_Count\", 0);\nglobal.set(\"deviceProfile_19_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":3020,"wires":[["935ec6ea.f1f678"]]},{"id":"8d11cc39.e5db1","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.26.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"8ac25039.056fe","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1223,"y":3029,"wires":[["242ce052.90edb"],[]]},{"id":"23908a36.e70076","type":"debug","z":"daf04b1d.e819c8","name":"10.26.255.140","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2324.2857055664062,"y":3028.7142639160156,"wires":[]},{"id":"37672f34.9515b","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-19","scope":["26eaf3c3.048f4c"],"uncaught":false,"x":576,"y":4516,"wires":[["5e31a096.2dee2"]]},{"id":"5e31a096.2dee2","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_19_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":771,"y":4516,"wires":[["935ec6ea.f1f678"]]},{"id":"7638783f.674dc8","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-19","scope":["26eaf3c3.048f4c"],"uncaught":false,"x":611,"y":1502,"wires":[["d4c763f9.c8973"]]},{"id":"d4c763f9.c8973","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_19","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":766,"y":1502,"wires":[["935ec6ea.f1f678"]]},{"id":"56f029e8.c7d698","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-20","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_20');\nvar index = global.get('deviceProfile_20_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_20_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_20', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":3082,"wires":[["ecbb5f1f.f3407"]]},{"id":"e19e4389.00dc9","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_20","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2128.2857055664062,"y":3083.142852783203,"wires":[["c7a9946e.d22228","797bd6a4.4c81b8"]]},{"id":"a776f06c.4808","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1418.2857055664062,"y":3082.142852783203,"wires":[["998632f3.c1a9c"]]},{"id":"c4226305.d1c51","type":"function","z":"daf04b1d.e819c8","name":"Dp-20 INV-6, MET-3","func":"var deviceProfile_20 = [\n   {\n        deviceName: \"Inverter-24\",\n        deviceProfile: {\n            deviceNo: 24,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n   {\n        deviceName: \"Meter-17\",\n        deviceProfile: {\n            deviceNo: 17,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_20', deviceProfile_20);\nglobal.set('deviceProfile_20_Index', 0);\nglobal.set('deviceProfile_20_ReadIndex', 0);\nglobal.set('deviceProfile_20_StoreData', []);  \nglobal.set(\"deviceProfile_20_Count\", 0);\nglobal.set(\"deviceProfile_20_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":634.2857055664062,"y":3081.142852783203,"wires":[["56f029e8.c7d698"]]},{"id":"ecbb5f1f.f3407","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.26.255.141","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"2cf4f96e.f99336","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1222,"y":3087,"wires":[["a776f06c.4808"],[]]},{"id":"797bd6a4.4c81b8","type":"debug","z":"daf04b1d.e819c8","name":"10.26.255.141","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2323.2857055664062,"y":3086.7142639160156,"wires":[]},{"id":"8820aa3c.38b248","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-20","scope":["efaf53d3.23826"],"uncaught":false,"x":578,"y":4571,"wires":[["73290305.70e51c"]]},{"id":"73290305.70e51c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_20_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":773,"y":4571,"wires":[["56f029e8.c7d698"]]},{"id":"4d1b736c.d8341c","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-20","scope":["efaf53d3.23826"],"uncaught":false,"x":611,"y":1553,"wires":[["8388f97b.f1a338"]]},{"id":"8388f97b.f1a338","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_20","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":766,"y":1553,"wires":[["56f029e8.c7d698"]]},{"id":"e38d0216.249b7","type":"change","z":"daf04b1d.e819c8","name":"","rules":[{"t":"set","p":"deviceType","pt":"msg","to":"payloadData.request.DeviceType","tot":"msg"},{"t":"set","p":"deviceNo","pt":"msg","to":"payloadData.request.DeviceNo","tot":"msg"},{"t":"set","p":"errFlag","pt":"msg","to":"payloadData.request.Error","tot":"msg"},{"t":"set","p":"timeStamp","pt":"msg","to":"payloadData.request.TimeStamp","tot":"msg"},{"t":"set","p":"data","pt":"msg","to":"payloadData.request.Data","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":3620,"wires":[["df95bfa3.0498d"]]},{"id":"46c5cfbd.a65e4","type":"debug","z":"daf04b1d.e819c8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":2121,"y":3670,"wires":[]},{"id":"304efc2d.24fdf4","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.102.255.141","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"3eeb68b0.9a8ec8","x":1608,"y":3590,"wires":[[]]},{"id":"d434bf62.8250a","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_1","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1430,"y":3590,"wires":[["304efc2d.24fdf4"]]},{"id":"18e59685.51f819","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.102.255.141\"){\n     msg.reConnector_1 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.102.255.141', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_1 = false;\n}\n}else {\n    msg.reConnector_1 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1265,"y":3590,"wires":[["d434bf62.8250a"]]},{"id":"41c4b31a.ea346c","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.102.255.144","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"23c65529.93cc2a","x":1609.9998779296875,"y":3642,"wires":[[]]},{"id":"14f2ca9c.929435","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_2","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1433.9998779296875,"y":3642,"wires":[["41c4b31a.ea346c"]]},{"id":"ba5f2be.1b9d4d8","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.102.255.144\"){\n     msg.reConnector_2 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.102.255.144', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_2 = false;\n}\n}else {\n    msg.reConnector_2 = false;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1264.9998779296875,"y":3642,"wires":[["14f2ca9c.929435"]]},{"id":"1ee50804.459a08","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.102.255.146","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"bcfe1aa.1662ee8","x":1614,"y":3690,"wires":[[]]},{"id":"beedc957.9b84c8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_3","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1436,"y":3690,"wires":[["1ee50804.459a08"]]},{"id":"1204f165.06bb3f","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.102.255.146\"){\n     msg.reConnector_3 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.102.255.146', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_3 = false;\n}\n}else {\n    msg.reConnector_3 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1271,"y":3690,"wires":[["beedc957.9b84c8"]]},{"id":"5f01f9e8.722d48","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.102.255.148","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"61e97fc4.09963","x":1618.9998779296875,"y":3742,"wires":[[]]},{"id":"d45c6332.de3de","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_4","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1439.9998779296875,"y":3742,"wires":[["5f01f9e8.722d48"]]},{"id":"8c1eda0e.f9eba8","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.102.255.148\"){\n     msg.reConnector_4 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.102.255.148', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_4 = false;\n}\n}else {\n    msg.reConnector_4 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1270.9998779296875,"y":3742,"wires":[["d45c6332.de3de"]]},{"id":"9ab98986.5b7fe8","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.102.255.150","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"c92d523d.2ae47","x":1624,"y":3797,"wires":[[]]},{"id":"c24d8faa.13611","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_5","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1442,"y":3797,"wires":[["9ab98986.5b7fe8"]]},{"id":"b39749d7.133018","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.102.255.150\"){\n     msg.reConnector_5 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.102.255.150', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_5 = false;\n}\n}else {\n    msg.reConnector_5 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1273,"y":3797,"wires":[["c24d8faa.13611"]]},{"id":"112c8cc2.dbb863","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.102.255.152","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"9775a4e8.6941d8","x":1628,"y":3850,"wires":[[]]},{"id":"7b1707b3.de10e8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_6","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1450,"y":3850,"wires":[["112c8cc2.dbb863"]]},{"id":"dd75636e.c044d","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.102.255.152\"){\n     msg.reConnector_6 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.102.255.152', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_6 = false;\n}\n}else {\n    msg.reConnector_6 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1285,"y":3850,"wires":[["7b1707b3.de10e8"]]},{"id":"7c6fa3b4.9eb92c","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.105.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"180694d0.7abb2b","x":1635.9998779296875,"y":3902,"wires":[[]]},{"id":"1ccfbf7c.8d8ea1","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_7","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1453.9998779296875,"y":3902,"wires":[["7c6fa3b4.9eb92c"]]},{"id":"67b9460e.cb1bd8","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.105.255.140\"){\n     msg.reConnector_7 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.105.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_7 = false;\n}\n}else {\n    msg.reConnector_7 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1284.9998779296875,"y":3902,"wires":[["1ccfbf7c.8d8ea1"]]},{"id":"40651c76.e74c24","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.105.255.145","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"98bef830.026068","x":1634,"y":3950,"wires":[[]]},{"id":"fd7cf9b5.43e368","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_8","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1456,"y":3950,"wires":[["40651c76.e74c24"]]},{"id":"cb9810ed.37bf2","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.105.255.145\"){\n     msg.reConnector_8 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.105.255.145', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_8 = false;\n}\n}else {\n    msg.reConnector_8 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1291,"y":3950,"wires":[["fd7cf9b5.43e368"]]},{"id":"f8baed9c.c3841","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.105.255.143","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"a2c3fa45.54e9b8","x":1641.9998779296875,"y":4002,"wires":[[]]},{"id":"552c7acc.c80fa4","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_9","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1459.9998779296875,"y":4002,"wires":[["f8baed9c.c3841"]]},{"id":"dc06ece3.4453e","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.105.255.143\"){\n     msg.reConnector_9 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.105.255.143', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_9 = false;\n}\n}else {\n    msg.reConnector_9 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1290.9998779296875,"y":4002,"wires":[["552c7acc.c80fa4"]]},{"id":"14ab5f3b.ee7001","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.105.255.144","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"ccf13de4.2dfc6","x":1644,"y":4057,"wires":[[]]},{"id":"ef58be4f.fb7ac","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_10","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1462,"y":4057,"wires":[["14ab5f3b.ee7001"]]},{"id":"a36d42b1.9a4ec","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.105.255.144\"){\n     msg.reConnector_10 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.105.255.144', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_10 = false;\n}\n}else {\n    msg.reConnector_10 = false;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1293,"y":4057,"wires":[["ef58be4f.fb7ac"]]},{"id":"7c9ff661.d7b958","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.105.255.141","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"6030c16.b268a4","x":1648,"y":4110,"wires":[[]]},{"id":"b3ba9ad8.dcc938","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_11","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1470,"y":4110,"wires":[["7c9ff661.d7b958"]]},{"id":"b50734f4.8f78a8","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.105.255.141\"){\n     msg.reConnector_11 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.105.255.141', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_11 = false;\n}\n}else {\n    msg.reConnector_11 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1305,"y":4110,"wires":[["b3ba9ad8.dcc938"]]},{"id":"87a20d.7396fdf","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.105.255.142","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"1530d5c0.6fd18a","x":1655.9998779296875,"y":4162,"wires":[[]]},{"id":"d7e0c6c4.e83528","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_12","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1473.9998779296875,"y":4162,"wires":[["87a20d.7396fdf"]]},{"id":"12fd418c.21a03e","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.105.255.142\"){\n     msg.reConnector_12 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.105.255.142', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_12 = false;\n}\n}else {\n    msg.reConnector_12 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1304.9998779296875,"y":4162,"wires":[["d7e0c6c4.e83528"]]},{"id":"94f138a4.44c988","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.117.127.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"f51233cc.4eb5c","x":1654,"y":4210,"wires":[[]]},{"id":"a195cc4f.9256b","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_13","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1476,"y":4210,"wires":[["94f138a4.44c988"]]},{"id":"84a7a164.01f68","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.117.127.140\"){\n     msg.reConnector_13 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.117.127.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_13 = false;\n}\n}else {\n    msg.reConnector_13 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1307,"y":4210,"wires":[["a195cc4f.9256b"]]},{"id":"c5f117c1.c0df88","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.117.127.141","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"fe27caae.356a18","x":1661.9998779296875,"y":4262,"wires":[[]]},{"id":"879a1d8e.117d4","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_14","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1479.9998779296875,"y":4262,"wires":[["c5f117c1.c0df88"]]},{"id":"cb5c9d12.a40ff","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.117.127.141\"){\n     msg.reConnector_14 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.117.127.141', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_14 = false;\n}\n}else {\n    msg.reConnector_14 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1310.9998779296875,"y":4262,"wires":[["879a1d8e.117d4"]]},{"id":"cb48fb0f.517288","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.109.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"463fd387.314dec","x":1664,"y":4317,"wires":[[]]},{"id":"d5c51bab.cd35f8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_15","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1482,"y":4317,"wires":[["cb48fb0f.517288"]]},{"id":"8f195923.9a5488","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.109.255.140\"){\n     msg.reConnector_15 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.109.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_15 = false;\n}\n}else {\n    msg.reConnector_15 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1313,"y":4317,"wires":[["d5c51bab.cd35f8"]]},{"id":"38077ec6.7e1a82","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.72.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"2137969a.41a2fa","x":1668,"y":4370,"wires":[[]]},{"id":"66efeda4.7c3394","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_16","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1490,"y":4370,"wires":[["38077ec6.7e1a82"]]},{"id":"9556c397.e7a87","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.72.255.140\"){\n     msg.reConnector_16 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.72.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_16 = false;\n}\n}else {\n    msg.reConnector_16 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1315,"y":4370,"wires":[["66efeda4.7c3394"]]},{"id":"ac08d2bf.b7021","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.132.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"87afa2fb.21ad6","x":1675.9998779296875,"y":4422,"wires":[[]]},{"id":"30a00614.cb776a","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_17","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1493.9998779296875,"y":4422,"wires":[["ac08d2bf.b7021"]]},{"id":"7e5469c6.7b91f8","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.132.255.140\"){\n     msg.reConnector_17 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.132.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_17 = false;\n}\n}else {\n    msg.reConnector_17 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1314.9998779296875,"y":4422,"wires":[["30a00614.cb776a"]]},{"id":"ba9591e9.091d2","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.112.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":false,"server":"1125a09b.7c720f","x":1674,"y":4470,"wires":[[]]},{"id":"b49edae1.09e228","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_18","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1496,"y":4470,"wires":[["ba9591e9.091d2"]]},{"id":"43a1869c.11f3e8","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.112.255.140\"){\n     msg.reConnector_18 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.112.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_18 = false;\n}\n}else {\n    msg.reConnector_18 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1321,"y":4470,"wires":[["b49edae1.09e228"]]},{"id":"eaf1203b.b11e7","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.26.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"8ac25039.056fe","x":1681.9998779296875,"y":4522,"wires":[[]]},{"id":"4824d7c3.a02708","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_19","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1499.9998779296875,"y":4522,"wires":[["eaf1203b.b11e7"]]},{"id":"bbcc73e9.e94b6","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.26.255.140\"){\n     msg.reConnector_19 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.26.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_19 = false;\n}\n}else {\n    msg.reConnector_19 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1320.9998779296875,"y":4522,"wires":[["4824d7c3.a02708"]]},{"id":"8fe42cc7.6202e","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.26.255.141","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"2cf4f96e.f99336","x":1684,"y":4577,"wires":[[]]},{"id":"5550bec3.9ca6f","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_20","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1502,"y":4577,"wires":[["8fe42cc7.6202e"]]},{"id":"df88f20a.98919","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.26.255.141\"){\n     msg.reConnector_20 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.26.255.141', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_20 = false;\n}\n}else {\n    msg.reConnector_20 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1323,"y":4577,"wires":[["5550bec3.9ca6f"]]},{"id":"79c85d2.d8d0da4","type":"catch","z":"daf04b1d.e819c8","name":"","scope":null,"uncaught":false,"x":1028,"y":3693,"wires":[["18e59685.51f819","ba5f2be.1b9d4d8","1204f165.06bb3f","8c1eda0e.f9eba8","b39749d7.133018","dd75636e.c044d","67b9460e.cb1bd8","cb9810ed.37bf2","dc06ece3.4453e","a36d42b1.9a4ec","b50734f4.8f78a8","12fd418c.21a03e","84a7a164.01f68","cb5c9d12.a40ff","8f195923.9a5488","9556c397.e7a87","7e5469c6.7b91f8","43a1869c.11f3e8","bbcc73e9.e94b6","df88f20a.98919","5ef1d804.12f458","9ead8c69.e9cf1","55a3af0d.b6d47","f0a5913d.52595","107e4906.5babb7","8445bcb8.3a068","506a5556.afd73c"]]},{"id":"6ec326f2.700a18","type":"comment","z":"daf04b1d.e819c8","name":"******** Reconect *******","info":"","x":1324,"y":3545,"wires":[]},{"id":"b9f4809d.23f57","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-21","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_21');\nvar index = global.get('deviceProfile_21_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_21_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_21', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":997,"y":3150,"wires":[["dd7487e2.141cc8"]]},{"id":"f440c39e.72c68","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-21","func":"var device_profile = global.get('deviceProfile_21');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_21_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_21_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_21_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_21_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_21_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-21')\n    global.set('deviceProfile_21_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_21_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_21_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_21_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_21_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_21_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_21_ReadIndex', index);  \n  global.set('stop_deviceProfile_21', false);\n  global.set('stop_to_read_deviceProfile_21_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_21_dataPacket', false);\n    global.set('deviceProfile_21_ReadIndex', 0);\n    global.set(\"deviceProfile_21_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_21', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_21_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_21_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_21_Index');\n        index += 1;\n        global.set('deviceProfile_21_Index', index);\n        global.set('stop_deviceProfile_21', true);\n        global.set('stop_to_read_deviceProfile_21_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_21_dataPacket', false);\n        global.set('stop_deviceProfile_21', false);\n        global.set('deviceProfile_21_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1912,"y":3145,"wires":[["9851f3ac.32daa"]]},{"id":"9851f3ac.32daa","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_21","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2131,"y":3145.4285888671875,"wires":[["f3b34568.1c3c98","c7a9946e.d22228"]]},{"id":"c8f4ab4a.0265f8","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1415.2857055664062,"y":3145.142852783203,"wires":[["d5701236.284f6"]]},{"id":"7b897e56.dc942","type":"function","z":"daf04b1d.e819c8","name":"Dp-21 INV-6, MET-3","func":"var deviceProfile_21 = [\n   {\n        deviceName: \"Inverter-25\",\n        deviceProfile: {\n            deviceNo: 25,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n   {\n        deviceName: \"Meter-18\",\n        deviceProfile: {\n            deviceNo: 18,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_21', deviceProfile_21);\nglobal.set('deviceProfile_21_Index', 0);\nglobal.set('deviceProfile_21_ReadIndex', 0);\nglobal.set('deviceProfile_21_StoreData', []);  \nglobal.set(\"deviceProfile_21_Count\", 0);\nglobal.set(\"deviceProfile_21_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":631.2857055664062,"y":3149.142852783203,"wires":[["b9f4809d.23f57"]]},{"id":"f3b34568.1c3c98","type":"debug","z":"daf04b1d.e819c8","name":"10.19.255.140","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2323,"y":3145,"wires":[]},{"id":"7e097019.e5eba","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-22","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_22');\nvar index = global.get('deviceProfile_22_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_22_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_22', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":997,"y":3208,"wires":[["a52f04c3.4a0118"]]},{"id":"feaa2275.139ba","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-22","func":"var device_profile = global.get('deviceProfile_22');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_22_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_22_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_22_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_22_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_22_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-22')\n    global.set('deviceProfile_22_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_22_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_22_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_22_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_22_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_22_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_22_ReadIndex', index);  \n  global.set('stop_deviceProfile_22', false);\n  global.set('stop_to_read_deviceProfile_22_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_22_dataPacket', false);\n    global.set('deviceProfile_22_ReadIndex', 0);\n    global.set(\"deviceProfile_22_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_22', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_22_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_22_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_22_Index');\n        index += 1;\n        global.set('deviceProfile_22_Index', index);\n        global.set('stop_deviceProfile_22', true);\n        global.set('stop_to_read_deviceProfile_22_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_22_dataPacket', false);\n        global.set('stop_deviceProfile_22', false);\n        global.set('deviceProfile_22_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1912,"y":3204,"wires":[["d8c44eb0.f5f51"]]},{"id":"d8c44eb0.f5f51","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_22","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2131,"y":3203.4285888671875,"wires":[["e431e7bf.752598","c7a9946e.d22228"]]},{"id":"9dd03977.debd28","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1415.2857055664062,"y":3204.142852783203,"wires":[["a4b03e82.5f20e"]]},{"id":"3a1d12fe.d8720e","type":"function","z":"daf04b1d.e819c8","name":"Dp-22 Vikarmshila/JCBOSE/ INV-28, MET-21","func":"var deviceProfile_22 = [\n   {\n        deviceName: \"Inverter-28\",\n        deviceProfile: {\n            deviceNo: 28,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n   {\n        deviceName: \"Meter-21\",\n        deviceProfile: {\n            deviceNo: 21,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_22', deviceProfile_22);\nglobal.set('deviceProfile_22_Index', 0);\nglobal.set('deviceProfile_22_ReadIndex', 0);\nglobal.set('deviceProfile_22_StoreData', []);  \nglobal.set(\"deviceProfile_22_Count\", 0);\nglobal.set(\"deviceProfile_22_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":621,"y":3208,"wires":[["7e097019.e5eba"]]},{"id":"e431e7bf.752598","type":"debug","z":"daf04b1d.e819c8","name":"10.171.255.140","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2323,"y":3204,"wires":[]},{"id":"dd7487e2.141cc8","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.19.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"ed354e75.8eadc","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1229,"y":3151,"wires":[["c8f4ab4a.0265f8"],[]]},{"id":"a52f04c3.4a0118","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.171.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"c67648b.d593bb8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1230,"y":3208,"wires":[["9dd03977.debd28"],[]]},{"id":"a575ea06.82f5a8","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-22","scope":["feaa2275.139ba"],"uncaught":false,"x":580,"y":4674,"wires":[["35e652dd.1f49ce"]]},{"id":"35e652dd.1f49ce","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_22_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":775,"y":4674,"wires":[["7e097019.e5eba"]]},{"id":"2e28eef6.dac892","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-21","scope":["f440c39e.72c68"],"uncaught":false,"x":580,"y":4624,"wires":[["228db876.3fdfc8"]]},{"id":"228db876.3fdfc8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_21_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":775,"y":4624,"wires":[["b9f4809d.23f57"]]},{"id":"3229a331.0696dc","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-21","scope":["f440c39e.72c68"],"uncaught":false,"x":610,"y":1605,"wires":[["86b69544.353378"]]},{"id":"86b69544.353378","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_21","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":765,"y":1605,"wires":[["b9f4809d.23f57"]]},{"id":"37a8efc6.3f616","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-22","scope":["feaa2275.139ba"],"uncaught":false,"x":609,"y":1657,"wires":[["146876ba.d0dad9"]]},{"id":"146876ba.d0dad9","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_22","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":766,"y":1657,"wires":[["7e097019.e5eba"]]},{"id":"952ff9a9.10bbc8","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.19.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"ed354e75.8eadc","x":1687,"y":4635,"wires":[[]]},{"id":"ca66fd24.c058a","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_21","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1505,"y":4635,"wires":[["952ff9a9.10bbc8"]]},{"id":"5ef1d804.12f458","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.19.255.140\"){\n     msg.reConnector_21 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.19.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_21 = false;\n}\n}else {\n    msg.reConnector_21 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1326,"y":4635,"wires":[["ca66fd24.c058a"]]},{"id":"26beb273.e3b07e","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.171.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"c67648b.d593bb8","x":1690,"y":4690,"wires":[[]]},{"id":"e88f1f07.68e29","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_22","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1508,"y":4690,"wires":[["26beb273.e3b07e"]]},{"id":"9ead8c69.e9cf1","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.171.255.140\"){\n     msg.reConnector_22 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.171.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_22 = false;\n}\n}else {\n    msg.reConnector_22 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1329,"y":4690,"wires":[["e88f1f07.68e29"]]},{"id":"a4073966.e89dc8","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-23","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_23');\nvar index = global.get('deviceProfile_23_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_23_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_23', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":998,"y":3265,"wires":[["f0e7dfc5.b9027"]]},{"id":"d638304a.33589","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-23","func":"var device_profile = global.get('deviceProfile_23');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_23_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_23_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_23_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_23_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_23_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-23')\n    global.set('deviceProfile_23_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_23_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_23_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_23_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_23_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_23_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_23_ReadIndex', index);  \n  global.set('stop_deviceProfile_23', false);\n  global.set('stop_to_read_deviceProfile_23_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_23_dataPacket', false);\n    global.set('deviceProfile_23_ReadIndex', 0);\n    global.set(\"deviceProfile_23_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_23', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_23_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_23_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_23_Index');\n        index += 1;\n        global.set('deviceProfile_23_Index', index);\n        global.set('stop_deviceProfile_23', true);\n        global.set('stop_to_read_deviceProfile_23_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_23_dataPacket', false);\n        global.set('stop_deviceProfile_23', false);\n        global.set('deviceProfile_23_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1919,"y":3261,"wires":[["d6b3ed49.4306a"]]},{"id":"d6b3ed49.4306a","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_23","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2140,"y":3260.4285888671875,"wires":[["489e84c9.91560c","c7a9946e.d22228"]]},{"id":"927c2926.5d6c78","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1429.2857055664062,"y":3261.142852783203,"wires":[["a7d57aa3.e3b388"]]},{"id":"be8e41f4.c4c17","type":"function","z":"daf04b1d.e819c8","name":"Dp-23  Vikramshila/Aryabhatta/ INV-26, MET-19","func":"var deviceProfile_23 = [\n   {\n        deviceName: \"Inverter-26\",\n        deviceProfile: {\n            deviceNo: 26,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n   {\n        deviceName: \"Meter-19\",\n        deviceProfile: {\n            deviceNo: 19,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_23', deviceProfile_23);\nglobal.set('deviceProfile_23_Index', 0);\nglobal.set('deviceProfile_23_ReadIndex', 0);\nglobal.set('deviceProfile_23_StoreData', []);  \nglobal.set(\"deviceProfile_23_Count\", 0);\nglobal.set(\"deviceProfile_23_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":631,"y":3266,"wires":[["a4073966.e89dc8"]]},{"id":"489e84c9.91560c","type":"debug","z":"daf04b1d.e819c8","name":"10.72.255.142","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2329,"y":3261,"wires":[]},{"id":"c08fa2c5.e635a","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-24","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_24');\nvar index = global.get('deviceProfile_24_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_24_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_24', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1001,"y":3325,"wires":[["8f820708.9c7108"]]},{"id":"8061c79e.ed8f38","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-24","func":"var device_profile = global.get('deviceProfile_24');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_24_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_24_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_24_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_24_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_24_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-24')\n    global.set('deviceProfile_24_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_24_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_24_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_24_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_24_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_24_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_24_ReadIndex', index);  \n  global.set('stop_deviceProfile_24', false);\n  global.set('stop_to_read_deviceProfile_24_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_24_dataPacket', false);\n    global.set('deviceProfile_24_ReadIndex', 0);\n    global.set(\"deviceProfile_24_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_24', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_24_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_24_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_24_Index');\n        index += 1;\n        global.set('deviceProfile_24_Index', index);\n        global.set('stop_deviceProfile_24', true);\n        global.set('stop_to_read_deviceProfile_24_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_24_dataPacket', false);\n        global.set('stop_deviceProfile_24', false);\n        global.set('deviceProfile_24_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1920,"y":3321,"wires":[["331a24e8.b5a9ac"]]},{"id":"331a24e8.b5a9ac","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_24","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2142,"y":3320.4285888671875,"wires":[["3b827802.67e6c8","c7a9946e.d22228"]]},{"id":"3cc1d520.381dca","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1435.2857055664062,"y":3321.142852783203,"wires":[["1d98ee43.f37fb2"]]},{"id":"7920411.8c520c","type":"function","z":"daf04b1d.e819c8","name":"Dp-24  Vikramshila/kalidas/ INV-27, MET-20","func":"var deviceProfile_24 = [\n   {\n        deviceName: \"Inverter-27\",\n        deviceProfile: {\n            deviceNo: 27,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n   {\n        deviceName: \"Meter-20\",\n        deviceProfile: {\n            deviceNo: 20,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_24', deviceProfile_24);\nglobal.set('deviceProfile_24_Index', 0);\nglobal.set('deviceProfile_24_ReadIndex', 0);\nglobal.set('deviceProfile_24_StoreData', []);  \nglobal.set(\"deviceProfile_24_Count\", 0);\nglobal.set(\"deviceProfile_24_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":621,"y":3326,"wires":[["c08fa2c5.e635a"]]},{"id":"3b827802.67e6c8","type":"debug","z":"daf04b1d.e819c8","name":"10.72.255.143","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2331,"y":3321,"wires":[]},{"id":"7c4907e7.488d38","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-23","scope":["d638304a.33589"],"uncaught":false,"x":610,"y":1713,"wires":[["5b30c69b.1c4678"]]},{"id":"5b30c69b.1c4678","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_23","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":767,"y":1713,"wires":[["a4073966.e89dc8"]]},{"id":"66a95385.be023c","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-24","scope":["8061c79e.ed8f38"],"uncaught":false,"x":610,"y":1767,"wires":[["3b654357.d9141c"]]},{"id":"3b654357.d9141c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_24","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":767,"y":1767,"wires":[["c08fa2c5.e635a"]]},{"id":"90fcd08e.514e9","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-23","scope":["d638304a.33589"],"uncaught":false,"x":580,"y":4734,"wires":[["e8f156db.5c74f8"]]},{"id":"e8f156db.5c74f8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_23_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":775,"y":4734,"wires":[["a4073966.e89dc8"]]},{"id":"9b8fb97d.187458","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-24","scope":["8061c79e.ed8f38"],"uncaught":false,"x":582,"y":4794,"wires":[["e830af4f.32029"]]},{"id":"e830af4f.32029","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_24_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":777,"y":4794,"wires":[["c08fa2c5.e635a"]]},{"id":"f0e7dfc5.b9027","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.72.255.142","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"71baa096.05ffe","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1234,"y":3265,"wires":[["927c2926.5d6c78"],[]]},{"id":"8f820708.9c7108","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.72.255.143","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"de5c726f.8663a","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1234,"y":3325,"wires":[["3cc1d520.381dca"],[]]},{"id":"a3425231.5bbd4","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1436.2857055664062,"y":3377.142852783203,"wires":[["9006f2dd.596cf"]]},{"id":"afe75304.88ede","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-25","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_25');\nvar index = global.get('deviceProfile_25_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_25_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_25', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1004,"y":3379,"wires":[["67a67b5e.a04da4"]]},{"id":"ec91359.61ca3c8","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-25","func":"var device_profile = global.get('deviceProfile_25');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_25_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_25_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_25_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_25_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_25_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-25')\n    global.set('deviceProfile_25_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_25_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_25_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_25_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_25_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_25_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_25_ReadIndex', index);  \n  global.set('stop_deviceProfile_25', false);\n  global.set('stop_to_read_deviceProfile_25_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_25_dataPacket', false);\n    global.set('deviceProfile_25_ReadIndex', 0);\n    global.set(\"deviceProfile_25_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_25', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_25_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_25_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_25_Index');\n        index += 1;\n        global.set('deviceProfile_25_Index', index);\n        global.set('stop_deviceProfile_25', true);\n        global.set('stop_to_read_deviceProfile_25_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_25_dataPacket', false);\n        global.set('stop_deviceProfile_25', false);\n        global.set('deviceProfile_25_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1922,"y":3376,"wires":[["749763ab.fe4f5c"]]},{"id":"749763ab.fe4f5c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_25","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2145,"y":3374.4285888671875,"wires":[["463316b8.fa39a8","e38d0216.249b7"]]},{"id":"463316b8.fa39a8","type":"debug","z":"daf04b1d.e819c8","name":"10.72.255.143","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2327.66650390625,"y":3374.333251953125,"wires":[]},{"id":"44f81b1.d2760e4","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-25","scope":["ec91359.61ca3c8"],"uncaught":false,"x":583,"y":4850,"wires":[["ff2f7984.1b0ba8"]]},{"id":"ff2f7984.1b0ba8","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_25_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":778,"y":4850,"wires":[["afe75304.88ede"]]},{"id":"7a1b3a4b.8c3244","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-25","scope":["ec91359.61ca3c8"],"uncaught":false,"x":611,"y":1820,"wires":[["6b8ac230.4c919c"]]},{"id":"6b8ac230.4c919c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_25","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":768,"y":1820,"wires":[["afe75304.88ede"]]},{"id":"2780831d.935b4c","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-6","func":"var device_profile = global.get('deviceProfile_6');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_6_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_6_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_6_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_6_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_6_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-6')\n    global.set('deviceProfile_6_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_6_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_6_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_6_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_6_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_6_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_6_ReadIndex', index);  \n  global.set('stop_deviceProfile_6', false);\n  global.set('stop_to_read_deviceProfile_6_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_6_dataPacket', false);\n    global.set('deviceProfile_6_ReadIndex', 0);\n    global.set(\"deviceProfile_6_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_6', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_6_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_6_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_6_Index');\n        index += 1;\n        global.set('deviceProfile_6_Index', index);\n        global.set('stop_deviceProfile_6', true);\n        global.set('stop_to_read_deviceProfile_6_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_6_dataPacket', false);\n        global.set('stop_deviceProfile_6', false);\n        global.set('deviceProfile_6_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1900,"y":2290,"wires":[["2936bb9c.d128f4"]]},{"id":"2a1e64ad.a55f0c","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-7","func":"var device_profile = global.get('deviceProfile_7');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_7_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_7_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_7_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_7_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_7_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-7')\n    global.set('deviceProfile_7_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_7_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_7_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_7_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_7_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_7_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_7_ReadIndex', index);  \n  global.set('stop_deviceProfile_7', false);\n  global.set('stop_to_read_deviceProfile_7_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_7_dataPacket', false);\n    global.set('deviceProfile_7_ReadIndex', 0);\n    global.set(\"deviceProfile_7_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_7', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_7_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_7_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_7_Index');\n        index += 1;\n        global.set('deviceProfile_7_Index', index);\n        global.set('stop_deviceProfile_7', true);\n        global.set('stop_to_read_deviceProfile_7_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_7_dataPacket', false);\n        global.set('stop_deviceProfile_7', false);\n        global.set('deviceProfile_7_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1900,"y":2341,"wires":[["cfcf3d1c.f21c1"]]},{"id":"d7696c56.1dda2","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-8","func":"var device_profile = global.get('deviceProfile_8');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_8_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_8_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_8_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_8_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_8_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-8')\n    global.set('deviceProfile_8_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_8_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_8_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_8_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_8_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_8_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_8_ReadIndex', index);  \n  global.set('stop_deviceProfile_8', false);\n  global.set('stop_to_read_deviceProfile_8_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_8_dataPacket', false);\n    global.set('deviceProfile_8_ReadIndex', 0);\n    global.set(\"deviceProfile_8_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_8', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_8_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_8_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_8_Index');\n        index += 1;\n        global.set('deviceProfile_8_Index', index);\n        global.set('stop_deviceProfile_8', true);\n        global.set('stop_to_read_deviceProfile_8_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_8_dataPacket', false);\n        global.set('stop_deviceProfile_8', false);\n        global.set('deviceProfile_8_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1902,"y":2394,"wires":[["d8ec9f25.c643f"]]},{"id":"5375d95c.b1e878","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-9","func":"var device_profile = global.get('deviceProfile_9');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_9_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_9_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_9_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_9_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_9_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-9')\n    global.set('deviceProfile_9_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_9_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0\n     }\n    }\n    // global.set('ip141_Data', msg.payloadData);\n    \n    global.set('deviceProfile_9_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_9_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_9_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_9_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_9_ReadIndex', index);  \n  global.set('stop_deviceProfile_9', false);\n  global.set('stop_to_read_deviceProfile_9_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_9_dataPacket', false);\n    global.set('deviceProfile_9_ReadIndex', 0);\n    global.set(\"deviceProfile_9_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_9', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_9_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_9_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_9_Index');\n        index += 1;\n        global.set('deviceProfile_9_Index', index);\n        global.set('stop_deviceProfile_9', true);\n        global.set('stop_to_read_deviceProfile_9_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_9_dataPacket', false);\n        global.set('stop_deviceProfile_9', false);\n        global.set('deviceProfile_9_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1901,"y":2449,"wires":[["c52f037.d6606"]]},{"id":"814c860b.1f95a8","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-10","func":"var device_profile = global.get('deviceProfile_10');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_10_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_10_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_10_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_10_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    \n    let errorCount = global.get('deviceProfile_10_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-10')\n    global.set('deviceProfile_10_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_10_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    // global.set('ip142_Data',  msg.payloadData);\n    \n    global.set('deviceProfile_10_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_10_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_10_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_10_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_10_ReadIndex', index);  \n  global.set('stop_deviceProfile_10', false);\n  global.set('stop_to_read_deviceProfile_10_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_10_dataPacket', false);\n    global.set('deviceProfile_10_ReadIndex', 0);\n    global.set(\"deviceProfile_10_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_10', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_10_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_10_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_10_Index');\n        index += 1;\n        global.set('deviceProfile_10_Index', index);\n        global.set('stop_deviceProfile_10', true);\n        global.set('stop_to_read_deviceProfile_10_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_10_dataPacket', false);\n        global.set('stop_deviceProfile_10', false);\n        global.set('deviceProfile_10_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1912,"y":2503,"wires":[["6c5a8972.5cbde8"]]},{"id":"d344e203.2863f","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-11","func":"//  let data = global.get('ip141_Data');\n// msg.payloadData = data;\n// // node.warn('----1')\n// msg.payloadData.request.DeviceNo = 11;\n// // msg.payloadData = msg.payloadData;\n// global.set('send_Data_deviceProfile_11', true);\n// return msg;\n\n\nvar device_profile = global.get('deviceProfile_11');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_11_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_11_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_11_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_11_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_11_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-11')\n    global.set('deviceProfile_11_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_11_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_11_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_11_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_11_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_11_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_11_ReadIndex', index);  \n  global.set('stop_deviceProfile_11', false);\n  global.set('stop_to_read_deviceProfile_11_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_11_dataPacket', false);\n    global.set('deviceProfile_11_ReadIndex', 0);\n    global.set(\"deviceProfile_11_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_11', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_11_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_11_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_11_Index');\n        index += 1;\n        global.set('deviceProfile_11_Index', index);\n        global.set('stop_deviceProfile_11', true);\n        global.set('stop_to_read_deviceProfile_11_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_11_dataPacket', false);\n        global.set('stop_deviceProfile_11', false);\n        global.set('deviceProfile_11_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1902,"y":2555,"wires":[["93541be7.255158"]]},{"id":"435c7a23.6511b4","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-12","func":"//  let data = global.get('ip142_Data');\n// msg.payloadData = data;\n// // node.warn('----1')\n// msg.payloadData.request.DeviceNo = 12;\n// // msg.payloadData = msg.payloadData;\n// global.set('send_Data_deviceProfile_12', true);\n// return msg;\n\n\nvar device_profile = global.get('deviceProfile_12');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_12_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_12_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_12_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_12_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_12_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-12')\n    global.set('deviceProfile_12_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_12_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_12_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_12_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_12_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_12_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_12_ReadIndex', index);  \n  global.set('stop_deviceProfile_12', false);\n  global.set('stop_to_read_deviceProfile_12_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_12_dataPacket', false);\n    global.set('deviceProfile_12_ReadIndex', 0);\n    global.set(\"deviceProfile_12_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_12', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_12_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_12_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_12_Index');\n        index += 1;\n        global.set('deviceProfile_12_Index', index);\n        global.set('stop_deviceProfile_12', true);\n        global.set('stop_to_read_deviceProfile_12_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_12_dataPacket', false);\n        global.set('stop_deviceProfile_12', false);\n        global.set('deviceProfile_12_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1912,"y":2609,"wires":[["149bdfd.8d57d2"]]},{"id":"8077a777.543148","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-13","func":"var device_profile = global.get('deviceProfile_13');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_13_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_13_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_13_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_13_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_13_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-13')\n    global.set('deviceProfile_13_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_13_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_13_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_13_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_13_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_13_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_13_ReadIndex', index);  \n  global.set('stop_deviceProfile_13', false);\n  global.set('stop_to_read_deviceProfile_13_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_13_dataPacket', false);\n    global.set('deviceProfile_13_ReadIndex', 0);\n    global.set(\"deviceProfile_13_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_13', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_13_Count\");\n    deviceCount += 1;\n    global.set('deviceProfile_13_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_13_Index');\n        index += 1;\n        global.set('deviceProfile_13_Index', index);\n        global.set('stop_deviceProfile_13', true);\n        global.set('stop_to_read_deviceProfile_13_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_13_dataPacket', false);\n        global.set('stop_deviceProfile_13', false);\n        global.set('deviceProfile_13_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1910.2857055664062,"y":2669.142852783203,"wires":[["a0cd187b.31e1c8"]]},{"id":"8b85cf66.791fc","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-14","func":"var device_profile = global.get('deviceProfile_14');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_14_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_14_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_14_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_14_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_14_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-14')\n    global.set('deviceProfile_14_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_14_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_14_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_14_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_14_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_14_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_14_ReadIndex', index);  \n  global.set('stop_deviceProfile_14', false);\n  global.set('stop_to_read_deviceProfile_14_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_14_dataPacket', false);\n    global.set('deviceProfile_14_ReadIndex', 0);\n    global.set(\"deviceProfile_14_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_14', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_14_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_14_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_14_Index');\n        index += 1;\n        global.set('deviceProfile_14_Index', index);\n        global.set('stop_deviceProfile_14', true);\n        global.set('stop_to_read_deviceProfile_14_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_14_dataPacket', false);\n        global.set('stop_deviceProfile_14', false);\n        global.set('deviceProfile_14_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1911.2857055664062,"y":2725.142852783203,"wires":[["2693fc41.424a64"]]},{"id":"9aaaebfa.884f68","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-15","func":"var device_profile = global.get('deviceProfile_15');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_15_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_15_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_15_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_15_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_15_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-15')\n    global.set('deviceProfile_15_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_15_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_15_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_15_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_15_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_15_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_15_ReadIndex', index);  \n  global.set('stop_deviceProfile_15', false);\n  global.set('stop_to_read_deviceProfile_15_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_15_dataPacket', false);\n    global.set('deviceProfile_15_ReadIndex', 0);\n    global.set(\"deviceProfile_15_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_15', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_15_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_15_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_15_Index');\n        index += 1;\n        global.set('deviceProfile_15_Index', index);\n        global.set('stop_deviceProfile_15', true);\n        global.set('stop_to_read_deviceProfile_15_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_15_dataPacket', false);\n        global.set('stop_deviceProfile_15', false);\n        global.set('deviceProfile_15_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1910.2857055664062,"y":2786.142852783203,"wires":[["685e264.34a1dd8"]]},{"id":"3e8a75c2.1b8c0a","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-16","func":"var device_profile = global.get('deviceProfile_16');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_16_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_16_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_16_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_16_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_16_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-16')\n    global.set('deviceProfile_16_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_16_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_16_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_16_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_16_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_16_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_16_ReadIndex', index);  \n  global.set('stop_deviceProfile_16', false);\n  global.set('stop_to_read_deviceProfile_16_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_16_dataPacket', false);\n    global.set('deviceProfile_16_ReadIndex', 0);\n    global.set(\"deviceProfile_16_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_16', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_16_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_16_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_16_Index');\n        index += 1;\n        global.set('deviceProfile_16_Index', index);\n        global.set('stop_deviceProfile_16', true);\n        global.set('stop_to_read_deviceProfile_16_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_16_dataPacket', false);\n        global.set('stop_deviceProfile_16', false);\n        global.set('deviceProfile_16_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1911.2857055664062,"y":2847.142852783203,"wires":[["f5607073.cadd1"]]},{"id":"1e21584b.7cd698","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-17","func":"var device_profile = global.get('deviceProfile_17');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_17_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_17_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_17_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_17_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_17_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-17')\n    global.set('deviceProfile_17_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_17_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n        \"DataLength\": data.length\n     }\n    }\n    global.set('deviceProfile_17_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_17_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_17_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_17_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_17_ReadIndex', index);  \n  global.set('stop_deviceProfile_17', false);\n  global.set('stop_to_read_deviceProfile_17_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_17_dataPacket', false);\n    global.set('deviceProfile_17_ReadIndex', 0);\n    global.set(\"deviceProfile_17_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_17', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_17_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_17_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_17_Index');\n        index += 1;\n        global.set('deviceProfile_17_Index', index);\n        global.set('stop_deviceProfile_17', true);\n        global.set('stop_to_read_deviceProfile_17_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_17_dataPacket', false);\n        global.set('stop_deviceProfile_17', false);\n        global.set('deviceProfile_17_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1911.2857055664062,"y":2904.142852783203,"wires":[["fcac73a3.23a9c"]]},{"id":"70de2a42.73fa94","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-18","func":"var device_profile = global.get('deviceProfile_18');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_18_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_18_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_18_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_18_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_18_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-18')\n    global.set('deviceProfile_18_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_18_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_18_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_18_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_18_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_18_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_18_ReadIndex', index);  \n  global.set('stop_deviceProfile_18', false);\n  global.set('stop_to_read_deviceProfile_18_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_18_dataPacket', false);\n    global.set('deviceProfile_18_ReadIndex', 0);\n    global.set(\"deviceProfile_18_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_18', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_18_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_18_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_18_Index');\n        index += 1;\n        global.set('deviceProfile_18_Index', index);\n        global.set('stop_deviceProfile_18', true);\n        global.set('stop_to_read_deviceProfile_18_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_18_dataPacket', false);\n        global.set('stop_deviceProfile_18', false);\n        global.set('deviceProfile_18_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1911.2857055664062,"y":2963.142852783203,"wires":[["af02816b.a96ac"]]},{"id":"26eaf3c3.048f4c","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-19","func":"var device_profile = global.get('deviceProfile_19');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_19_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_19_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_19_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_19_dataPacket_Count', dataPacket_Count);\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_19_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-19')\n    global.set('deviceProfile_19_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_19_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_19_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_19_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_19_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_19_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_19_ReadIndex', index);  \n  global.set('stop_deviceProfile_19', false);\n  global.set('stop_to_read_deviceProfile_19_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_19_dataPacket', false);\n    global.set('deviceProfile_19_ReadIndex', 0);\n    global.set(\"deviceProfile_19_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_19', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_19_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_19_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_19_Index');\n        index += 1;\n        global.set('deviceProfile_19_Index', index);\n        global.set('stop_deviceProfile_19', true);\n        global.set('stop_to_read_deviceProfile_19_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_19_dataPacket', false);\n        global.set('stop_deviceProfile_19', false);\n        global.set('deviceProfile_19_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1907.2857055664062,"y":3024.142852783203,"wires":[["e1a73b3f.6f7dd8"]]},{"id":"efaf53d3.23826","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-20","func":"var device_profile = global.get('deviceProfile_20');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_20_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_20_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_20_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_20_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_20_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-20')\n    global.set('deviceProfile_20_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_20_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_20_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_20_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_20_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_20_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_20_ReadIndex', index);  \n  global.set('stop_deviceProfile_20', false);\n  global.set('stop_to_read_deviceProfile_20_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_20_dataPacket', false);\n    global.set('deviceProfile_20_ReadIndex', 0);\n    global.set(\"deviceProfile_20_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_20', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_20_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_20_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_20_Index');\n        index += 1;\n        global.set('deviceProfile_20_Index', index);\n        global.set('stop_deviceProfile_20', true);\n        global.set('stop_to_read_deviceProfile_20_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_20_dataPacket', false);\n        global.set('stop_deviceProfile_20', false);\n        global.set('deviceProfile_20_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1906.2857055664062,"y":3082.142852783203,"wires":[["e19e4389.00dc9"]]},{"id":"df95bfa3.0498d","type":"http request","z":"daf04b1d.e819c8","name":"","method":"POST","ret":"txt","paytoqs":"ignore","url":"http://127.0.0.1/rms/api/insertData?LD=1,172,{{{deviceType}}},{{{deviceNo}}},{{{errFlag}}},{{{timeStamp}}}&ID={{{data}}}","tls":"","persist":false,"proxy":"","authType":"","x":2121,"y":3619,"wires":[["46c5cfbd.a65e4"]]},{"id":"acc1f0fa.39bca","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_23","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1510,"y":4740,"wires":[["5d16443f.fdfedc"]]},{"id":"55a3af0d.b6d47","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.72.255.142\"){\n     msg.reConnector_23 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.72.255.142', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_23 = false;\n}\n}else {\n    msg.reConnector_23 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1331,"y":4740,"wires":[["acc1f0fa.39bca"]]},{"id":"efa6bee4.0e08a","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_24","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1514,"y":4794,"wires":[["9dab4424.36d5d8"]]},{"id":"f0a5913d.52595","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.72.255.143\"){\n     msg.reConnector_24 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.72.255.143', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_24 = false;\n}\n}else {\n    msg.reConnector_24 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1335,"y":4794,"wires":[["efa6bee4.0e08a"]]},{"id":"5d16443f.fdfedc","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.72.255.142","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"71baa096.05ffe","x":1700,"y":4740,"wires":[[]]},{"id":"9dab4424.36d5d8","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.72.255.143","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"de5c726f.8663a","x":1697,"y":4794,"wires":[[]]},{"id":"9e93f599.c1ffb8","type":"function","z":"daf04b1d.e819c8","name":"Dp-25 Aerospace/Main/ INV-30, MET-22","func":"var deviceProfile_25 = [\n   {\n        deviceName: \"Inverter-30\",\n        deviceProfile: {\n            deviceNo: 30,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n   {\n        deviceName: \"Meter-22\",\n        deviceProfile: {\n            deviceNo: 22,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_25', deviceProfile_25);\nglobal.set('deviceProfile_25_Index', 0);\nglobal.set('deviceProfile_25_ReadIndex', 0);\nglobal.set('deviceProfile_25_StoreData', []);  \nglobal.set(\"deviceProfile_25_Count\", 0);\nglobal.set(\"deviceProfile_25_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":616,"y":3380,"wires":[["afe75304.88ede"]]},{"id":"86ea1779.7d22b8","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1440,"y":3440,"wires":[["a121bac0.e84558"]]},{"id":"c01b21cf.e1245","type":"function","z":"daf04b1d.e819c8","name":"Dp-26 Architechure/Main/ INV-31, MET-23","func":"var deviceProfile_26 = [\n   {\n        deviceName: \"Inverter-31\",\n        deviceProfile: {\n            deviceNo: 31,\n            deviceType: 3\n        },\n        read: {\n            slaveID: 2,\n            regAdd: [\n                    // Start 16 bits\n                    {\n                        fc: 4,\n                        address: 5002,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5007,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5010,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5018,\n                        quantity: 6\n                    },\n                    {\n                        fc: 4,\n                        address: 5035,\n                        quantity: 3\n                    },\n                    {\n                        fc: 4,\n                        address: 5044,\n                        quantity: 1\n                    },\n                    {\n                        fc: 4,\n                        address: 5114,\n                        quantity: 10\n                    },\n                    {\n                        fc: 4,\n                        address: 5129,\n                        quantity: 8\n                    },\n                    // Start 32 bits\n                    {\n                        fc: 4,\n                        address: 5003,\n                        quantity: 4\n                    },\n                    {\n                        fc: 4,\n                        address: 5016,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 5030,\n                        quantity: 2\n                    },\n                    {\n                        fc: 4,\n                        address: 7012,\n                        quantity: 24\n                    },\n                    \n                ]\n        }\n    },\n   {\n        deviceName: \"Meter-23\",\n        deviceProfile: {\n            deviceNo: 23,\n            deviceType: 182\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 2699,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 2999,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 3009,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 3059,\n                        quantity: 2\n                    }\n                ]\n        }\n    }\n    \n    ]\n\nglobal.set('deviceProfile_26', deviceProfile_26);\nglobal.set('deviceProfile_26_Index', 0);\nglobal.set('deviceProfile_26_ReadIndex', 0);\nglobal.set('deviceProfile_26_StoreData', []);  \nglobal.set(\"deviceProfile_26_Count\", 0);\nglobal.set(\"deviceProfile_26_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":614.7142944335938,"y":3442.857147216797,"wires":[["fb34cb34.218c58"]]},{"id":"fb34cb34.218c58","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-26","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_26');\nvar index = global.get('deviceProfile_26_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_26_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_26', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1003.7142944335938,"y":3441.857147216797,"wires":[["dea87e64.513d8"]]},{"id":"e6a945bb.26bc88","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-26","func":"var device_profile = global.get('deviceProfile_26');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_26_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_26_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_26_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_26_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_26_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-26')\n    global.set('deviceProfile_26_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_26_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n     }\n    }\n    global.set('deviceProfile_26_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_26_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_26_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_26_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_26_ReadIndex', index);  \n  global.set('stop_deviceProfile_26', false);\n  global.set('stop_to_read_deviceProfile_26_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_26_dataPacket', false);\n    global.set('deviceProfile_26_ReadIndex', 0);\n    global.set(\"deviceProfile_26_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_26', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_26_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_26_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_26_Index');\n        index += 1;\n        global.set('deviceProfile_26_Index', index);\n        global.set('stop_deviceProfile_26', true);\n        global.set('stop_to_read_deviceProfile_26_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_26_dataPacket', false);\n        global.set('stop_deviceProfile_26', false);\n        global.set('deviceProfile_26_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1925.7142944335938,"y":3438.857147216797,"wires":[["4a9964ae.bf303c"]]},{"id":"4a9964ae.bf303c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_26","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2148.7142944335938,"y":3437.2857360839844,"wires":[["85c90a54.6d3188","e38d0216.249b7"]]},{"id":"85c90a54.6d3188","type":"debug","z":"daf04b1d.e819c8","name":"10.72.255.143","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2331.3807983398438,"y":3437.190399169922,"wires":[]},{"id":"e3dbc7eb.af5528","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-26","scope":["e6a945bb.26bc88"],"uncaught":false,"x":582,"y":4906,"wires":[["ce36dea7.8e18c"]]},{"id":"ce36dea7.8e18c","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_26_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":777,"y":4906,"wires":[["fb34cb34.218c58"]]},{"id":"3ca69e16.432a12","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-26","scope":["e6a945bb.26bc88"],"uncaught":false,"x":611,"y":1875,"wires":[["a35f4e47.95a92"]]},{"id":"a35f4e47.95a92","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_26","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":768,"y":1875,"wires":[["fb34cb34.218c58"]]},{"id":"dea87e64.513d8","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.75.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"31852756.dba8b8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1236.3919677734375,"y":3441.88818359375,"wires":[["86ea1779.7d22b8"],[]]},{"id":"4a3cf77.ceb9e08","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_25","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1518,"y":4849,"wires":[["f8b8cb41.53f4f8"]]},{"id":"107e4906.5babb7","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.75.255.140\"){\n     msg.reConnector_25 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.75.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_25 = false;\n}\n}else {\n    msg.reConnector_25 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1339,"y":4849,"wires":[["4a3cf77.ceb9e08"]]},{"id":"f8b8cb41.53f4f8","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.75.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"31852756.dba8b8","x":1701,"y":4849,"wires":[[]]},{"id":"67a67b5e.a04da4","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.25.255.140","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"2ddb09c.552c6f6","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1240,"y":3379,"wires":[["a3425231.5bbd4"],[]]},{"id":"236bd518.0c089a","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_26","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1519,"y":4906,"wires":[["c5a2d1f6.c1a97"]]},{"id":"8445bcb8.3a068","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.25.255.140\"){\n     msg.reConnector_26 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.25.255.140', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_26 = false;\n}\n}else {\n    msg.reConnector_26 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1340,"y":4906,"wires":[["236bd518.0c089a"]]},{"id":"c5a2d1f6.c1a97","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.25.255.140","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"2ddb09c.552c6f6","x":1702,"y":4906,"wires":[[]]},{"id":"446e665e.f16808","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1639,"y":2019,"wires":[["ee0f44a.7ef3fb8"]]},{"id":"2ebf2dd9.6f8112","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1639,"y":2072,"wires":[["20193036.68001"]]},{"id":"9a4e714c.4e719","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1640,"y":2129,"wires":[["94c88926.938418"]]},{"id":"9e7260b6.87478","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1642,"y":2183,"wires":[["3ccecf11.0189c"]]},{"id":"833ef530.7b3b98","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1643,"y":2235,"wires":[["eb08f4e.5e8a508"]]},{"id":"d5701236.284f6","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1636,"y":3145,"wires":[["f440c39e.72c68"]]},{"id":"a4b03e82.5f20e","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1636,"y":3204,"wires":[["feaa2275.139ba"]]},{"id":"a7d57aa3.e3b388","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1641,"y":3261,"wires":[["d638304a.33589"]]},{"id":"1d98ee43.f37fb2","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1643,"y":3321,"wires":[["8061c79e.ed8f38"]]},{"id":"9006f2dd.596cf","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1644,"y":3377,"wires":[["ec91359.61ca3c8"]]},{"id":"7a4f4dbc.b2f454","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2290,"wires":[["2780831d.935b4c"]]},{"id":"7a64f369.10e60c","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2341,"wires":[["2a1e64ad.a55f0c"]]},{"id":"6da79509.602f2c","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2394,"wires":[["d7696c56.1dda2"]]},{"id":"e3f1f4e5.e98368","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2449,"wires":[["5375d95c.b1e878"]]},{"id":"8af17609.c3b068","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2503,"wires":[["814c860b.1f95a8"]]},{"id":"c1f66152.2bb7d","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1642,"y":2554,"wires":[["d344e203.2863f"]]},{"id":"faed227a.c2e04","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2609,"wires":[["435c7a23.6511b4"]]},{"id":"a56b0ac1.027138","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2669,"wires":[["8077a777.543148"]]},{"id":"18f77a8f.ca0435","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2725,"wires":[["8b85cf66.791fc"]]},{"id":"6520f3b2.14996c","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2786,"wires":[["9aaaebfa.884f68"]]},{"id":"27f6de83.7dcb92","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2847,"wires":[["3e8a75c2.1b8c0a"]]},{"id":"d61171f0.20e5","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2904,"wires":[["1e21584b.7cd698"]]},{"id":"5dfe8958.d4bf58","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":2963,"wires":[["70de2a42.73fa94"]]},{"id":"bdd55c6c.b7ed1","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":3024,"wires":[["26eaf3c3.048f4c"]]},{"id":"998632f3.c1a9c","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1638,"y":3082,"wires":[["efaf53d3.23826"]]},{"id":"a121bac0.e84558","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1647.7142944335938,"y":3439.857147216797,"wires":[["e6a945bb.26bc88"]]},{"id":"d19b4e4c.a73dd","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":312,"y":80,"wires":[["70787aae.b92644"]]},{"id":"aab86016.fcda5","type":"function","z":"daf04b1d.e819c8","name":"Dp-27 Grid /  MET-46, MET-47, MET-48, MET-49, MET-50","func":"var deviceProfile_27 = [\n   {\n        deviceName: \"Meter-46\",\n        deviceProfile: {\n            deviceNo: 46,\n            deviceType: 178\n        },\n        read: {\n            slaveID: 1,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 99,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 113,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 133,\n                        quantity: 14\n                    },\n                    {\n                        fc: 3,\n                        address: 149,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 163,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 171,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 199,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 219,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 215,\n                        quantity: 4\n                    }\n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-47\",\n        deviceProfile: {\n            deviceNo: 47,\n            deviceType: 178\n        },\n        read: {\n            slaveID: 2,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 99,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 113,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 133,\n                        quantity: 14\n                    },\n                    {\n                        fc: 3,\n                        address: 149,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 163,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 171,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 199,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 219,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 215,\n                        quantity: 4\n                    }\n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-48\",\n        deviceProfile: {\n            deviceNo: 48,\n            deviceType: 178\n        },\n        read: {\n            slaveID: 3,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 99,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 113,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 133,\n                        quantity: 14\n                    },\n                    {\n                        fc: 3,\n                        address: 149,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 163,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 171,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 199,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 219,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 215,\n                        quantity: 4\n                    }\n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-49\",\n        deviceProfile: {\n            deviceNo: 49,\n            deviceType: 178\n        },\n        read: {\n            slaveID: 4,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 99,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 113,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 133,\n                        quantity: 14\n                    },\n                    {\n                        fc: 3,\n                        address: 149,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 163,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 171,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 199,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 219,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 215,\n                        quantity: 4\n                    }\n                ]\n        }\n    },\n    {\n        deviceName: \"Meter-50\",\n        deviceProfile: {\n            deviceNo: 50,\n            deviceType: 178\n        },\n        read: {\n            slaveID: 5,\n             regAdd: [\n                    // Start 32 bits\n                    {\n                        fc: 3,\n                        address: 99,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 113,\n                        quantity: 8\n                    },\n                    {\n                        fc: 3,\n                        address: 133,\n                        quantity: 14\n                    },\n                    {\n                        fc: 3,\n                        address: 149,\n                        quantity: 6\n                    },\n                    {\n                        fc: 3,\n                        address: 163,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 171,\n                        quantity: 2\n                    },\n                    {\n                        fc: 3,\n                        address: 199,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 219,\n                        quantity: 4\n                    },\n                    {\n                        fc: 3,\n                        address: 215,\n                        quantity: 4\n                    }\n                ]\n        }\n    }\n    ]\n\nglobal.set('deviceProfile_27', deviceProfile_27);\nglobal.set('deviceProfile_27_Index', 0);\nglobal.set('deviceProfile_27_ReadIndex', 0);\nglobal.set('deviceProfile_27_StoreData', []);  \nglobal.set(\"deviceProfile_27_Count\", 0);\nglobal.set(\"deviceProfile_27_dataPacket_Count\", null);\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":607,"y":3500,"wires":[["84915a87.ffaf08"]]},{"id":"84915a87.ffaf08","type":"function","z":"daf04b1d.e819c8","name":"Read Device Profile-27","func":"var readData = (fc, slaveID, address, quantity) => {\n        msg.payload = {\n        'fc': fc,\n        'unitid': slaveID,\n        'address': address, \n        'quantity': quantity\n} \n}\n// node.warn('1111111')\n\nvar device_profile = global.get('deviceProfile_27');\nvar index = global.get('deviceProfile_27_Index');\nvar profile = device_profile[index];\n\nvar regAdd = profile.read.regAdd;\nvar readIndex = global.get('deviceProfile_27_ReadIndex');\nvar readValue = regAdd[readIndex];\n\nvar slaveID = profile.read.slaveID;\n// var slaveID = 2\nvar fc = readValue.fc;\nvar address = readValue.address;\nvar quantity = readValue.quantity;\n\nglobal.set('send_Data_deviceProfile_27', false);\nreadData(fc, slaveID, address, quantity);\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1004,"y":3501,"wires":[["7ba81132.aa915"]]},{"id":"900ec8d0.c82e08","type":"delay","z":"daf04b1d.e819c8","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1437,"y":3503,"wires":[["41e1a0ff.a6456"]]},{"id":"41e1a0ff.a6456","type":"moment","z":"daf04b1d.e819c8","name":"","topic":"","input":"","inputType":"date","inTz":"Asia/Calcutta","adjAmount":0,"adjType":"days","adjDir":"add","format":"YYYY-MM-DD HH:mm:ss","locale":"en-US","output":"timeStamp","outputType":"msg","outTz":"Asia/Calcutta","x":1644.7142944335938,"y":3502.857147216797,"wires":[["65788b69.c99eb4"]]},{"id":"65788b69.c99eb4","type":"function","z":"daf04b1d.e819c8","name":"Display data DeviceProfile-27","func":"var device_profile = global.get('deviceProfile_27');\nvar number_of_device = device_profile.length;\n\nvar index = global.get('deviceProfile_27_Index');\nvar profile = device_profile[index];\nvar regAdd =  profile.read.regAdd;\nvar number_Of_DataPacket = regAdd.length;\n\nglobal.set('stop_to_read_deviceProfile_27_dataPacket', false);\n\nvar dataPacket_Count =  global.get(\"deviceProfile_27_dataPacket_Count\") || 0;\n    dataPacket_Count += 1;\n    global.set('deviceProfile_27_dataPacket_Count', dataPacket_Count);\n\n\nvar displayData = () => {\n    let errorCount = global.get('deviceProfile_27_errorCount');\n    if(errorCount == 1){\n    node.warn('Data read successfully After Retry DeviceProfile-27')\n    global.set('deviceProfile_27_errorCount', null);\n    }\n    \n    let data = [];\n    let getStoreData = global.get('deviceProfile_27_StoreData');\n    \n    getStoreData.forEach(item => {\n        item.forEach(value => {\n            data.push(value);\n        })\n    })\n    \n    let finalData = data.toString();\n    let deviceType = profile.deviceProfile.deviceType;\n    let deviceNo = profile.deviceProfile.deviceNo;\n    let dateTime = msg.timeStamp;\n    \n    msg.payloadData = {\n     request: {\n        \"PlantID\": 172,\n        \"LoggerNo\": 1,\n        \"DeviceType\": deviceType,\n        \"DeviceNo\": deviceNo,\n        \"Data\": finalData,\n        \"TimeStamp\": dateTime,\n        \"Error\": 0,\n        \"DataLength\": data.length\n     }\n    }\n    global.set('deviceProfile_27_StoreData', []);\n}   \n\nvar storeData = () => {\n    // msg.payload = [1,2,3,4,5];\n    let getStoreData = global.get('deviceProfile_27_StoreData');\n    getStoreData.push(msg.payload);\n    global.set('deviceProfile_27_StoreData', getStoreData);\n}\n\nif(dataPacket_Count != number_Of_DataPacket){\n  // Storing Data  \n  storeData();\n  let index = global.get('deviceProfile_27_ReadIndex');\n  index += 1;  \n  global.set('deviceProfile_27_ReadIndex', index);  \n  global.set('stop_deviceProfile_27', false);\n  global.set('stop_to_read_deviceProfile_27_dataPacket', true);\n  \n}else {\n    // Storing Data  \n    storeData();\n    global.set('stop_to_read_deviceProfile_27_dataPacket', false);\n    global.set('deviceProfile_27_ReadIndex', 0);\n    global.set(\"deviceProfile_27_dataPacket_Count\", null);\n    global.set('send_Data_deviceProfile_27', true);\n    // display Data\n    displayData();\n\n    // Number of Device Loop\n    var deviceCount =  global.get(\"deviceProfile_27_Count\") \n    deviceCount += 1;\n    global.set('deviceProfile_27_Count', deviceCount);\n    \n    if(deviceCount != number_of_device ){\n        let index = global.get('deviceProfile_27_Index');\n        index += 1;\n        global.set('deviceProfile_27_Index', index);\n        global.set('stop_deviceProfile_27', true);\n        global.set('stop_to_read_deviceProfile_27_dataPacket', false);\n    }else {\n        global.set('stop_to_read_deviceProfile_27_dataPacket', false);\n        global.set('stop_deviceProfile_27', false);\n        global.set('deviceProfile_27_Count', null);\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1930.7142944335938,"y":3502.857147216797,"wires":[["2015c009.f9ddd"]]},{"id":"2015c009.f9ddd","type":"switch","z":"daf04b1d.e819c8","name":"","property":"send_Data_deviceProfile_27","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2145.7142944335938,"y":3501.2857360839844,"wires":[["4fed9415.b20dfc","e38d0216.249b7"]]},{"id":"4fed9415.b20dfc","type":"debug","z":"daf04b1d.e819c8","name":"10.106.11.12","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payloadData","targetType":"msg","statusVal":"","statusType":"auto","x":2390,"y":3560,"wires":[]},{"id":"444ecd63.f66164","type":"complete","z":"daf04b1d.e819c8","name":"Read Device Profile-27","scope":["65788b69.c99eb4"],"uncaught":false,"x":580,"y":4960,"wires":[["46263a1d.6f4784"]]},{"id":"46263a1d.6f4784","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_to_read_deviceProfile_27_dataPacket","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":775,"y":4960,"wires":[["84915a87.ffaf08"]]},{"id":"c9dc8870.1268c8","type":"complete","z":"daf04b1d.e819c8","name":"Device Profile-27","scope":["65788b69.c99eb4"],"uncaught":false,"x":611,"y":1929,"wires":[["be3c28c7.000e38"]]},{"id":"be3c28c7.000e38","type":"switch","z":"daf04b1d.e819c8","name":"","property":"stop_deviceProfile_27","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":768,"y":1929,"wires":[["84915a87.ffaf08"]]},{"id":"7ba81132.aa915","type":"modbus-flex-getter","z":"daf04b1d.e819c8","name":"10.106.11.12","showStatusActivities":true,"showErrors":true,"logIOActivities":false,"server":"65f96cd6.8bd324","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1230,"y":3500,"wires":[["900ec8d0.c82e08"],[]]},{"id":"2c4f7135.87027e","type":"switch","z":"daf04b1d.e819c8","name":"","property":"reConnector_27","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2033,"y":3753,"wires":[["aa127b00.207688"]]},{"id":"506a5556.afd73c","type":"function","z":"daf04b1d.e819c8","name":"","func":"if(msg.error.message == \"Error: Client Not Ready To Read At State init\"){\n    if(msg.error.source.name == \"10.106.11.12\"){\n     msg.reConnector_27 = true;\n     msg.payload = { \n        'connectorType': 'TCP', \n        'tcpHost': '10.106.11.12', \n        'unitId': 1\n    }\n}else {\n    msg.reConnector_27 = false;\n}\n}else {\n    msg.reConnector_27 = false;\n}\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1891,"y":3753,"wires":[["2c4f7135.87027e"]]},{"id":"aa127b00.207688","type":"modbus-flex-connector","z":"daf04b1d.e819c8","name":"10.106.11.12","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":true,"showErrors":true,"server":"65f96cd6.8bd324","x":2190,"y":3753,"wires":[[]]},{"id":"3eeb68b0.9a8ec8","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.102.255.141","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"23c65529.93cc2a","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.102.255.144","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"2000","parallelUnitIdsAllowed":true},{"id":"61e97fc4.09963","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.102.255.148","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"bcfe1aa.1662ee8","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.102.255.146","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"c92d523d.2ae47","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.102.255.150","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"25","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"2000","parallelUnitIdsAllowed":true},{"id":"9775a4e8.6941d8","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.102.255.152","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"180694d0.7abb2b","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.105.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"98bef830.026068","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.105.255.145","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"a2c3fa45.54e9b8","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.105.255.143","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"ccf13de4.2dfc6","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.105.255.144","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"1000","parallelUnitIdsAllowed":true},{"id":"6030c16.b268a4","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.105.255.141","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"1000","parallelUnitIdsAllowed":true},{"id":"1530d5c0.6fd18a","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.105.255.142","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"1000","parallelUnitIdsAllowed":true},{"id":"f51233cc.4eb5c","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.117.127.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"1000","parallelUnitIdsAllowed":true},{"id":"fe27caae.356a18","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.117.127.141","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"463fd387.314dec","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.109.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"2137969a.41a2fa","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":true,"queueLogEnabled":false,"tcpHost":"10.72.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"87afa2fb.21ad6","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.132.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"500","reconnectOnTimeout":true,"reconnectTimeout":"700","parallelUnitIdsAllowed":true},{"id":"1125a09b.7c720f","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.112.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"8ac25039.056fe","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.26.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"2cf4f96e.f99336","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.26.255.141","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"ed354e75.8eadc","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.19.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"c67648b.d593bb8","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.171.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"71baa096.05ffe","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.72.255.142","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"de5c726f.8663a","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.72.255.143","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"31852756.dba8b8","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.75.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"2ddb09c.552c6f6","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.25.255.140","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true},{"id":"65f96cd6.8bd324","type":"modbus-client","name":"","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"10.106.11.12","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"350","reconnectOnTimeout":true,"reconnectTimeout":"500","parallelUnitIdsAllowed":true}]